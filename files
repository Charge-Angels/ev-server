var _0x8ef4=['notifyUserDeleted','ACTION\x5fDELETE','notifyChargingStationUpdated','ENTITY\x5fCHARGING\x5fSTATION','ACTION\x5fUPDATE','notifyChargingStationCreated','ENTITY\x5fCHARGING\x5fSTATIONS','notifyChargingStationDeleted','notifyLoggingCreated','ENTITY\x5fLOGGING','entity','action','emit','passport','passport\x2djwt','ExtractJwt','jsonwebtoken','\x2e\x2e\x2f\x2e\x2e\x2fmodel\x2fUser','\x2e\x2e\x2f\x2e\x2e\x2futils\x2fConfiguration','\x2e\x2e\x2f\x2e\x2e\x2futils\x2fAuthorization','profileCompiler','getCentralSystemRestServiceConfig','userTokenKey','fromAuthHeader','jwt','exec','url','substring','method','POST','login','getUserByEmailPassword','body','hashPassword','getAuthorizationFromRoleID','stringify','sign','secretOrKey','userDemoTokenLifetimeDays','userTokenLifetimeHours','sendStatus','registeruser','checkIfUserValid','logActionErrorMessageAndSendResponse','The\x20email\x20','\x20already\x20exists','buildEvseURL','CentralServerRestAuthentication','\x20has\x20been\x20registered\x20successfully','N\x2fA','RegisterUser','logActionUnexpectedErrorMessageAndSendResponse','generatePassword','Password\x20has\x20been\x20reset\x20for\x20user\x20with\x20email\x20','Success','ResetPassword','send','\x20does\x20not\x20exist','The\x20Action\x20\x27','logout','node\x2dauthorization','Users','ChargingStations','Logging','Create','Read','Update','Delete','List','ACTION\x5fLIST','canPerformAction','ACTION\x5fREAD','ROLE\x5fADMIN','getAuthorizationConfig','auths','check','\x2e\x2e\x2f\x2e\x2e\x2futils\x2fUsers','GET','ping','checkemail','EMail','The\x20Charging\x20Station\x20ID\x20is\x20mandatory','logActionUnauthorizedMessageAndSendResponse','startsWith','currentpb','args','maxIntensity','CentralServerRestService','restServiceSecured','Change\x20Max\x20Instensity\x20Socket\x20of\x20Charging\x20Station\x20\x27','\x27\x20to\x20','\x27\x20for\x20Charging\x20Station\x20','Cannot\x20retrieve\x20the\x20max\x20intensity\x20socket\x20from\x20the\x20configuration\x20of\x20the\x20Charging\x20Station\x20','Cannot\x20retrieve\x20the\x20configuration\x20of\x20the\x20Charging\x20Station\x20','Charging\x20Station\x20with\x20ID\x20','ChargingStationClearCache','ChargingStationGetConfiguration','ChargingStationStopTransaction','ChargingStationUnlockConnector','ChargingStationReset','slice','canPerformActionOnChargingStation','Execute\x20action\x20\x27','\x27\x20on\x20Charging\x20Station\x20\x27','UserCreate','canCreateUser','setCreatedBy','getEMail','\x20has\x20been\x20created\x20successfully','Loggings','getLogs','query','DateFrom','Search','NumberOfLogs','canListChargingStations','getChargingStations','canReadChargingStation','ChargeBoxIdentity','canListUsers','canReadUser','isAdmin','UserByEmail','Email','The\x20User\x27s\x20email\x20is\x20mandatory','getUser','UserByTagId','TagId','The\x20User\x27s\x20Tag\x20ID\x20is\x20mandatory','getUserByTagId','ChargingStationTransactions','ConnectorId','StartDateTime','EndDateTime','ChargingStationTransaction','The\x20Transaction\x20ID\x20is\x20mandatory','TransactionId','Transaction\x20','ChargingStationLastTransaction','ChargingStationStatusNotifications','ChargingStationLastStatusNotification','The\x20Connector\x20ID\x20is\x20mandatory','Status\x20for\x20Charging\x20Station\x20','\x20with\x20Connector\x20ID\x20','ChargingStationConsumptionFromDateTimeRange','ChargingStationConsumptionFromTransaction','getConsumptionsFromTransaction','ChargingStationConfiguration','UserUpdate','\x20does\x20not\x20exist\x20anymore','canUpdateUser','UpdateUser','\x27\x20without\x20having\x20the\x20Admin\x20priviledge\x20\x28current\x20role\x3a\x20\x27','passwords','No\x20Action\x20has\x20been\x20provided','UserDelete','The\x20user\x27s\x20ID\x20must\x20be\x20provided','The\x20user\x20with\x20ID\x20','deleteUser','\x20has\x20been\x20deleted\x20successfully','ChargingStationDelete','The\x20charging\x20station\x27s\x20ID\x20must\x20be\x20provided','The\x20charging\x20station\x20with\x20ID\x20','deleteChargingStation','Ussuported\x20request\x20method\x20','\x2e\x2fstorage\x2fmongodb\x2fMongoDBStorage','\x2e\x2futils\x2fConfiguration','\x2e\x2fserver\x2fcharging\x2dstation\x2fsoap\x2fSoapCentralSystemServer','\x2e\x2fserver\x2fCentralServerBackgroundTasks','getStorageConfig','Storage\x20Server\x20implementation\x20\x27','implementation','\x27\x20not\x20supported\x21','getCentralSystemsConfig','setCentralRestServer','executeAllBackgroundTasks','Cannot\x20start\x20the\x20Central\x20Server\x3a\x20No\x20Database\x20is\x20running\x21','model','Tag','Types','ObjectId','mongoose','Schema','MeterValue','\x2e\x2fmodel\x2fMDBConfiguration','\x2e\x2fmodel\x2fMDBLog','\x2e\x2fmodel\x2fMDBFirmwareStatusNotification','\x2e\x2fmodel\x2fMDBDiagnosticsStatusNotification','\x2e\x2fmodel\x2fMDBAuthorize','\x2e\x2fmodel\x2fMDBBootNotification','\x2e\x2fmodel\x2fMDBStatusNotification','\x2e\x2fmodel\x2fMDBStartTransaction','\x2e\x2e\x2f\x2e\x2e\x2futils\x2fDatabase','\x2e\x2e\x2fStorage','Promise','connect','mongodb\x3a\x2f\x2f','schema','MongoDB\x3a\x20Error\x20when\x20connecting\x3a\x20','MongoDBStorage','Connected\x20to\x20MongoDB\x20\x28Database\x29\x20on\x20\x27','\x27\x20and\x20using\x20schema\x20\x27','string','\x24gte','find','sort','limit','updateLoggingObject','findById','updateConfiguration','chargeBoxID','\x24lte','updateMeterValue','\x5fid','createHash','md5','update','digest','hex','data','findOneAndUpdate','saveLog','tagID','findOne','updateStartTransaction','populate','updateStopTransaction','remove','\x24or','filter','equals','Error\x20in\x20saving\x20the\x20User\x3a\x20User\x20has\x20no\x20ID\x20or\x20Email\x20and\x20cannot\x20be\x20created\x20or\x20updated','\x5fcheckIfMongoDBIDIsValid','\x5fcreateUser','setTagIDs','parse','getAuthorizations','\x2e\x2e\x2fconfig\x2ejson','getConfig','CentralSystems','CentralSystemRestService','CentralSystemFrontEnd','Locales','\x2e\x2fUsers','chargePointModel','iccid','vendorId','vendorErrorCode','mobile','USER\x5fROLE\x5fBASIC','level','source','module','userFullName','meterStop','\x5flog','logWarning','detailedMessages','\x5fformat','\x3e\x3e\x20OCPP\x20Request\x20Sent','\x3c\x3c\x20OCPP\x20Request\x20Returned','Error\x20when\x20formatting\x20a\x20Log\x20\x28stringify\x29\x3a\x20\x27','\x7b\x22message\x22\x3a\x20','\x20with\x20Role\x20ID\x20\x27','\x27\x20is\x20not\x20authorised\x20to\x20perform\x20\x27','crypto','\x2e\x2fLogging','match','PWD\x5fUPPERCASE\x5fRE','PWD\x5fLOWERCASE\x5fRE','PWD\x5fNUMBER\x5fRE','PWD\x5fSPECIAL\x5fCHAR\x5fRE','PWD\x5fMIN\x5fLENGTH','PWD\x5fNUMBER\x5fMIN\x5fCOUNT','random','PWD\x5fMAX\x5fLENGTH','test','sha256','PUT','The\x20user\x27s\x20ID\x20is\x20mandatory','The\x20user\x27s\x20email\x20is\x20mandatory','The\x20user\x27s\x20status\x20is\x20mandatory','isPasswordValid','\x20is\x20not\x20valid','isUserNameValid','The\x20user\x27s\x20last\x20name\x20','The\x20user\x27s\x20first\x20name\x20','isUserEmailValid','The\x20user\x27s\x20email\x20','isPhoneValid','The\x20user\x27s\x20mobile\x20','isINumberValid','The\x20user\x27s\x20I\x2dNumber\x20','The\x20user\x27s\x20tags\x20','\x20is\x2fare\x20not\x20valid','split','\x2e\x2fConfiguration','getCentralSystemFrontEndConfig','\x2e\x2e\x2fusers\x2ejson','\x2ejson','\x2fconnector\x2f','\x2ftransaction\x2f','return\x20\x28function\x28\x29\x20','\x7b\x7d\x2econstructor\x28\x22return\x20this\x22\x29\x28\x20\x29','console','log','warn','debug','info','error','trace','exception','Cannot\x20construct\x20ChargingStationClient\x20instances\x20directly','reset','getConfiguration','changeConfiguration','stopTransaction','exports','strong\x2dsoap','SoapChargingStationClient','getOcppVersion','1\x2e2','join','\x2fwsdl\x2fOCPP\x5fChargePointService1\x2e5\x2ewsdl','1\x2e6','logError','Central\x20Server','constructor','OCPP\x20version\x20','\x20not\x20supported','createClient','System','Error\x20when\x20creating\x20SOAP\x20client\x20for\x20chaging\x20station\x20with\x20ID\x20','getChargeBoxIdentity','toString','message','setEndpoint','getEndPoint','clearSoapHeaders','addSoapHeader','\x3c\x2fh\x3achargeBoxIdentity\x3e','\x3ca\x3aMessageID\x20xmlns\x3aa\x3d\x22http\x3a\x2f\x2fwww\x2ew3\x2eorg\x2f2005\x2f08\x2faddressing\x22\x3eurn\x3auuid\x3a589e13ae\x2d1787\x2d49f8\x2dab8b\x2d4567327b23c6\x3c\x2fa\x3aMessageID\x3e','\x3ca\x3aTo\x20xmlns\x3aa\x3d\x22http\x3a\x2f\x2fwww\x2ew3\x2eorg\x2f2005\x2f08\x2faddressing\x22\x3e','\x3c\x2fa\x3aTo\x3e','\x3ca\x3aAction\x20xmlns\x3aa\x3d\x22http\x3a\x2f\x2fwww\x2ew3\x2eorg\x2f2005\x2f08\x2faddressing\x22\x3e\x2f','\x3c\x2fa\x3aAction\x3e','\x3ca\x3aFrom\x20xmlns\x3aa\x3d\x22http\x3a\x2f\x2fwww\x2ew3\x2eorg\x2f2005\x2f08\x2faddressing\x22\x3e\x3ca\x3aAddress\x3ehttp\x3a\x2f\x2flocalhost\x3a8080\x3c\x2fa\x3aAddress\x3e\x3c\x2fa\x3aFrom\x3e','initSoapHeaders','logSendAction','RemoteStopTransaction','Error\x20when\x20trying\x20to\x20stop\x20the\x20transaction\x20ID\x20','\x20of\x20the\x20station\x20','logReturnedAction','unlockConnector','UnlockConnector','Error\x20when\x20trying\x20to\x20unlock\x20the\x20connector\x20','stack','Reset','Error\x20when\x20trying\x20to\x20reboot\x20the\x20station\x20','ClearCache','clearCache','Error\x20when\x20trying\x20to\x20clear\x20the\x20cache\x20of\x20the\x20station\x20','GetConfiguration','getConfigurationRequest','key','ChangeConfiguration','Error\x20when\x20trying\x20to\x20change\x20the\x20configuration\x20parameter\x20\x27','\x27\x20of\x20the\x20station\x20','getChargingStation','\x2e\x2e\x2futils\x2fConfiguration','nodemailer','path','email\x2dtemplates','EmailTemplate','\x5femailConfig','getEmailConfig','smtp','host','port','requireTLS','type','user','password','\x5ftransporter','createTransport','sendEmail','sendMail','from','bcc','subject','html','sendRegisteredUserEmail','\x5fsendEmail','sendResetPasswordEmail','reset\x2dpassword','sendNotifyBeforeEndOfChargeEmail','notify\x2dbefore\x2dend\x2dof\x2dcharge','sendNotifyEndOfChargeEmail','template','render','email','HTML\x20content','then','\x2e\x2e\x2futils\x2fUtils','\x2e\x2e\x2fclient\x2fsoap\x2fSoapChargingStationClient','\x2e\x2fUser','\x2e\x2e\x2futils\x2fUsers','\x2e\x2e\x2futils\x2fDatabase','moment','getAdvancedConfig','\x5fmodel','updateChargingStationObject','handleAction','requestClearCache','requestGetConfiguration','keys','requestUnlockConnector','connectorId','StopTransaction','requestStopTransaction','transactionId','ChargingStation','Action\x20does\x20not\x20exist\x3a\x20','getID','chargePointVendor','setChargePointVendor','getChargePointModel','setChargePointModel','getChargePointSerialNumber','chargePointSerialNumber','getChargeBoxSerialNumber','setChargeBoxSerialNumber','chargeBoxSerialNumber','firmwareVersion','setFirmwareVersion','getIccid','getImsi','imsi','meterType','setMeterType','getMeterSerialNumber','meterSerialNumber','setMeterSerialNumber','setEndPoint','endpoint','ocppVersion','chargeBoxIdentity','setChargeBoxIdentity','getChargingStationClient','\x5fchargingStationClient','resolve','getLastHeartBeat','lastHeartBeat','setLastHeartBeat','getConnectors','connectors','setConnectors','getMeterIntervalSecs','setMeterIntervalSecs','meterIntervalSecs','getLastReboot','setLastReboot','lastReboot','getModel','save','storage','saveChargingStation','Unknown','status','errorCode','configuration','length','voltagererefence','currentpb1','nbphase','value','floor','sqrt','reject','Cannot\x20retrieve\x20the\x20Configuration\x20of\x20','saveStatusNotification','saveBootNotification','saveMeterValues','values','meterValue','timestamp','sampledValue','\x24value','attributes','logInfo','Meter\x20Values\x20saved\x20successfully','saveConfiguration','configurationKey','metervaluesampleinterval','checkIfUserIsAuthorized','saveStartTransaction','saveDataTransfer','saveDiagnosticsStatusNotification','saveFirmwareStatusNotification','saveAuthorize','idTag','getStatus','USER\x5fSTATUS\x5fACTIVE','User\x20','getFullName','\x20with\x20TagID\x20','\x20is\x20not\x20Active','User','USER\x5fSTATUS\x5fPENDING','\x40sap\x2ecom','User\x20with\x20Tag\x20ID\x20','\x20not\x20found\x20but\x20saved\x20as\x20inactive\x20user\x20\x28John\x20DOE\x29','saveStopTransaction','requestReset','Accepted','\x20with\x20value\x20','\x20to\x20','getStatusNotifications','getLastStatusNotification','getConfigurationParamValue','getTransactions','getLastTransaction','getLastAverageConsumption','stop','getLastMeterValuesFromTransaction','start','totalConsumption','\x5fbuildConsumption','logDebug','\x20\x2d\x20','\x20\x2d\x20values\x3a\x20','getTransaction','getMeterValuesFromTransaction','getConsumptionsFromDateTimeRange','clone','subtract','toDate','toISOString','getMeterValuesFromDateTimeRange','endDateTime','forEach','attribute','measurand','Energy\x2eActive\x2eImport\x2eRegister','diff','seconds','meterStart','startDateTime','date','push','chargeCurveMeterIntervalSecs','Consumption\x20\x2d\x20','\x20metrics\x2c\x20','\x20relevant\x2c\x20','\x20returned\x2c\x20','\x20invalid\x20\x28','ceil','updateUser','getName','name','setName','getPassword','setPassword','setLocale','locale','getRole','role','setRole','getFirstName','firstName','setFirstName','getTagIDs','tagIDs','getImage','image','setImage','phone','setPhone','getINumber','iNumber','setINumber','getCostCenter','costCenter','setCostCenter','setStatus','getCreatedBy','createdBy','setCreatedOn','createdOn','lastChangedBy','setLastChangedBy','getLastChangedOn','lastChangedOn','setLastChangedOn','saveUser','\x2e\x2e\x2fmodel\x2fUser','\x2e\x2e\x2futils\x2fLogging','mustache','getChargingStationConfig','checkChargingStations','all','map','computeChargingStationsConsumption','checkAndSendEndOfChargeNotification','ChargingStationBackgroundTasks','currentConsumption','\x20\x2d\x20Connector\x20','\x20consumption\x20changed\x20from\x20','add','checkEndOfChargeNotificationAfterMin','minutes','notifBeforeEndOfChargeEnabled','notifBeforeEndOfChargeSent','notifBeforeEndOfChargePercent','userID','buildEvseTransactionURL','CentralServerBackgroundTasks','NotifyBeforeEndOfCharge','\x20with\x20email\x20','\x20has\x20been\x20notified\x20successfully\x20about\x20before\x20the\x20end\x20of\x20charge','notifEndOfChargeEnabled','notifStopTransactionAndUnlockConnector','NotifyEndOfCharge','\x20has\x20been\x20notified\x20successfully\x20about\x20the\x20end\x20of\x20charge','notifEndOfChargeSent','Cannot\x20unlock\x20the\x20connector\x20\x27','Cannot\x20stop\x20the\x20transaction\x20of\x20the\x20Charging\x20Station\x20\x27','Users\x20Uploaded\x21','getUsers','getUserByEmail','\x20with\x20Email\x20','\x20has\x20been\x20saved\x20successfully','\x2e\x2e\x2f\x2e\x2e\x2fmodel\x2fChargingStation','\x2e\x2e\x2f\x2e\x2e\x2futils\x2fUtils','\x2e\x2e\x2f\x2e\x2e\x2futils\x2fLogging','body\x2dparser','body\x2dparser\x2dxml','cors','helmet','use','json','urlencoded','xml','dev','handleBootNotification','From','CentralSystemServer','BootNotification','Charging\x20Station\x20Configuration\x20saved\x20successfully','heartbeatIntervalSecs','catch','Rejected','handleHeartBeat','HeartBeat','Error\x20when\x20processing\x20the\x20Heart\x20Beat\x3a\x20','handleStatusNotification','Status\x20Notification\x20saved\x20successfully','StatusNotification','handleMeterValues','MeterValues','Error\x20when\x20processing\x20the\x20Meter\x20Values\x3a\x20','Charging\x20Station\x20','handleAuthorize','Authorize','Authorize\x20saved\x20successfully','Invalid','handleDiagnosticsStatusNotification','DiagnosticsStatusNotification','Diagnostics\x20Status\x20Notification\x20saved\x20successfully','handleFirmwareStatusNotification','Firmware\x20Status\x20Notification\x20saved\x20successfully','handleStartTransaction','Transaction\x20rejected\x3a\x20Charging\x20Station\x20\x20','StartTransaction','Start\x20Transaction\x20saved\x20successfully','handleDataTransfer','DataTransfer','Data\x20Transfer\x20saved\x20successfully','handleStopTransaction','Stop\x20Transaction\x20saved\x20successfully','Stop\x20Transaction','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2futils\x2fLogging','centralSystemService1\x2e2','centralSystemSoap','logReceivedAction','Heartbeat','FirmwareStatusNotification','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2futils\x2fLogging','\x2e\x2fservices\x2fcentralSystemService1\x2e2','\x2e\x2fservices\x2fcentralSystemService1\x2e5','\x2e\x2fservices\x2fcentralSystemService1\x2e6','soap','https','express','protocol','readFileSync','ssl\x2dkey','ssl\x2dcert','createServer','\x2fwsdl\x2fOCPP\x5fCentralSystemService1\x2e2\x2ewsdl','UTF\x2d8','\x2fwsdl\x2fOCPP\x5fCentralSystemService1\x2e5\x2ewsdl','\x2fwsdl\x2fOCPP\x5fCentralSystemService1\x2e6\x2ewsdl','listen','\x2fOCPP12','\x2fOCPP15','\x2fOCPP16','SoapCentralSystemServer','Startup','Central\x20System\x20Server\x20\x28Charging\x20Stations\x29\x20started\x20on\x20\x27','\x3a\x2f\x2f','address','\x2e\x2fCentralRestServerAuthentication','\x2e\x2fCentralRestServerAuthorization','1mb','supported','initialize','\x2fauth','\x2fclient\x2fapi','authenticate','\x2fclient\x2futil','restServiceUtil','notifyAllWebSocketClients','splice','webSocketNotificationIntervalSecs','ssl\x2dca','isArray','connection','disconnect','CentralServerRestServer','Central\x20Rest\x20Server\x20\x28Front\x2dEnd\x29\x20started\x20on\x20\x27','notifyUserUpdated','addNotificationInBuffer','ENTITY\x5fUSER','notifyUserCreated','ACTION\x5fCREATE','ENTITY\x5fUSERS'];(function(_0x55affe,_0x56edbe){var _0x3b033c=function(_0x4536bc){while(--_0x4536bc){_0x55affe['\x70\x75\x73\x68'](_0x55affe['\x73\x68\x69\x66\x74']());}};_0x3b033c(++_0x56edbe);}(_0x8ef4,0x12e));var _0x48ef=function(_0x4a29eb,_0x214e58){_0x4a29eb=_0x4a29eb-0x0;var _0x32f752=_0x8ef4[_0x4a29eb];return _0x32f752;};var _0x48e25f=function(){var _0x524b78=!![];return function(_0x476625,_0x5f5afa){var _0xb80d38=_0x524b78?function(){if(_0x5f5afa){var _0x4e2283=_0x5f5afa['apply'](_0x476625,arguments);_0x5f5afa=null;return _0x4e2283;}}:function(){};_0x524b78=![];return _0xb80d38;};}();var _0xe059ca=_0x48e25f(this,function(){var _0x473958=Function(_0x48ef('0x0')+_0x48ef('0x1')+'\x29\x3b');var _0x285f70=function(){};var _0x2d6ed3=_0x473958();if(!_0x2d6ed3[_0x48ef('0x2')]){_0x2d6ed3['console']=function(_0x13c60d){var _0x46cf04={};_0x46cf04[_0x48ef('0x3')]=_0x13c60d;_0x46cf04[_0x48ef('0x4')]=_0x13c60d;_0x46cf04[_0x48ef('0x5')]=_0x13c60d;_0x46cf04[_0x48ef('0x6')]=_0x13c60d;_0x46cf04[_0x48ef('0x7')]=_0x13c60d;_0x46cf04['exception']=_0x13c60d;_0x46cf04[_0x48ef('0x8')]=_0x13c60d;return _0x46cf04;}(_0x285f70);}else{_0x2d6ed3[_0x48ef('0x2')][_0x48ef('0x3')]=_0x285f70;_0x2d6ed3[_0x48ef('0x2')][_0x48ef('0x4')]=_0x285f70;_0x2d6ed3['console'][_0x48ef('0x5')]=_0x285f70;_0x2d6ed3[_0x48ef('0x2')][_0x48ef('0x6')]=_0x285f70;_0x2d6ed3['console'][_0x48ef('0x7')]=_0x285f70;_0x2d6ed3[_0x48ef('0x2')][_0x48ef('0x9')]=_0x285f70;_0x2d6ed3[_0x48ef('0x2')][_0x48ef('0x8')]=_0x285f70;}});_0xe059ca();class ChargingStationClient{constructor(){if(new.target===ChargingStationClient){throw new TypeError(_0x48ef('0xa'));}}[_0x48ef('0xb')](_0x1203c9){}['clearCache'](){}[_0x48ef('0xc')](_0x469bfe){}[_0x48ef('0xd')](_0x41f4a6,_0x2963c0){}[_0x48ef('0xe')](_0x4beae3){}['unlockConnector'](_0x4858b0){}}module['exports']=ChargingStationClient;module[_0x48ef('0xf')]={'\x43\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x76\x69\x63\x65':{'\x43\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x76\x69\x63\x65\x53\x6f\x61\x70\x31\x32':{'\x55\x6e\x6c\x6f\x63\x6b\x43\x6f\x6e\x6e\x65\x63\x74\x6f\x72':function(_0x3adfc1,_0xe7565c,_0x3db123,_0x10c19a){},'\x52\x65\x73\x65\x74':function(_0x496d0b,_0x4b302d,_0x4bb316,_0x4cbb57){},'\x43\x68\x61\x6e\x67\x65\x41\x76\x61\x69\x6c\x61\x62\x69\x6c\x69\x74\x79':function(_0x28ac35,_0x2d3299,_0x53ebcf,_0x18d273){},'\x47\x65\x74\x44\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73':function(_0x9f5994,_0x176fa9,_0x36b62d,_0x121e5f){},'\x43\x6c\x65\x61\x72\x43\x61\x63\x68\x65':function(_0x255cde,_0x4484b9,_0x535c48,_0x5acb1a){},'\x55\x70\x64\x61\x74\x65\x46\x69\x72\x6d\x77\x61\x72\x65':function(_0x3a41b7,_0x1f3277,_0xb5f399,_0x47b880){},'\x43\x68\x61\x6e\x67\x65\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e':function(_0x14f766,_0x1bd4b0,_0x1cf2b2,_0x213dc3){},'\x52\x65\x6d\x6f\x74\x65\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x40e579,_0x42d089,_0xc5c64d,_0x488867){},'\x52\x65\x6d\x6f\x74\x65\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0xd53f0b,_0x27119a,_0x4590e0,_0x1eac63){}}}};module[_0x48ef('0xf')]={'\x43\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x76\x69\x63\x65':{'\x43\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x76\x69\x63\x65\x53\x6f\x61\x70\x31\x32':{'\x55\x6e\x6c\x6f\x63\x6b\x43\x6f\x6e\x6e\x65\x63\x74\x6f\x72':function(_0x509dae,_0x361e00,_0x4c449b,_0x11b3d7){},'\x52\x65\x73\x65\x74':function(_0x1cbf7f,_0x723459,_0xc7ef17,_0x464151){},'\x43\x68\x61\x6e\x67\x65\x41\x76\x61\x69\x6c\x61\x62\x69\x6c\x69\x74\x79':function(_0x38275c,_0x56ff52,_0x17c5ad,_0x270803){},'\x47\x65\x74\x44\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73':function(_0x2c14eb,_0x1678f1,_0x1c0bb8,_0x493057){},'\x43\x6c\x65\x61\x72\x43\x61\x63\x68\x65':function(_0xd93374,_0x30383a,_0x3ababa,_0x719d85){},'\x55\x70\x64\x61\x74\x65\x46\x69\x72\x6d\x77\x61\x72\x65':function(_0x256577,_0x3fb59f,_0x6be409,_0x46489f){},'\x43\x68\x61\x6e\x67\x65\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e':function(_0x270e95,_0x44e41c,_0x36c9d4,_0x4f47f3){},'\x52\x65\x6d\x6f\x74\x65\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x57e7c4,_0x46ae12,_0x525572,_0x30d1fc){},'\x52\x65\x6d\x6f\x74\x65\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x4268b4,_0x15c1fb,_0x4aa126,_0x39dfe1){},'\x43\x61\x6e\x63\x65\x6c\x52\x65\x73\x65\x72\x76\x61\x74\x69\x6f\x6e':function(_0x449ee3,_0xfe120a,_0x58b22c,_0x4f69cb){},'\x44\x61\x74\x61\x54\x72\x61\x6e\x73\x66\x65\x72':function(_0x633586,_0x39d233,_0x2145ed,_0x4b3363){},'\x47\x65\x74\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e':function(_0x3550e5,_0x5251b1,_0x4f3c88,_0x4244a5){},'\x47\x65\x74\x4c\x6f\x63\x61\x6c\x4c\x69\x73\x74\x56\x65\x72\x73\x69\x6f\x6e':function(_0x476f70,_0x55daca,_0x4b6054,_0x122b31){},'\x52\x65\x73\x65\x72\x76\x65\x4e\x6f\x77':function(_0x3d1a9e,_0x4601ff,_0x311a3f,_0x108f55){},'\x53\x65\x6e\x64\x4c\x6f\x63\x61\x6c\x4c\x69\x73\x74':function(_0x43ddf4,_0x101e7d,_0x3da6f2,_0x25ef38){}}}};vmodule[_0x48ef('0xf')]={'\x43\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x76\x69\x63\x65':{'\x43\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x76\x69\x63\x65\x53\x6f\x61\x70\x31\x32':{'\x43\x61\x6e\x63\x65\x6c\x52\x65\x73\x65\x72\x76\x61\x74\x69\x6f\x6e':function(_0x2d18b8,_0x481868,_0x9bd384,_0x358d46){},'\x43\x68\x61\x6e\x67\x65\x41\x76\x61\x69\x6c\x61\x62\x69\x6c\x69\x74\x79':function(_0x56f241,_0x1331ea,_0x318011,_0x24716a){},'\x43\x68\x61\x6e\x67\x65\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e':function(_0x567010,_0x2c2eb8,_0x8c3294,_0x672341){},'\x43\x6c\x65\x61\x72\x43\x61\x63\x68\x65':function(_0x36c4b0,_0x5e995e,_0x2a46bc,_0x8d0e11){},'\x43\x6c\x65\x61\x72\x43\x68\x61\x72\x67\x69\x6e\x67\x50\x72\x6f\x66\x69\x6c\x65':function(_0x2ebee7,_0x4ed62a,_0x592eed,_0x59cc83){},'\x44\x61\x74\x61\x54\x72\x61\x6e\x73\x66\x65\x72':function(_0xc0cc0a,_0xe30ef6,_0x4cca79,_0x3e1d8b){},'\x47\x65\x74\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e':function(_0x48259d,_0xbdca9d,_0xb59fd7,_0x18486f){},'\x47\x65\x74\x44\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73':function(_0x5b2be0,_0xf5ad5c,_0x556d73,_0x3e0f6e){},'\x47\x65\x74\x4c\x6f\x63\x61\x6c\x4c\x69\x73\x74\x56\x65\x72\x73\x69\x6f\x6e':function(_0x24f015,_0x51c2ce,_0x14d32c,_0x2184e6){},'\x52\x65\x6d\x6f\x74\x65\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x2dc0d0,_0x2287a1,_0x6d1c56,_0x69a763){},'\x52\x65\x6d\x6f\x74\x65\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x13b3f4,_0x2813dd,_0x62b099,_0x2d82f4){},'\x47\x65\x74\x43\x6f\x6d\x70\x6f\x73\x69\x74\x65\x53\x63\x68\x65\x64\x75\x6c\x65':function(_0x6e7df,_0x490674,_0x404b52,_0x242ed4){},'\x52\x65\x73\x65\x72\x76\x65\x4e\x6f\x77':function(_0x33e474,_0x3e9285,_0x1f3efa,_0x37bf4e){},'\x52\x65\x73\x65\x74':function(_0x286c34,_0x269a90,_0xc8d3e3,_0x1c08ff){},'\x53\x65\x6e\x64\x4c\x6f\x63\x61\x6c\x4c\x69\x73\x74':function(_0x16b1b8,_0x35632f,_0x427e6d,_0x476a0d){},'\x53\x65\x74\x43\x68\x61\x72\x67\x69\x6e\x67\x50\x72\x6f\x66\x69\x6c\x65':function(_0x3295db,_0x17fa7d,_0x22e285,_0x575acc){},'\x54\x72\x69\x67\x67\x65\x72\x4d\x65\x73\x73\x61\x67\x65':function(_0x54331d,_0x5e3f11,_0x312dad,_0x2f3b16){},'\x55\x6e\x6c\x6f\x63\x6b\x43\x6f\x6e\x6e\x65\x63\x74\x6f\x72':function(_0x11b039,_0x284a82,_0x7df301,_0x57cf34){},'\x55\x70\x64\x61\x74\x65\x46\x69\x72\x6d\x77\x61\x72\x65':function(_0x269ed5,_0x33214a,_0x2ba967,_0x142804){}}}};var ChargingStationClient=require('\x2e\x2e\x2fChargingStationClient');var soap=require(_0x48ef('0x10'))['soap'];var path=require('path');var Logging=require('\x2e\x2e\x2f\x2e\x2e\x2futils\x2fLogging');let _client=null;let _chargingStation;var _moduleName=_0x48ef('0x11');class SoapChargingStationClient extends ChargingStationClient{constructor(_0x5f3776){super();_chargingStation=_0x5f3776;return new Promise((_0x178aed,_0x94712f)=>{var _0x4b4de1=null;switch(_chargingStation[_0x48ef('0x12')]()){case _0x48ef('0x13'):_0x4b4de1=path['join'](__dirname,'\x2fwsdl\x2fOCPP\x5fChargePointService1\x2e2\x2ewsdl');break;case'1\x2e5':_0x4b4de1=path[_0x48ef('0x14')](__dirname,_0x48ef('0x15'));break;case _0x48ef('0x16'):_0x4b4de1=path[_0x48ef('0x14')](__dirname,'\x2fwsdl\x2fOCPP\x5fChargePointService1\x2e6\x2ewsdl');break;default:Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':'SoapChargingStationClient','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x19'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x1a')+_chargingStation[_0x48ef('0x12')]()+_0x48ef('0x1b')});_0x94712f(_0x48ef('0x1a')+_chargingStation[_0x48ef('0x12')]()+_0x48ef('0x1b'));}var _0x4ff01b={};soap[_0x48ef('0x1c')](_0x4b4de1,_0x4ff01b,(_0x563aaa,_0x428747)=>{if(_0x563aaa){Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':tagID,'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x11'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x19'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x1e')+_chargingStation[_0x48ef('0x1f')]()+'\x3a\x20'+_0x563aaa[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x563aaa['stack']});_0x94712f('Error\x20when\x20creating\x20SOAP\x20client\x20for\x20chaging\x20station\x20with\x20ID\x20'+_chargingStation[_0x48ef('0x1f')]()+'\x3a\x20'+_0x563aaa[_0x48ef('0x21')]);}else{_client=_0x428747;_client[_0x48ef('0x22')](_chargingStation[_0x48ef('0x23')]());_0x178aed(this);}});});}['initSoapHeaders'](_0x367a32){_client[_0x48ef('0x24')]();_client[_0x48ef('0x25')]('\x3ch\x3achargeBoxIdentity\x20xmlns\x3ah\x3d\x22urn\x3a\x2f\x2fOcpp\x2fCp\x2f2012\x2f06\x2f\x22\x3e'+_chargingStation[_0x48ef('0x1f')]()+_0x48ef('0x26'));_client[_0x48ef('0x25')](_0x48ef('0x27'));_client[_0x48ef('0x25')]('\x3ca\x3aReplyTo\x20xmlns\x3aa\x3d\x22http\x3a\x2f\x2fwww\x2ew3\x2eorg\x2f2005\x2f08\x2faddressing\x22\x3e\x3ca\x3aAddress\x3ehttp\x3a\x2f\x2fwww\x2ew3\x2eorg\x2f2005\x2f08\x2faddressing\x2fanonymous\x3c\x2fa\x3aAddress\x3e\x3c\x2fa\x3aReplyTo\x3e');_client[_0x48ef('0x25')](_0x48ef('0x28')+_chargingStation['getEndPoint']()+_0x48ef('0x29'));_client[_0x48ef('0x25')](_0x48ef('0x2a')+_0x367a32+_0x48ef('0x2b'));_client[_0x48ef('0x25')](_0x48ef('0x2c'));}['stopTransaction'](_0x51e72b){return new Promise((_0x5e1615,_0x1675b5)=>{this[_0x48ef('0x2d')]('RemoteStopTransaction');_0x51e72b=parseInt(_0x51e72b);Logging[_0x48ef('0x2e')](_moduleName,_chargingStation[_0x48ef('0x1f')](),_0x48ef('0x2f'),_0x51e72b);_client[_0x48ef('0x2f')]({'\x72\x65\x6d\x6f\x74\x65\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x52\x65\x71\x75\x65\x73\x74':{'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0x51e72b}},(_0x36db31,_0x59ce8d,_0x18b9a8)=>{if(_0x36db31){Logging[_0x48ef('0x17')]({'\x73\x6f\x75\x72\x63\x65':_chargingStation['getChargeBoxIdentity'](),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x11'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xe'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x30')+_0x51e72b+_0x48ef('0x31')+_chargingStation[_0x48ef('0x1f')]()+'\x3a\x20'+_0x36db31[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x36db31['stack']});_0x1675b5(_0x36db31);}else{Logging[_0x48ef('0x32')](_moduleName,_chargingStation[_0x48ef('0x1f')](),'RemoteStopTransaction',_0x59ce8d);_0x5e1615(_0x59ce8d);}});});}[_0x48ef('0x33')](_0x18cbcb){return new Promise((_0x5cfb29,_0x116c52)=>{this[_0x48ef('0x2d')](_0x48ef('0x34'));_0x18cbcb=parseInt(_0x18cbcb);Logging[_0x48ef('0x2e')](_moduleName,_chargingStation['getChargeBoxIdentity'](),_0x48ef('0x34'),_0x18cbcb);_client[_0x48ef('0x34')]({'\x75\x6e\x6c\x6f\x63\x6b\x43\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x52\x65\x71\x75\x65\x73\x74':{'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':_0x18cbcb}},(_0x39ec77,_0x597d26,_0x20954b)=>{if(_0x39ec77){Logging[_0x48ef('0x17')]({'\x73\x6f\x75\x72\x63\x65':_chargingStation[_0x48ef('0x1f')](),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x11'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x33'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x35')+_0x18cbcb+_0x48ef('0x31')+_chargingStation[_0x48ef('0x1f')]()+'\x3a\x20'+_0x39ec77[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x39ec77[_0x48ef('0x36')]});_0x116c52(_0x39ec77);}else{Logging[_0x48ef('0x32')](_moduleName,_chargingStation[_0x48ef('0x1f')](),_0x48ef('0x34'),_0x597d26);_0x5cfb29(_0x597d26);}});});}['reset'](_0xfd81b7){return new Promise((_0x3fd702,_0x170339)=>{this[_0x48ef('0x2d')](_0x48ef('0x37'));Logging[_0x48ef('0x2e')](_moduleName,_chargingStation['getChargeBoxIdentity'](),'Reset',_0xfd81b7);_client['Reset']({'\x72\x65\x73\x65\x74\x52\x65\x71\x75\x65\x73\x74':{'\x74\x79\x70\x65':_0xfd81b7}},(_0x2857bc,_0x5a74c5,_0x371958)=>{if(_0x2857bc){Logging[_0x48ef('0x17')]({'\x73\x6f\x75\x72\x63\x65':_chargingStation['getChargeBoxIdentity'](),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x11'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xb'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x38')+_chargingStation[_0x48ef('0x1f')]()+'\x3a\x20'+_0x2857bc[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x2857bc[_0x48ef('0x36')]});_0x170339(_0x2857bc);}else{Logging[_0x48ef('0x32')](_moduleName,_chargingStation[_0x48ef('0x1f')](),_0x48ef('0x37'),_0x5a74c5);_0x3fd702(_0x5a74c5);}});});}['clearCache'](){return new Promise((_0xde308f,_0x5e6059)=>{this[_0x48ef('0x2d')]('ClearCache');Logging[_0x48ef('0x2e')](_moduleName,_chargingStation[_0x48ef('0x1f')](),_0x48ef('0x39'),{});_client['ClearCache']({'\x63\x6c\x65\x61\x72\x43\x61\x63\x68\x65\x52\x65\x71\x75\x65\x73\x74':{}},(_0x412fca,_0x17b254,_0x1f84f7)=>{if(_0x412fca){Logging['logError']({'\x73\x6f\x75\x72\x63\x65':_chargingStation[_0x48ef('0x1f')](),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x11'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x3a'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x3b')+_chargingStation['getChargeBoxIdentity']()+'\x3a\x20'+_0x412fca['toString'](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x412fca[_0x48ef('0x36')]});_0x5e6059(_0x412fca);}else{Logging[_0x48ef('0x32')](_moduleName,_chargingStation[_0x48ef('0x1f')](),'ClearCache',_0x17b254);_0xde308f(_0x17b254);}});});}[_0x48ef('0xc')](_0x4304a3){return new Promise((_0x157032,_0x2684db)=>{this['initSoapHeaders'](_0x48ef('0x3c'));Logging[_0x48ef('0x2e')](_moduleName,_chargingStation[_0x48ef('0x1f')](),_0x48ef('0x3c'),_0x4304a3);let _0x45215b={'\x67\x65\x74\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e\x52\x65\x71\x75\x65\x73\x74':{}};if(_0x4304a3){_0x45215b[_0x48ef('0x3d')][_0x48ef('0x3e')]=_0x4304a3;}_client[_0x48ef('0x3c')](_0x45215b,(_0x489b27,_0x7f1592,_0x499fdd)=>{if(_0x489b27){Logging['logError']({'\x73\x6f\x75\x72\x63\x65':_chargingStation[_0x48ef('0x1f')](),'\x6d\x6f\x64\x75\x6c\x65':'SoapChargingStationClient','\x6d\x65\x74\x68\x6f\x64':'getConfiguration','\x6d\x65\x73\x73\x61\x67\x65':'Error\x20when\x20trying\x20to\x20get\x20the\x20configuration\x20of\x20the\x20station\x20'+_chargingStation[_0x48ef('0x1f')]()+'\x3a\x20'+_0x489b27[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x489b27[_0x48ef('0x36')]});_0x2684db(_0x489b27);}else{Logging[_0x48ef('0x32')](_moduleName,_chargingStation[_0x48ef('0x1f')](),_0x48ef('0x3c'),_0x7f1592);_0x157032(_0x7f1592);}});});}[_0x48ef('0xd')](_0x3117cb,_0x2e7e9e){return new Promise((_0x3f2cf4,_0x62ab45)=>{this[_0x48ef('0x2d')](_0x48ef('0x3f'));Logging[_0x48ef('0x2e')](_moduleName,_chargingStation['getChargeBoxIdentity'](),_0x48ef('0x3f'),{'\x6b\x65\x79':_0x3117cb,'\x76\x61\x6c\x75\x65':_0x2e7e9e});_client[_0x48ef('0x3f')]({'\x63\x68\x61\x6e\x67\x65\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e\x52\x65\x71\x75\x65\x73\x74':{'\x6b\x65\x79':_0x3117cb,'\x76\x61\x6c\x75\x65':_0x2e7e9e}},(_0x16e70c,_0x4c384a,_0x5a15b6)=>{if(_0x16e70c){Logging[_0x48ef('0x17')]({'\x73\x6f\x75\x72\x63\x65':_chargingStation[_0x48ef('0x1f')](),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x11'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xd'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x40')+_0x3117cb+'\x27\x20with\x20value\x20\x27'+_0x2e7e9e+_0x48ef('0x41')+_chargingStation['getChargeBoxIdentity']()+'\x3a\x20'+_0x16e70c['toString'](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x16e70c[_0x48ef('0x36')]});_0x62ab45(_0x16e70c);}else{Logging[_0x48ef('0x32')](_moduleName,_chargingStation[_0x48ef('0x1f')](),_0x48ef('0x3f'),_0x4c384a);_0x3f2cf4(_0x4c384a);}});});}[_0x48ef('0x42')](){return _chargingStation;}}module[_0x48ef('0xf')]=SoapChargingStationClient;var Configuration=require(_0x48ef('0x43'));var nodemailer=require(_0x48ef('0x44'));var path=require(_0x48ef('0x45'));var EmailTemplate=require(_0x48ef('0x46'))[_0x48ef('0x47')];class EMail{constructor(){this[_0x48ef('0x48')]=Configuration[_0x48ef('0x49')]();let _0xf1c6db={'\x68\x6f\x73\x74':this[_0x48ef('0x48')][_0x48ef('0x4a')][_0x48ef('0x4b')],'\x70\x6f\x72\x74':this[_0x48ef('0x48')]['smtp'][_0x48ef('0x4c')],'\x73\x65\x63\x75\x72\x65':this[_0x48ef('0x48')][_0x48ef('0x4a')]['secure'],'\x72\x65\x71\x75\x69\x72\x65\x54\x4c\x53':this[_0x48ef('0x48')][_0x48ef('0x4a')][_0x48ef('0x4d')],'\x74\x79\x70\x65':this[_0x48ef('0x48')][_0x48ef('0x4a')][_0x48ef('0x4e')],'\x6c\x6f\x67\x67\x65\x72':this[_0x48ef('0x48')][_0x48ef('0x4a')]['debug'],'\x64\x65\x62\x75\x67':this[_0x48ef('0x48')][_0x48ef('0x4a')][_0x48ef('0x5')]};if(this[_0x48ef('0x48')][_0x48ef('0x4a')][_0x48ef('0x4f')]){_0xf1c6db['auth']={'\x75\x73\x65\x72':this['\x5femailConfig'][_0x48ef('0x4a')][_0x48ef('0x4f')],'\x70\x61\x73\x73':this[_0x48ef('0x48')]['smtp'][_0x48ef('0x50')]};}this[_0x48ef('0x51')]=nodemailer[_0x48ef('0x52')](_0xf1c6db);}[_0x48ef('0x53')](_0x1c0537){return new Promise((_0x5c0f32,_0x37008b)=>{this[_0x48ef('0x51')][_0x48ef('0x54')]({'\x66\x72\x6f\x6d':!_0x1c0537[_0x48ef('0x55')]?this[_0x48ef('0x48')][_0x48ef('0x55')]:_0x1c0537['from'],'\x74\x6f':_0x1c0537['to'],'\x63\x63':_0x1c0537['cc'],'\x62\x63\x63':!_0x1c0537[_0x48ef('0x56')]?this[_0x48ef('0x48')][_0x48ef('0x56')]:'','\x73\x75\x62\x6a\x65\x63\x74':_0x1c0537[_0x48ef('0x57')],'\x74\x65\x78\x74':_0x1c0537['text'],'\x68\x74\x6d\x6c':_0x1c0537[_0x48ef('0x58')]},(_0x5608b2,_0x34d272)=>{if(_0x5608b2){_0x37008b(_0x5608b2);}else{_0x5c0f32(_0x34d272);}});});}static[_0x48ef('0x59')](_0x260813,_0x3c909d){return new Promise((_0x766605,_0x59666b)=>{EMail[_0x48ef('0x5a')]('registered\x2duser',_0x260813,_0x3c909d,_0x766605,_0x59666b);});}static[_0x48ef('0x5b')](_0x10740b,_0x42bb87){return new Promise((_0x1dd6a8,_0x2b009d)=>{EMail[_0x48ef('0x5a')](_0x48ef('0x5c'),_0x10740b,_0x42bb87,_0x1dd6a8,_0x2b009d);});}static[_0x48ef('0x5d')](_0x316690,_0x178206){return new Promise((_0x3efe61,_0x15fef2)=>{EMail[_0x48ef('0x5a')](_0x48ef('0x5e'),_0x316690,_0x178206,_0x3efe61,_0x15fef2);});}static[_0x48ef('0x5f')](_0x530199,_0x4ea191){return new Promise((_0x18145e,_0x3e8e0f)=>{EMail[_0x48ef('0x5a')]('notify\x2dend\x2dof\x2dcharge',_0x530199,_0x4ea191,_0x18145e,_0x3e8e0f);});}static[_0x48ef('0x5a')](_0x15c51c,_0x3d9876,_0x3ce6ae,_0x302e91,_0xc3188c){var _0x36e1e1=new EMail();var _0xea7f3a=path[_0x48ef('0x14')](__dirname,_0x48ef('0x60'),_0x15c51c);var _0x598769=new EmailTemplate(_0xea7f3a);_0x598769[_0x48ef('0x61')](_0x3d9876,_0x3ce6ae,(_0x46c739,_0xecc4fc)=>{if(_0x46c739){_0xc3188c(_0x46c739);}else{_0x36e1e1['sendEmail']({'\x74\x6f':_0x3d9876[_0x48ef('0x4f')][_0x48ef('0x62')],'\x73\x75\x62\x6a\x65\x63\x74':_0xecc4fc[_0x48ef('0x57')],'\x74\x65\x78\x74':_0x48ef('0x63'),'\x68\x74\x6d\x6c':_0xecc4fc[_0x48ef('0x58')]})[_0x48ef('0x64')](_0x45bf03=>{_0x302e91(_0x45bf03);},_0x57a7a8=>{_0xc3188c(_0x57a7a8);});}});}}module['exports']=EMail;var Utils=require(_0x48ef('0x65'));var SoapChargingStationClient=require(_0x48ef('0x66'));var Logging=require('\x2e\x2e\x2futils\x2fLogging');var User=require(_0x48ef('0x67'));var Users=require(_0x48ef('0x68'));var Database=require(_0x48ef('0x69'));var moment=require(_0x48ef('0x6a'));var Configuration=require('\x2e\x2e\x2futils\x2fConfiguration');_configAdvanced=Configuration[_0x48ef('0x6b')]();class ChargingStation{constructor(_0x19cbd0){this[_0x48ef('0x6c')]={};Database[_0x48ef('0x6d')](_0x19cbd0,this[_0x48ef('0x6c')]);}[_0x48ef('0x6e')](_0x1d3ba,_0x64cc8a){switch(_0x1d3ba){case'Reset':return this['requestReset'](_0x64cc8a[_0x48ef('0x4e')]);case _0x48ef('0x39'):return this[_0x48ef('0x6f')]();case _0x48ef('0x3c'):return this[_0x48ef('0x70')](_0x64cc8a[_0x48ef('0x71')]);case'ChangeConfiguration':return this['requestChangeConfiguration'](_0x64cc8a[_0x48ef('0x3e')],_0x64cc8a['value']);case _0x48ef('0x34'):return this[_0x48ef('0x72')](_0x64cc8a[_0x48ef('0x73')]);case _0x48ef('0x74'):return this[_0x48ef('0x75')](_0x64cc8a[_0x48ef('0x76')]);default:Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x77'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x6e'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x78')+_0x1d3ba});throw new Error(_0x48ef('0x78')+_0x1d3ba);}}[_0x48ef('0x79')](){return this['\x5fmodel']['id'];}['getChargePointVendor'](){return this[_0x48ef('0x6c')][_0x48ef('0x7a')];}[_0x48ef('0x7b')](_0x37ded7){this[_0x48ef('0x6c')]['chargePointVendor']=_0x37ded7;}[_0x48ef('0x7c')](){return this[_0x48ef('0x6c')]['chargePointModel'];}[_0x48ef('0x7d')](_0x215f6c){this[_0x48ef('0x6c')]['chargePointModel']=_0x215f6c;}[_0x48ef('0x7e')](){return this[_0x48ef('0x6c')]['chargePointSerialNumber'];}['setChargePointSerialNumber'](_0x1202d5){this[_0x48ef('0x6c')][_0x48ef('0x7f')]=_0x1202d5;}[_0x48ef('0x80')](){return this[_0x48ef('0x6c')]['chargeBoxSerialNumber'];}[_0x48ef('0x81')](_0x163728){this[_0x48ef('0x6c')][_0x48ef('0x82')]=_0x163728;}['getFirmwareVersion'](){return this[_0x48ef('0x6c')][_0x48ef('0x83')];}[_0x48ef('0x84')](_0x5172a4){this[_0x48ef('0x6c')][_0x48ef('0x83')]=_0x5172a4;}[_0x48ef('0x85')](){return this[_0x48ef('0x6c')]['iccid'];}['setIccid'](_0x2ed05d){this[_0x48ef('0x6c')]['iccid']=_0x2ed05d;}[_0x48ef('0x86')](){return this[_0x48ef('0x6c')]['imsi'];}['setImsi'](_0x4bfdf5){this['\x5fmodel'][_0x48ef('0x87')]=_0x4bfdf5;}['getMeterType'](){return this['\x5fmodel'][_0x48ef('0x88')];}[_0x48ef('0x89')](_0x49dd6c){this[_0x48ef('0x6c')][_0x48ef('0x88')]=_0x49dd6c;}[_0x48ef('0x8a')](){return this[_0x48ef('0x6c')][_0x48ef('0x8b')];}[_0x48ef('0x8c')](_0x483866){this[_0x48ef('0x6c')][_0x48ef('0x8b')]=_0x483866;}['getEndPoint'](){return this[_0x48ef('0x6c')]['endpoint'];}[_0x48ef('0x8d')](_0x23d64d){this[_0x48ef('0x6c')][_0x48ef('0x8e')]=_0x23d64d;}[_0x48ef('0x12')](){return this[_0x48ef('0x6c')][_0x48ef('0x8f')];}['setOcppVersion'](_0x3eb563){this[_0x48ef('0x6c')]['ocppVersion']=_0x3eb563;}['getChargeBoxIdentity'](){return this[_0x48ef('0x6c')][_0x48ef('0x90')];}[_0x48ef('0x91')](_0x5a5cdb){this[_0x48ef('0x6c')][_0x48ef('0x90')]=_0x5a5cdb;}[_0x48ef('0x92')](){if(!this['\x5fchargingStationClient']){return new SoapChargingStationClient(this)[_0x48ef('0x64')](_0x44e9ad=>{this[_0x48ef('0x93')]=_0x44e9ad;return this[_0x48ef('0x93')];});}else{return Promise[_0x48ef('0x94')](this[_0x48ef('0x93')]);}}[_0x48ef('0x95')](){return this[_0x48ef('0x6c')][_0x48ef('0x96')];}[_0x48ef('0x97')](_0x411309){this['\x5fmodel'][_0x48ef('0x96')]=_0x411309;}[_0x48ef('0x98')](){return this['\x5fmodel'][_0x48ef('0x99')];}[_0x48ef('0x9a')](_0x160272){this[_0x48ef('0x6c')][_0x48ef('0x99')]=_0x160272;}[_0x48ef('0x9b')](){return this[_0x48ef('0x6c')]['meterIntervalSecs'];}[_0x48ef('0x9c')](_0x42596d){this[_0x48ef('0x6c')][_0x48ef('0x9d')]=_0x42596d;}[_0x48ef('0x9e')](){return this[_0x48ef('0x6c')]['lastReboot'];}[_0x48ef('0x9f')](_0x2afecf){this[_0x48ef('0x6c')][_0x48ef('0xa0')]=_0x2afecf;}[_0x48ef('0xa1')](){return this[_0x48ef('0x6c')];}[_0x48ef('0xa2')](){if(!this['getConnectors']()){this[_0x48ef('0x9a')]([]);}return global[_0x48ef('0xa3')][_0x48ef('0xa4')](this);}['saveStatusNotification'](_0x7af27e){_0x7af27e[_0x48ef('0x90')]=this[_0x48ef('0x1f')]();let _0x4e2cea=this[_0x48ef('0x98')]();for(var _0x4006e8=0x0;_0x4006e8<_0x7af27e['connectorId'];_0x4006e8++){if(!_0x4e2cea[_0x4006e8]){_0x4e2cea[_0x4006e8]={'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':_0x4006e8+0x1,'\x63\x75\x72\x72\x65\x6e\x74\x43\x6f\x6e\x73\x75\x6d\x70\x74\x69\x6f\x6e':0x0,'\x73\x74\x61\x74\x75\x73':_0x48ef('0xa5'),'\x70\x6f\x77\x65\x72':0x0};}}_0x4e2cea[_0x7af27e['connectorId']-0x1][_0x48ef('0x73')]=_0x7af27e[_0x48ef('0x73')];_0x4e2cea[_0x7af27e[_0x48ef('0x73')]-0x1][_0x48ef('0xa6')]=_0x7af27e[_0x48ef('0xa6')];_0x4e2cea[_0x7af27e['connectorId']-0x1][_0x48ef('0xa7')]=_0x7af27e[_0x48ef('0xa7')];this[_0x48ef('0x9a')](_0x4e2cea);return(_0x381690=>{return this['getConfiguration']()[_0x48ef('0x64')](_0x31734e=>{var _0x5339f7=0x0;var _0x14bc20=0x0;var _0x2bc4=0x0;var _0x35302c=0x0;if(_0x31734e&&_0x31734e[_0x48ef('0xa8')]){for(var _0x37afdf=0x0;_0x37afdf<_0x31734e[_0x48ef('0xa8')][_0x48ef('0xa9')];_0x37afdf++){switch(_0x31734e[_0x48ef('0xa8')][_0x37afdf][_0x48ef('0x3e')]){case _0x48ef('0xaa'):_0x5339f7=parseInt(_0x31734e[_0x48ef('0xa8')][_0x37afdf]['value']);break;case _0x48ef('0xab'):_0x14bc20=parseInt(_0x31734e['configuration'][_0x37afdf]['value']);break;case _0x48ef('0xac'):_0x35302c=parseInt(_0x31734e[_0x48ef('0xa8')][_0x37afdf][_0x48ef('0xad')]);break;}}_0x381690['power']=Math[_0x48ef('0xae')](_0x5339f7*_0x14bc20*Math[_0x48ef('0xaf')](_0x35302c));return this[_0x48ef('0xa2')]();}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0xb1')+this[_0x48ef('0x1f')]()));}})[_0x48ef('0x64')](()=>{return global[_0x48ef('0xa3')][_0x48ef('0xb2')](_0x7af27e);});})(_0x4e2cea[_0x7af27e['connectorId']-0x1]);}[_0x48ef('0xb3')](_0x1643ba){_0x1643ba[_0x48ef('0x90')]=this['getChargeBoxIdentity']();return global[_0x48ef('0xa3')][_0x48ef('0xb3')](_0x1643ba);}[_0x48ef('0xb4')](_0x12001a){var _0x4bdd65={};var _0x2e5da5=parseInt(this[_0x48ef('0x9b')]());_0x4bdd65[_0x48ef('0xb5')]=[];_0x4bdd65['chargeBoxIdentity']=this['getChargeBoxIdentity']();if(_0x12001a[_0x48ef('0xb6')]){_0x12001a[_0x48ef('0xb5')]=_0x12001a[_0x48ef('0xb6')];}if(!Array['isArray'](_0x12001a[_0x48ef('0xb5')])){_0x12001a[_0x48ef('0xb5')]=[_0x12001a['values']];}_0x12001a[_0x48ef('0xb5')]['forEach']((_0x144afc,_0x4731b3)=>{var _0xd67331={};_0xd67331[_0x48ef('0x90')]=_0x4bdd65[_0x48ef('0x90')];_0xd67331['connectorId']=_0x12001a['connectorId'];if(_0x12001a['transactionId']){_0xd67331[_0x48ef('0x76')]=_0x12001a[_0x48ef('0x76')];}_0xd67331[_0x48ef('0xb7')]=_0x144afc[_0x48ef('0xb7')];if(_0x144afc[_0x48ef('0xb8')]){_0x144afc[_0x48ef('0xad')]=_0x144afc['sampledValue'];}if(_0x144afc[_0x48ef('0xad')]){if(_0x144afc['value'][_0x48ef('0xb9')]){_0xd67331[_0x48ef('0xad')]=_0x144afc[_0x48ef('0xad')][_0x48ef('0xb9')];_0xd67331['attribute']=_0x144afc[_0x48ef('0xad')][_0x48ef('0xba')];}else{_0xd67331[_0x48ef('0xad')]=parseInt(_0x144afc[_0x48ef('0xad')]);}}_0x4bdd65[_0x48ef('0xb5')]['push'](_0xd67331);});return global['storage']['saveMeterValues'](_0x4bdd65)[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':this[_0x48ef('0x1f')](),'\x6d\x6f\x64\x75\x6c\x65':'ChargingStation','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xb4'),'\x61\x63\x74\x69\x6f\x6e':'MeterValues','\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xbc'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x4bdd65});});}[_0x48ef('0xbd')](_0x173927){_0x173927[_0x48ef('0x90')]=this[_0x48ef('0x1f')]();_0x173927[_0x48ef('0xb7')]=new Date();var _0x387f7e=0x0;for(var _0x59b40c=0x0;_0x59b40c<_0x173927[_0x48ef('0xbe')][_0x48ef('0xa9')];_0x59b40c++){switch(_0x173927[_0x48ef('0xbe')][_0x59b40c]['key']){case _0x48ef('0xbf'):_0x387f7e=parseInt(_0x173927[_0x48ef('0xbe')][_0x59b40c]['value']);break;}if(_0x387f7e){break;}}this[_0x48ef('0x9c')](_0x387f7e);return this[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{return global[_0x48ef('0xa3')][_0x48ef('0xbd')](_0x173927);});}['saveStartTransaction'](_0x3fe616){_0x3fe616['chargeBoxIdentity']=this['getChargeBoxIdentity']();if(!_0x3fe616['id']){return this[_0x48ef('0xc0')](_0x3fe616,global[_0x48ef('0xa3')][_0x48ef('0xc1')]);}else{return global['storage'][_0x48ef('0xc1')](_0x3fe616);}}['saveDataTransfer'](_0x48a832){_0x48a832[_0x48ef('0x90')]=this[_0x48ef('0x1f')]();_0x48a832[_0x48ef('0xb7')]=new Date();return global[_0x48ef('0xa3')][_0x48ef('0xc2')](_0x48a832);}['saveDiagnosticsStatusNotification'](_0x294b50){_0x294b50[_0x48ef('0x90')]=this['getChargeBoxIdentity']();_0x294b50[_0x48ef('0xb7')]=new Date();return global[_0x48ef('0xa3')][_0x48ef('0xc3')](_0x294b50);}[_0x48ef('0xc4')](_0x40fb6b){_0x40fb6b[_0x48ef('0x90')]=this[_0x48ef('0x1f')]();_0x40fb6b[_0x48ef('0xb7')]=new Date();return global[_0x48ef('0xa3')][_0x48ef('0xc4')](_0x40fb6b);}[_0x48ef('0xc5')](_0x1454f5){_0x1454f5[_0x48ef('0x90')]=this[_0x48ef('0x1f')]();_0x1454f5['timestamp']=new Date();return this['checkIfUserIsAuthorized'](_0x1454f5,global[_0x48ef('0xa3')][_0x48ef('0xc5')]);}[_0x48ef('0xc0')](_0x1718a2,_0x4cbde0){return global[_0x48ef('0xa3')]['getUserByTagId'](_0x1718a2[_0x48ef('0xc6')])[_0x48ef('0x64')](_0x4f810d=>{if(_0x4f810d){if(_0x4f810d[_0x48ef('0xc7')]()!==Users[_0x48ef('0xc8')]){return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0xc9')+_0x4f810d[_0x48ef('0xca')]()+_0x48ef('0xcb')+_0x1718a2[_0x48ef('0xc6')]+_0x48ef('0xcc')));}else{_0x1718a2['user']=_0x4f810d;return _0x4cbde0(_0x1718a2);}}else{var _0x2414f6=new User({'\x6e\x61\x6d\x65':_0x48ef('0xa5'),'\x66\x69\x72\x73\x74\x4e\x61\x6d\x65':_0x48ef('0xcd'),'\x73\x74\x61\x74\x75\x73':Users[_0x48ef('0xce')],'\x65\x6d\x61\x69\x6c':_0x1718a2[_0x48ef('0xc6')]+_0x48ef('0xcf'),'\x74\x61\x67\x49\x44\x73':[_0x1718a2[_0x48ef('0xc6')]]});return _0x2414f6['save']()['then'](()=>{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0xd0')+_0x1718a2[_0x48ef('0xc6')]+_0x48ef('0xd1')));},_0x39baf8=>{return Promise['reject'](new Error(_0x48ef('0xd0')+_0x1718a2['idTag']+'\x20not\x20found\x20and\x20cannot\x20be\x20created\x3a\x20'+_0x39baf8['toString']()));});}});}[_0x48ef('0xd2')](_0x262eb9){_0x262eb9[_0x48ef('0x90')]=this['getChargeBoxIdentity']();if(_0x262eb9[_0x48ef('0xc6')]){return this['checkIfUserIsAuthorized'](_0x262eb9,global['storage'][_0x48ef('0xd2')]);}else{return global[_0x48ef('0xa3')][_0x48ef('0xd2')](_0x262eb9);}}[_0x48ef('0xd3')](_0x2e724a){return this['getChargingStationClient']()[_0x48ef('0x64')](_0x13824f=>{return _0x13824f[_0x48ef('0xb')](_0x2e724a);});}[_0x48ef('0x75')](_0xb5893a){return this['getChargingStationClient']()[_0x48ef('0x64')](_0x11b1b2=>{return _0x11b1b2[_0x48ef('0xe')](_0xb5893a);});}[_0x48ef('0x6f')](){return this[_0x48ef('0x92')]()[_0x48ef('0x64')](_0xf1a042=>{return _0xf1a042[_0x48ef('0x3a')]();});}[_0x48ef('0x70')](_0xb49f6f){return this[_0x48ef('0x92')]()[_0x48ef('0x64')](_0x55666c=>{return _0x55666c[_0x48ef('0xc')](_0xb49f6f);});}['requestChangeConfiguration'](_0x13aba2,_0x4519fe){return this[_0x48ef('0x92')]()[_0x48ef('0x64')](_0x52f585=>{return _0x52f585['changeConfiguration'](_0x13aba2,_0x4519fe);})[_0x48ef('0x64')](_0x4cdbcd=>{if(_0x4cdbcd[_0x48ef('0xa6')]===_0x48ef('0xd4')){return this['requestGetConfiguration']();}else{return Promise[_0x48ef('0xb0')](new Error('Cannot\x20set\x20the\x20configuration\x20param\x20'+_0x13aba2+_0x48ef('0xd5')+_0x4519fe+_0x48ef('0xd6')+this[_0x48ef('0x1f')]()));}})[_0x48ef('0x64')](_0x1c120f=>{if(_0x1c120f){return this['saveConfiguration'](_0x1c120f)[_0x48ef('0x64')](_0xbed975=>{if(_0xbed975){return{'\x73\x74\x61\x74\x75\x73':_0x48ef('0xd4')};}});}else{return Promise[_0x48ef('0xb0')](new Error('Cannot\x20retrieve\x20the\x20Configuration\x20of\x20'+this[_0x48ef('0x1f')]()));}});}['requestUnlockConnector'](_0x21c6fb){return this[_0x48ef('0x92')]()['then'](_0x38ab9f=>{return _0x38ab9f[_0x48ef('0x33')](_0x21c6fb);});}[_0x48ef('0xd7')](_0x3a7f46){return global['storage'][_0x48ef('0xd7')](this[_0x48ef('0x1f')](),_0x3a7f46)['then'](_0x50f5e8=>{return _0x50f5e8;});}[_0x48ef('0xd8')](_0x2a2805){return global[_0x48ef('0xa3')][_0x48ef('0xd8')](this[_0x48ef('0x1f')](),_0x2a2805)['then'](_0x4c7633=>{return _0x4c7633;});}[_0x48ef('0xc')](){return global[_0x48ef('0xa3')][_0x48ef('0xc')](this['getChargeBoxIdentity']())[_0x48ef('0x64')](_0x27da89=>{return _0x27da89;});}[_0x48ef('0xd9')](_0x26d677){return global[_0x48ef('0xa3')][_0x48ef('0xd9')](this[_0x48ef('0x1f')](),_0x26d677)[_0x48ef('0x64')](_0x278d56=>{return _0x278d56;});}['getTransactions'](_0x3e20be,_0xddcc4,_0x45e7fc){return global[_0x48ef('0xa3')][_0x48ef('0xda')](this[_0x48ef('0x1f')](),_0x3e20be,_0xddcc4,_0x45e7fc);}[_0x48ef('0xdb')](_0x4fbe52){return global[_0x48ef('0xa3')][_0x48ef('0xdb')](this[_0x48ef('0x1f')](),_0x4fbe52);}[_0x48ef('0xdc')](_0x5bda73,_0xad7f0f=0x1){var _0x55fc09=0x0;return this[_0x48ef('0xdb')](_0x5bda73)[_0x48ef('0x64')](_0x34769c=>{if(_0x34769c&&!_0x34769c[_0x48ef('0xdd')]){return global[_0x48ef('0xa3')][_0x48ef('0xde')](this[_0x48ef('0x1f')](),_0x5bda73,_0x34769c[_0x48ef('0xdf')][_0x48ef('0x76')],_0xad7f0f+0x1)[_0x48ef('0x64')](_0x1456af=>{var _0x30d204={};_0x30d204[_0x48ef('0xb5')]=[];_0x30d204[_0x48ef('0xe0')]=0x0;_0x30d204[_0x48ef('0x90')]=this[_0x48ef('0x1f')]();_0x30d204['connectorId']=_0x5bda73;_0x30d204[_0x48ef('0x76')]=_0x34769c['start']['transactionId'];var _0x107648=this[_0x48ef('0xe1')](_0x30d204,_0x1456af,null,![]);if(_0x107648&&_0x107648[_0x48ef('0xb5')]){for(var _0x538566=0x0;_0x538566<_0x107648[_0x48ef('0xb5')][_0x48ef('0xa9')];_0x538566++){_0x55fc09+=_0x107648[_0x48ef('0xb5')][_0x538566][_0x48ef('0xad')];}_0x55fc09/=_0x107648[_0x48ef('0xb5')][_0x48ef('0xa9')];}Logging[_0x48ef('0xe2')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x30d204[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x77'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xdc'),'\x6d\x65\x73\x73\x61\x67\x65':_0x30d204[_0x48ef('0x90')]+_0x48ef('0xe3')+_0x30d204['connectorId']+_0x48ef('0xe4')+(_0x107648[_0x48ef('0xb5')]?JSON['stringify'](_0x107648['values']):'')+'\x20\x2d\x20avg\x3a\x20'+_0x55fc09});return _0x55fc09;});}else{return _0x55fc09;}});}['getConsumptionsFromTransaction'](_0x1ae8e6,_0x174d25,_0x30a1ed){return global[_0x48ef('0xa3')][_0x48ef('0xe5')](_0x174d25)['then'](_0x5a6cbc=>{if(_0x5a6cbc){return global[_0x48ef('0xa3')][_0x48ef('0xe6')](this['getChargeBoxIdentity'](),_0x1ae8e6,_0x5a6cbc[_0x48ef('0xdf')][_0x48ef('0x76')])[_0x48ef('0x64')](_0x1aa4d4=>{var _0x2b7ec1={};_0x2b7ec1['values']=[];_0x2b7ec1[_0x48ef('0xe0')]=0x0;_0x2b7ec1['chargeBoxIdentity']=this[_0x48ef('0x1f')]();_0x2b7ec1[_0x48ef('0x73')]=_0x1ae8e6;_0x2b7ec1[_0x48ef('0x76')]=_0x5a6cbc[_0x48ef('0xdf')][_0x48ef('0x76')];return this[_0x48ef('0xe1')](_0x2b7ec1,_0x1aa4d4,_0x5a6cbc,_0x30a1ed);});}else{return null;}});}[_0x48ef('0xe7')](_0x3777d3,_0x343405,_0x31ec54,_0x5f0d9f){var _0x19d583=moment(_0x343405?_0x343405:null)[_0x48ef('0xe8')]()[_0x48ef('0xe9')](parseInt(this[_0x48ef('0x9b')]()),'seconds')[_0x48ef('0xea')]()[_0x48ef('0xeb')]();if(!_0x31ec54){_0x31ec54=new Date()[_0x48ef('0xeb')]();}return global[_0x48ef('0xa3')][_0x48ef('0xec')](this['getChargeBoxIdentity'](),_0x3777d3,_0x19d583,_0x31ec54)[_0x48ef('0x64')](_0x2148fd=>{var _0x34f069={};_0x34f069['values']=[];_0x34f069['totalConsumption']=0x0;_0x34f069[_0x48ef('0x90')]=this[_0x48ef('0x1f')]();_0x34f069[_0x48ef('0x73')]=_0x3777d3;if(_0x343405){_0x34f069['startDateTime']=_0x343405;}if(_0x31ec54){_0x34f069[_0x48ef('0xed')]=_0x31ec54;}return this[_0x48ef('0xe1')](_0x34f069,_0x2148fd,null,_0x5f0d9f);});}[_0x48ef('0xe1')](_0x58ca9f,_0x2ed3cb,_0x44621b,_0x17ad39){var _0x57a5b6=parseInt(this[_0x48ef('0x9b')]());var _0x21e76b=0x0;var _0x48a4a2=0x0;var _0x2e2685=0xe10/_0x57a5b6;var _0x3a0e5a;var _0x3bb9c2=![];_0x2ed3cb[_0x48ef('0xee')]((_0x4e2e31,_0x273323)=>{let _0x1b9ef4=_0x58ca9f[_0x48ef('0xb5')][_0x48ef('0xa9')];if(_0x4e2e31['attribute']&&_0x4e2e31[_0x48ef('0xef')]['measurand']&&_0x4e2e31[_0x48ef('0xef')][_0x48ef('0xf0')]===_0x48ef('0xf1')){let _0x4ab926=moment(_0x4e2e31[_0x48ef('0xb7')]);if(_0x1b9ef4>0x0){var _0xad445a=_0x4ab926[_0x48ef('0xf2')](_0x3a0e5a['timestamp'],_0x48ef('0xf3'));if(_0xad445a!==0x0&&_0xad445a<_0x57a5b6){_0x21e76b++;if(_0x4e2e31['value']){_0x3a0e5a=_0x4e2e31;}return;}}if(!_0x3bb9c2&&_0x44621b){_0x3bb9c2=!![];_0x3a0e5a={};_0x3a0e5a[_0x48ef('0xad')]=_0x44621b['start'][_0x48ef('0xf4')];_0x3a0e5a[_0x48ef('0xb7')]=new Date(_0x44621b[_0x48ef('0xdf')][_0x48ef('0xb7')]);}if(!_0x3bb9c2){_0x3bb9c2=!![];_0x3a0e5a=_0x4e2e31;}else{if(_0x3a0e5a['value']>_0x4e2e31['value']){_0x3a0e5a[_0x48ef('0xad')]=0x0;}if(_0x4e2e31[_0x48ef('0xad')]!==0x0||_0x3a0e5a[_0x48ef('0xad')]!==0x0){if(!_0x58ca9f[_0x48ef('0xf5')]||_0x4ab926['isAfter'](_0x58ca9f[_0x48ef('0xf5')])){var _0x2150ee=(_0x4e2e31[_0x48ef('0xad')]-_0x3a0e5a['value'])*_0x2e2685;let _0x39ce8a=!![];_0x48a4a2++;if(_0x1b9ef4>0x0){if(_0x2150ee>0x0){if(_0x58ca9f[_0x48ef('0xb5')][_0x1b9ef4-0x1][_0x48ef('0xad')]===0x0){if(_0x4ab926['diff'](_0x58ca9f[_0x48ef('0xb5')][_0x1b9ef4-0x1][_0x48ef('0xf6')],_0x48ef('0xf3'))>_0x57a5b6){_0x58ca9f[_0x48ef('0xb5')][_0x48ef('0xf7')]({'\x64\x61\x74\x65':_0x4ab926[_0x48ef('0xe8')]()[_0x48ef('0xe9')](_0x57a5b6,'seconds')[_0x48ef('0xea')](),'\x76\x61\x6c\x75\x65':0x0});}}else if(_0x17ad39&&_0x4ab926[_0x48ef('0xf2')](_0x58ca9f[_0x48ef('0xb5')][_0x1b9ef4-0x1][_0x48ef('0xf6')],_0x48ef('0xf3'))<_configAdvanced[_0x48ef('0xf8')]){_0x39ce8a=![];}}else{if(_0x58ca9f[_0x48ef('0xb5')][_0x1b9ef4-0x1]['value']===0x0){_0x39ce8a=![];}}}_0x58ca9f['totalConsumption']+=_0x4e2e31['value']-_0x3a0e5a['value'];if(_0x39ce8a){_0x58ca9f[_0x48ef('0xb5')]['push']({'\x64\x61\x74\x65':_0x4e2e31[_0x48ef('0xb7')],'\x76\x61\x6c\x75\x65':_0x2150ee});}}}else{if(_0x273323===_0x2ed3cb[_0x48ef('0xa9')]-0x1){_0x58ca9f['values']['push']({'\x64\x61\x74\x65':_0x4ab926[_0x48ef('0xea')](),'\x76\x61\x6c\x75\x65':0x0});}}_0x3a0e5a=_0x4e2e31;}}});if(_0x48a4a2){Logging['logDebug']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':this[_0x48ef('0x1f')](),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x77'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xe7'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xf9')+_0x2ed3cb[_0x48ef('0xa9')]+_0x48ef('0xfa')+_0x48a4a2+_0x48ef('0xfb')+_0x58ca9f[_0x48ef('0xb5')][_0x48ef('0xa9')]+_0x48ef('0xfc')+_0x21e76b+_0x48ef('0xfd')+(_0x21e76b?Math[_0x48ef('0xfe')](_0x21e76b/_0x48a4a2):0x0)+'\x25\x29'});}return _0x58ca9f;}}module[_0x48ef('0xf')]=ChargingStation;var Database=require(_0x48ef('0x69'));class User{constructor(_0x44a834){this[_0x48ef('0x6c')]={};Database[_0x48ef('0xff')](_0x44a834,this[_0x48ef('0x6c')]);}[_0x48ef('0xa1')](){return this[_0x48ef('0x6c')];}[_0x48ef('0x79')](){return this[_0x48ef('0x6c')]['id'];}[_0x48ef('0x100')](){return this[_0x48ef('0x6c')][_0x48ef('0x101')];}[_0x48ef('0x102')](_0x317166){this[_0x48ef('0x6c')]['name']=_0x317166;}[_0x48ef('0x103')](){return this[_0x48ef('0x6c')][_0x48ef('0x50')];}[_0x48ef('0x104')](_0x369e98){this['\x5fmodel'][_0x48ef('0x50')]=_0x369e98;}['getLocale'](){return this[_0x48ef('0x6c')]['locale'];}[_0x48ef('0x105')](_0x49a5e){this[_0x48ef('0x6c')][_0x48ef('0x106')]=_0x49a5e;}[_0x48ef('0x107')](){return this['\x5fmodel'][_0x48ef('0x108')];}[_0x48ef('0x109')](_0x343479){this['\x5fmodel'][_0x48ef('0x108')]=_0x343479;}[_0x48ef('0x10a')](){return this[_0x48ef('0x6c')][_0x48ef('0x10b')];}[_0x48ef('0x10c')](_0x136060){this[_0x48ef('0x6c')][_0x48ef('0x10b')]=_0x136060;}[_0x48ef('0xca')](){return(this[_0x48ef('0x10a')]()?this['getFirstName']()+'\x20':'')+this[_0x48ef('0x100')]();}[_0x48ef('0x10d')](){return this[_0x48ef('0x6c')][_0x48ef('0x10e')];}['setTagIDs'](_0x59391e){this[_0x48ef('0x6c')]['tagIDs']=_0x59391e;}[_0x48ef('0x10f')](){return this[_0x48ef('0x6c')][_0x48ef('0x110')];}[_0x48ef('0x111')](_0xabb1d4){this[_0x48ef('0x6c')]['image']=_0xabb1d4;}['getEMail'](){return this['\x5fmodel']['email'];}['setEMail'](_0x255855){this[_0x48ef('0x6c')][_0x48ef('0x62')]=_0x255855;}['getPhone'](){return this[_0x48ef('0x6c')][_0x48ef('0x112')];}[_0x48ef('0x113')](_0x4537fa){this[_0x48ef('0x6c')]['phone']=_0x4537fa;}[_0x48ef('0x114')](){return this[_0x48ef('0x6c')][_0x48ef('0x115')];}[_0x48ef('0x116')](_0x93f0b4){this[_0x48ef('0x6c')][_0x48ef('0x115')]=_0x93f0b4;}[_0x48ef('0x117')](){return this[_0x48ef('0x6c')][_0x48ef('0x118')];}[_0x48ef('0x119')](_0x18fe33){this[_0x48ef('0x6c')][_0x48ef('0x118')]=_0x18fe33;}[_0x48ef('0xc7')](){return this[_0x48ef('0x6c')][_0x48ef('0xa6')];}[_0x48ef('0x11a')](_0x55bed7){this[_0x48ef('0x6c')][_0x48ef('0xa6')]=_0x55bed7;}[_0x48ef('0x11b')](){return this[_0x48ef('0x6c')][_0x48ef('0x11c')];}['setCreatedBy'](_0x47f1de){this[_0x48ef('0x6c')][_0x48ef('0x11c')]=_0x47f1de;}['getCreatedOn'](){return this[_0x48ef('0x6c')]['createdOn'];}[_0x48ef('0x11d')](_0x53c059){this[_0x48ef('0x6c')][_0x48ef('0x11e')]=_0x53c059;}['getLastChangedBy'](){return this[_0x48ef('0x6c')][_0x48ef('0x11f')];}[_0x48ef('0x120')](_0x198d62){this[_0x48ef('0x6c')][_0x48ef('0x11f')]=_0x198d62;}[_0x48ef('0x121')](){return this[_0x48ef('0x6c')][_0x48ef('0x122')];}[_0x48ef('0x123')](_0x5d518e){this[_0x48ef('0x6c')]['lastChangedOn']=_0x5d518e;}[_0x48ef('0xa2')](){return global['storage'][_0x48ef('0x124')](this);}}module[_0x48ef('0xf')]=User;var ChargingStation=require('\x2e\x2e\x2fmodel\x2fChargingStation');var User=require(_0x48ef('0x125'));var Utils=require(_0x48ef('0x65'));var Logging=require(_0x48ef('0x126'));var Configuration=require('\x2e\x2e\x2futils\x2fConfiguration');var Mustache=require(_0x48ef('0x127'));var EMail=require('\x2e\x2e\x2femail\x2fEMail');var moment=require(_0x48ef('0x6a'));_configChargingStation=Configuration[_0x48ef('0x128')]();module['exports']={'\x65\x78\x65\x63\x75\x74\x65\x41\x6c\x6c\x42\x61\x63\x6b\x67\x72\x6f\x75\x6e\x64\x54\x61\x73\x6b\x73':function(){return module[_0x48ef('0xf')][_0x48ef('0x129')]();},'\x63\x68\x65\x63\x6b\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x73'(){return new Promise((_0x53c5c0,_0xa4f8ec)=>{global[_0x48ef('0xa3')]['getChargingStations']()[_0x48ef('0x64')](_0x41e4a5=>{Promise[_0x48ef('0x12a')](_0x41e4a5[_0x48ef('0x12b')](_0x2c6fa0=>{var _0x5c7ee6=![];return module[_0x48ef('0xf')][_0x48ef('0x12c')](_0x2c6fa0)[_0x48ef('0x64')](_0x806edd=>{_0x5c7ee6=_0x5c7ee6||_0x806edd;return module[_0x48ef('0xf')][_0x48ef('0x12d')](_0x2c6fa0);})['then'](_0x3acf9d=>{_0x5c7ee6=_0x5c7ee6||_0x3acf9d;if(_0x5c7ee6){return _0x2c6fa0['save']();}});}))[_0x48ef('0x64')](()=>{_0x53c5c0();});})['catch'](_0x5b1b32=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x12e'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x129'),'\x6d\x65\x73\x73\x61\x67\x65':'Cannot\x20check\x20the\x20Charging\x20Stations\x3a\x20'+_0x5b1b32[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x5b1b32[_0x48ef('0x36')]});_0xa4f8ec(_0x5b1b32);});});},'\x63\x6f\x6d\x70\x75\x74\x65\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x73\x43\x6f\x6e\x73\x75\x6d\x70\x74\x69\x6f\x6e':function(_0x2f1286){return new Promise((_0x58805b,_0x203e2b)=>{var _0x4b185b=[];var _0x5172c0=![];var _0x58ffc=_0x2f1286['getConnectors']();_0x58ffc[_0x48ef('0xee')](_0x439c47=>{_0x4b185b[_0x48ef('0xf7')](_0x2f1286[_0x48ef('0xdc')](_0x439c47[_0x48ef('0x73')],0x2)['then'](_0x247572=>{let _0x33487c=0x0;if(_0x247572){_0x33487c=_0x247572;}if(_0x439c47[_0x48ef('0x12f')]!==_0x33487c){Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':'Central\x20Server','\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x12e'),'\x6d\x65\x74\x68\x6f\x64':'computeChargingStationsConsumption','\x6d\x65\x73\x73\x61\x67\x65':'Charging\x20Station\x20'+_0x2f1286[_0x48ef('0x1f')]()+_0x48ef('0x130')+_0x439c47['connectorId']+_0x48ef('0x131')+_0x439c47[_0x48ef('0x12f')]+_0x48ef('0xd6')+_0x33487c});_0x439c47[_0x48ef('0x12f')]=_0x33487c;_0x5172c0=!![];}return Promise[_0x48ef('0x94')]();}));});Promise[_0x48ef('0x12a')](_0x4b185b)['then'](()=>{_0x58805b(_0x5172c0);});});},'\x63\x68\x65\x63\x6b\x41\x6e\x64\x53\x65\x6e\x64\x45\x6e\x64\x4f\x66\x43\x68\x61\x72\x67\x65\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x40f573){return new Promise((_0x5e41a5,_0x402029)=>{var _0x293341=[];var _0x4eb1e5=![];var _0x4961f3=_0x40f573[_0x48ef('0x98')]();_0x4961f3[_0x48ef('0xee')](_0x2d8f61=>{_0x293341[_0x48ef('0xf7')](_0x40f573[_0x48ef('0xdb')](_0x2d8f61[_0x48ef('0x73')])[_0x48ef('0x64')](_0x42665e=>{if(_0x42665e&&!_0x42665e['stop']&&moment(_0x42665e[_0x48ef('0xdf')][_0x48ef('0xb7')])[_0x48ef('0x132')](_configChargingStation[_0x48ef('0x133')],_0x48ef('0x134'))['isBefore'](moment())){if(_configChargingStation[_0x48ef('0x135')]&&!_0x42665e['start'][_0x48ef('0x136')]&&_0x2d8f61[_0x48ef('0x12f')]<=_configChargingStation[_0x48ef('0x137')]){EMail[_0x48ef('0x5d')]({'\x75\x73\x65\x72':_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')],'\x63\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x49\x64':_0x40f573[_0x48ef('0x1f')](),'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':_0x2d8f61[_0x48ef('0x73')],'\x65\x76\x73\x65\x44\x61\x73\x68\x62\x6f\x61\x72\x64\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x55\x52\x4c':Utils[_0x48ef('0x139')](_0x40f573,_0x2d8f61[_0x48ef('0x73')],_0x42665e[_0x48ef('0xdf')]['transactionId'])},_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')]['locale'])['then'](_0x2ad683=>{let _0x1b1342={};_0x1b1342[_0x48ef('0x10b')]=_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')]['firstName'];_0x1b1342['name']=_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')][_0x48ef('0x101')];_0x1b1342['email']=_0x42665e[_0x48ef('0xdf')]['userID']['email'];_0x42665e['start'][_0x48ef('0x138')]=_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')]['id'];_0x42665e['start'][_0x48ef('0x136')]=!![];_0x40f573['saveStartTransaction'](_0x42665e[_0x48ef('0xdf')])[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':'Central\x20Server','\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x13a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x12d'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x13b'),'\x6d\x65\x73\x73\x61\x67\x65':'User\x20'+_0x1b1342[_0x48ef('0x10b')]+'\x20'+_0x1b1342[_0x48ef('0x101')]+_0x48ef('0x13c')+_0x1b1342['email']+_0x48ef('0x13d'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x42665e});return Promise['resolve']();});},_0x573d1a=>{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x13a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x12d'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x13b'),'\x6d\x65\x73\x73\x61\x67\x65':''+_0x573d1a[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x573d1a[_0x48ef('0x36')]});});}else if(!_0x42665e[_0x48ef('0xdf')]['notifEndOfChargeSent']&&_configChargingStation[_0x48ef('0x13e')]&&_0x2d8f61[_0x48ef('0x12f')]===0x0){if(_configChargingStation['notifEndOfChargeEnabled']){EMail[_0x48ef('0x5f')]({'\x75\x73\x65\x72':_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')],'\x63\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x49\x64':_0x40f573[_0x48ef('0x1f')](),'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':_0x2d8f61['connectorId'],'\x65\x76\x73\x65\x44\x61\x73\x68\x62\x6f\x61\x72\x64\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x55\x52\x4c':Utils[_0x48ef('0x139')](_0x40f573,_0x2d8f61[_0x48ef('0x73')],_0x42665e[_0x48ef('0xdf')][_0x48ef('0x76')]),'\x6e\x6f\x74\x69\x66\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x41\x6e\x64\x55\x6e\x6c\x6f\x63\x6b\x43\x6f\x6e\x6e\x65\x63\x74\x6f\x72':_configChargingStation[_0x48ef('0x13f')]},_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')]['locale'])[_0x48ef('0x64')](_0x3fb830=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':'Central\x20Server','\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x13a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x12d'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x140'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xc9')+_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')]['firstName']+'\x20'+_0x42665e[_0x48ef('0xdf')]['userID'][_0x48ef('0x101')]+_0x48ef('0x13c')+_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')][_0x48ef('0x62')]+_0x48ef('0x141'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x42665e});_0x42665e[_0x48ef('0xdf')]['userID']=_0x42665e[_0x48ef('0xdf')][_0x48ef('0x138')]['id'];_0x42665e[_0x48ef('0xdf')][_0x48ef('0x142')]=!![];_0x40f573[_0x48ef('0xc1')](_0x42665e[_0x48ef('0xdf')])[_0x48ef('0x64')](()=>{if(_configChargingStation[_0x48ef('0x13f')]){_0x40f573[_0x48ef('0x75')](_0x42665e['start'][_0x48ef('0x76')])[_0x48ef('0x64')](_0x45ea70=>{if(_0x45ea70&&_0x45ea70['status']===_0x48ef('0xd4')){_0x40f573[_0x48ef('0x72')](_0x2d8f61['connectorId'])[_0x48ef('0x64')](_0x1ad13d=>{if(_0x1ad13d&&_0x1ad13d[_0x48ef('0xa6')]===_0x48ef('0xd4')){return Promise[_0x48ef('0x94')]();}else{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x13a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x12d'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x140'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x143')+_0x2d8f61[_0x48ef('0x73')]+'\x27\x20of\x20the\x20Charging\x20Station\x20\x27'+_0x40f573[_0x48ef('0x1f')]()+'\x27','\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x42665e});}});}else{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x13a'),'\x6d\x65\x74\x68\x6f\x64':'checkAndSendEndOfChargeNotification','\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x140'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x144')+_0x40f573[_0x48ef('0x1f')]()+'\x27','\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x42665e});}});}});return Promise['resolve']();},_0x2a20ce=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x13a'),'\x6d\x65\x74\x68\x6f\x64':'checkAndSendEndOfChargeNotification','\x61\x63\x74\x69\x6f\x6e':'NotifyEndOfCharge','\x6d\x65\x73\x73\x61\x67\x65':''+_0x2a20ce[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x2a20ce[_0x48ef('0x36')]});});}}}return Promise[_0x48ef('0x94')]();}));});Promise[_0x48ef('0x12a')](_0x293341)[_0x48ef('0x64')](()=>{_0x5e41a5(_0x4eb1e5);});});},'\x75\x70\x6c\x6f\x61\x64\x55\x73\x65\x72\x73'(){console['log'](_0x48ef('0x145'));var _0x921a5b=Utils[_0x48ef('0x146')]();for(var _0x54b3fa=0x0;_0x54b3fa<_0x921a5b[_0x48ef('0xa9')];_0x54b3fa++){module[_0x48ef('0xf')]['checkAndSaveUser'](_0x921a5b[_0x54b3fa]);}},'\x63\x68\x65\x63\x6b\x41\x6e\x64\x53\x61\x76\x65\x55\x73\x65\x72'(_0xb36e8a){global[_0x48ef('0xa3')][_0x48ef('0x147')](_0xb36e8a[_0x48ef('0x62')])['then'](_0x1d491b=>{if(!_0x1d491b){var _0x17f509=new User(_0xb36e8a);_0x17f509[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x12e'),'\x6d\x65\x74\x68\x6f\x64':'checkAndSaveUser','\x6d\x65\x73\x73\x61\x67\x65':'User\x20'+_0x17f509[_0x48ef('0xca')]()+_0x48ef('0x148')+_0x17f509['getEMail']()+_0x48ef('0x149'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0xb36e8a});});}});},'\x73\x61\x76\x65\x55\x73\x65\x72\x73'(){console[_0x48ef('0x3')]('Users\x20Saved\x21');global[_0x48ef('0xa3')][_0x48ef('0x146')]()[_0x48ef('0x64')](function(_0x398281){let _0x21d394=[];for(var _0x2f8675=0x0;_0x2f8675<_0x398281[_0x48ef('0xa9')];_0x2f8675++){_0x21d394[_0x48ef('0xf7')](_0x398281[_0x2f8675]['getModel']());}Utils['saveUsers'](_0x21d394);})['catch'](_0x378601=>{console['log'](_0x378601);});}};var ChargingStation=require(_0x48ef('0x14a'));var Utils=require(_0x48ef('0x14b'));var Logging=require(_0x48ef('0x14c'));var bodyParser=require(_0x48ef('0x14d'));require(_0x48ef('0x14e'))(bodyParser);var cors=require(_0x48ef('0x14f'));var helmet=require(_0x48ef('0x150'));var morgan=require('morgan');var locale=require('locale');let _centralSystemConfig;let _chargingStationConfig;class CentralSystemServer{constructor(_0x456a8c,_0x3f9565,_0x30ce40){if(new.target===CentralSystemServer){throw new TypeError('Cannot\x20construct\x20CentralSystemServer\x20instances\x20directly');}_0x30ce40[_0x48ef('0x151')](bodyParser[_0x48ef('0x152')]());_0x30ce40[_0x48ef('0x151')](bodyParser[_0x48ef('0x153')]({'\x65\x78\x74\x65\x6e\x64\x65\x64':![]}));_0x30ce40[_0x48ef('0x151')](bodyParser[_0x48ef('0x154')]());_0x30ce40[_0x48ef('0x151')](morgan(_0x48ef('0x155')));_0x30ce40[_0x48ef('0x151')](cors());_0x30ce40['use'](helmet());_centralSystemConfig=_0x456a8c;_chargingStationConfig=_0x3f9565;}[_0x48ef('0xdf')](){}[_0x48ef('0x156')](_0x49a160,_0x1018a3,_0x4bbce1){_0x49a160['endpoint']=_0x1018a3[_0x48ef('0x157')]['Address'];_0x49a160[_0x48ef('0x90')]=_0x1018a3[_0x48ef('0x90')];_0x49a160[_0x48ef('0xa0')]=new Date()[_0x48ef('0xeb')]();_0x49a160[_0x48ef('0x96')]=_0x49a160['lastReboot'];_0x49a160[_0x48ef('0xb7')]=_0x49a160[_0x48ef('0xa0')];return global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x1018a3[_0x48ef('0x90')])[_0x48ef('0x64')](_0xc76fb5=>{if(!_0xc76fb5){_0xc76fb5=new ChargingStation(_0x49a160);}return _0xc76fb5[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x1018a3[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x156'),'\x61\x63\x74\x69\x6f\x6e':'BootNotification','\x6d\x65\x73\x73\x61\x67\x65':'Charging\x20Station\x20saved\x20successfully','\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0xc76fb5[_0x48ef('0xa1')]()});return _0xc76fb5[_0x48ef('0xb3')](_0x49a160);})[_0x48ef('0x64')](()=>{Logging['logInfo']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x1018a3['chargeBoxIdentity'],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x156'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x159'),'\x6d\x65\x73\x73\x61\x67\x65':'Boot\x20Notification\x20saved\x20successfully','\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x49a160});return _0xc76fb5[_0x48ef('0x70')]();})['then'](_0x7debdc=>{if(_0x7debdc){return _0xc76fb5[_0x48ef('0xbd')](_0x7debdc);}else{return Promise[_0x48ef('0xb0')](new Error('Cannot\x20retrieve\x20the\x20Configuration\x20of\x20'+_0x1018a3[_0x48ef('0x90')]));}})[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x1018a3[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x156'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x159'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x15a')});if(_0x49a160[_0x48ef('0x8f')]===_0x48ef('0x16')){return{'\x62\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x73\x74\x61\x74\x75\x73':'Accepted','\x63\x75\x72\x72\x65\x6e\x74\x54\x69\x6d\x65':new Date()[_0x48ef('0xeb')](),'\x69\x6e\x74\x65\x72\x76\x61\x6c':_chargingStationConfig[_0x48ef('0x15b')]}};}else{return{'\x62\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0xd4'),'\x63\x75\x72\x72\x65\x6e\x74\x54\x69\x6d\x65':new Date()[_0x48ef('0xeb')](),'\x68\x65\x61\x72\x74\x62\x65\x61\x74\x49\x6e\x74\x65\x72\x76\x61\x6c':_chargingStationConfig[_0x48ef('0x15b')]}};}})[_0x48ef('0x15c')](_0x331b34=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x1018a3[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x156'),'\x61\x63\x74\x69\x6f\x6e':'BootNotification','\x6d\x65\x73\x73\x61\x67\x65':_0x331b34[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x331b34[_0x48ef('0x36')]});return{'\x62\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0x15d'),'\x63\x75\x72\x72\x65\x6e\x74\x54\x69\x6d\x65':new Date()[_0x48ef('0xeb')](),'\x68\x65\x61\x72\x74\x62\x65\x61\x74\x49\x6e\x74\x65\x72\x76\x61\x6c':_chargingStationConfig['heartbeatIntervalSecs']}};});});}[_0x48ef('0x15e')](_0x337085,_0xfb643b,_0x43e4d5){var _0x3d5edb=new Date();return global[_0x48ef('0xa3')][_0x48ef('0x42')](_0xfb643b['chargeBoxIdentity'])[_0x48ef('0x64')](_0x4607bb=>{if(_0x4607bb){_0x4607bb['setLastHeartBeat'](_0x3d5edb);return _0x4607bb['save']()[_0x48ef('0x64')](()=>{Logging['logInfo']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0xfb643b['chargeBoxIdentity'],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x15e'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x15f'),'\x6d\x65\x73\x73\x61\x67\x65':'HeartBeat\x20saved\x20successfully','\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x3d5edb});});}})['then'](()=>{return{'\x68\x65\x61\x72\x74\x62\x65\x61\x74\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x63\x75\x72\x72\x65\x6e\x74\x54\x69\x6d\x65':_0x3d5edb[_0x48ef('0xeb')]()}};})[_0x48ef('0x15c')](_0x595216=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0xfb643b['chargeBoxIdentity'],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':'handleHeartBeat','\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x15f'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x160')+_0x595216[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x595216[_0x48ef('0x36')]});return{'\x68\x65\x61\x72\x74\x62\x65\x61\x74\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x63\x75\x72\x72\x65\x6e\x74\x54\x69\x6d\x65':_0x3d5edb['toISOString']()}};});}['handleStatusNotification'](_0x2e913e,_0xaf017b,_0x739b4f){return global[_0x48ef('0xa3')][_0x48ef('0x42')](_0xaf017b[_0x48ef('0x90')])[_0x48ef('0x64')](_0x15dff9=>{if(_0x15dff9){return _0x15dff9[_0x48ef('0xb2')](_0x2e913e);}})[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0xaf017b[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x161'),'\x61\x63\x74\x69\x6f\x6e':'StatusNotification','\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x162'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x2e913e});return{'\x73\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};})[_0x48ef('0x15c')](_0x57312b=>{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0xaf017b[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x161'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x163'),'\x6d\x65\x73\x73\x61\x67\x65':_0x57312b[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x57312b['stack']});return{'\x73\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};});}['handleMeterValues'](_0x56afa6,_0x2de631,_0x57d58d){return global[_0x48ef('0xa3')]['getChargingStation'](_0x2de631[_0x48ef('0x90')])[_0x48ef('0x64')](_0x387e91=>{if(_0x387e91){return _0x387e91[_0x48ef('0xb4')](_0x56afa6);}})[_0x48ef('0x64')](()=>{return{'\x6d\x65\x74\x65\x72\x56\x61\x6c\x75\x65\x73\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};})[_0x48ef('0x15c')](_0x2aae8f=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x2de631[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x164'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x165'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x166')+_0x2aae8f[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x2aae8f[_0x48ef('0x36')]});return{'\x6d\x65\x74\x65\x72\x56\x61\x6c\x75\x65\x73\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};});}['handleAuthorize'](_0x1237e3,_0x1003c3,_0x496d55){return global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x1003c3[_0x48ef('0x90')])[_0x48ef('0x64')](_0x154233=>{if(_0x154233){return _0x154233[_0x48ef('0xc5')](_0x1237e3);}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x167')+_0x1003c3[_0x48ef('0x90')]+'\x20does\x20not\x20exist'));}})[_0x48ef('0x64')](()=>{Logging['logInfo']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x1003c3[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x168'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x169'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x16a'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x1237e3});return{'\x61\x75\x74\x68\x6f\x72\x69\x7a\x65\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x69\x64\x54\x61\x67\x49\x6e\x66\x6f':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0xd4')}}};})[_0x48ef('0x15c')](_0x5754ca=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x1003c3[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x168'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x169'),'\x6d\x65\x73\x73\x61\x67\x65':_0x5754ca[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x5754ca[_0x48ef('0x36')]});return{'\x61\x75\x74\x68\x6f\x72\x69\x7a\x65\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x69\x64\x54\x61\x67\x49\x6e\x66\x6f':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0x16b')}}};});}[_0x48ef('0x16c')](_0x1e334b,_0x303f0b,_0x2302c3){return global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x303f0b['chargeBoxIdentity'])[_0x48ef('0x64')](_0x5b3f2a=>{if(_0x5b3f2a){return _0x5b3f2a['saveDiagnosticsStatusNotification'](_0x1e334b);}})[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x303f0b[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x16c'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x16d'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x16e'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x1e334b});return{'\x64\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};})[_0x48ef('0x15c')](_0x3e72c0=>{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x303f0b[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x16c'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x16d'),'\x6d\x65\x73\x73\x61\x67\x65':_0x3e72c0['toString'](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x3e72c0[_0x48ef('0x36')]});return{'\x64\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};});}[_0x48ef('0x16f')](_0x1f558e,_0x2791d7,_0x45f9bb){return global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x2791d7[_0x48ef('0x90')])['then'](_0x2c1397=>{if(_0x2c1397){return _0x2c1397[_0x48ef('0xc4')](_0x1f558e);}})[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x2791d7[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x16f'),'\x61\x63\x74\x69\x6f\x6e':'FirmwareStatusNotification','\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x170'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x1f558e});return{'\x66\x69\x72\x6d\x77\x61\x72\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};})['catch'](_0x4b03d1=>{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x2791d7[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x16f'),'\x61\x63\x74\x69\x6f\x6e':'FirmwareStatusNotification','\x6d\x65\x73\x73\x61\x67\x65':_0x4b03d1[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x4b03d1[_0x48ef('0x36')]});return{'\x66\x69\x72\x6d\x77\x61\x72\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{}};});}[_0x48ef('0x171')](_0xfef922,_0x1a1881,_0x4a2b5d){_0xfef922['transactionId']=Utils['getRandomInt']();return global['storage'][_0x48ef('0x42')](_0x1a1881[_0x48ef('0x90')])[_0x48ef('0x64')](_0x1bf0db=>{if(_0x1bf0db){return _0x1bf0db[_0x48ef('0xc1')](_0xfef922);}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x172')+_0x1a1881[_0x48ef('0x90')]+'\x20does\x20not\x20exist'));}})[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x1a1881[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x171'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x173'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x174'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0xfef922});return{'\x73\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0xfef922[_0x48ef('0x76')],'\x69\x64\x54\x61\x67\x49\x6e\x66\x6f':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0xd4')}}};})[_0x48ef('0x15c')](_0x38d4d9=>{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x1a1881[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':'handleStartTransaction','\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x173'),'\x6d\x65\x73\x73\x61\x67\x65':_0x38d4d9['toString'](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x38d4d9[_0x48ef('0x36')]});return{'\x73\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0xfef922[_0x48ef('0x76')],'\x69\x64\x54\x61\x67\x49\x6e\x66\x6f':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0x16b')}}};});}[_0x48ef('0x175')](_0x36de53,_0x22a0e4,_0x296b08){return global[_0x48ef('0xa3')]['getChargingStation'](_0x22a0e4['chargeBoxIdentity'])[_0x48ef('0x64')](_0x22856c=>{if(_0x22856c){return _0x22856c[_0x48ef('0xc2')](_0x36de53);}})[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x22a0e4[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x175'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x176'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x177'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x36de53});return{'\x64\x61\x74\x61\x54\x72\x61\x6e\x73\x66\x65\x72\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0xd4')}};})[_0x48ef('0x15c')](_0x4e51c4=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x22a0e4[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x158'),'\x6d\x65\x74\x68\x6f\x64':'handleDataTransfer','\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x176'),'\x6d\x65\x73\x73\x61\x67\x65':_0x4e51c4['toString'](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x4e51c4[_0x48ef('0x36')]});return{'\x64\x61\x74\x61\x54\x72\x61\x6e\x73\x66\x65\x72\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x73\x74\x61\x74\x75\x73':'Rejected'}};});}[_0x48ef('0x178')](_0x405e05,_0x261691,_0x34e712){return global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x261691[_0x48ef('0x90')])['then'](_0xf0323f=>{if(_0xf0323f){return _0xf0323f[_0x48ef('0xd2')](_0x405e05);}})[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x261691[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x178'),'\x61\x63\x74\x69\x6f\x6e':'StopTransaction','\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x179'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x405e05});return{'\x73\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x69\x64\x54\x61\x67\x49\x6e\x66\x6f':{'\x73\x74\x61\x74\x75\x73':'Accepted'}}};})[_0x48ef('0x15c')](_0x26e965=>{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x261691[_0x48ef('0x90')],'\x6d\x6f\x64\x75\x6c\x65':'CentralSystemServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x178'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x17a'),'\x6d\x65\x73\x73\x61\x67\x65':_0x26e965['toString'](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x26e965[_0x48ef('0x36')]});return{'\x73\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x52\x65\x73\x70\x6f\x6e\x73\x65':{'\x69\x64\x54\x61\x67\x49\x6e\x66\x6f':{'\x73\x74\x61\x74\x75\x73':_0x48ef('0x16b')}}};});}}module['exports']=CentralSystemServer;var Logging=require(_0x48ef('0x17b'));var _moduleName=_0x48ef('0x17c');module[_0x48ef('0xf')]={'\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x53\x65\x72\x76\x69\x63\x65':{'\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x53\x65\x72\x76\x69\x63\x65\x53\x6f\x61\x70\x31\x32':{'\x41\x75\x74\x68\x6f\x72\x69\x7a\x65':function(_0x1e222b,_0x55d9c7,_0x2fdff2,_0x5b98d5){Logging['logReceivedAction'](_moduleName,_0x2fdff2['chargeBoxIdentity'],'Authorize',_0x1e222b,_0x2fdff2);global[_0x48ef('0x17d')][_0x48ef('0x168')](_0x1e222b,_0x2fdff2,_0x5b98d5)[_0x48ef('0x64')](function(_0x4a0741){Logging['logReturnedAction'](_moduleName,_0x2fdff2[_0x48ef('0x90')],_0x48ef('0x169'),_0x4a0741);_0x55d9c7(_0x4a0741);});},'\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x2ad07b,_0x554100,_0x4c43a4,_0x972c05){Logging['logReceivedAction'](_moduleName,_0x4c43a4[_0x48ef('0x90')],_0x48ef('0x173'),_0x2ad07b,_0x4c43a4);global[_0x48ef('0x17d')]['handleStartTransaction'](_0x2ad07b,_0x4c43a4,_0x972c05)[_0x48ef('0x64')](function(_0x3c56f3){Logging[_0x48ef('0x32')](_moduleName,_0x4c43a4[_0x48ef('0x90')],'StartTransaction',_0x3c56f3);_0x554100(_0x3c56f3);});},'\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x39b73b,_0x5b4871,_0x482f60,_0x50a437){Logging[_0x48ef('0x17e')](_moduleName,_0x482f60[_0x48ef('0x90')],_0x48ef('0x74'),_0x39b73b,_0x482f60);global[_0x48ef('0x17d')][_0x48ef('0x178')](_0x39b73b,_0x482f60,_0x50a437)[_0x48ef('0x64')](function(_0x13a864){Logging[_0x48ef('0x32')](_moduleName,_0x482f60['chargeBoxIdentity'],'StopTransaction',_0x13a864);_0x5b4871(_0x13a864);});},'\x48\x65\x61\x72\x74\x62\x65\x61\x74':function(_0x551202,_0x55a1cc,_0x4f503b,_0x5e238c){Logging[_0x48ef('0x17e')](_moduleName,_0x4f503b[_0x48ef('0x90')],_0x48ef('0x17f'),_0x551202,_0x4f503b);global[_0x48ef('0x17d')][_0x48ef('0x15e')](_0x551202,_0x4f503b,_0x5e238c)[_0x48ef('0x64')](function(_0x8046dd){Logging[_0x48ef('0x32')](_moduleName,_0x4f503b[_0x48ef('0x90')],'Heartbeat',_0x8046dd);_0x55a1cc(_0x8046dd);});},'\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65\x73':function(_0x5aedbe,_0x342b6d,_0xe1ce6f,_0x139d74){Logging[_0x48ef('0x17e')](_moduleName,_0xe1ce6f[_0x48ef('0x90')],'MeterValues',_0x5aedbe,_0xe1ce6f);global[_0x48ef('0x17d')][_0x48ef('0x164')](_0x5aedbe,_0xe1ce6f,_0x139d74)['then'](function(_0x399f57){Logging['logReturnedAction'](_moduleName,_0xe1ce6f[_0x48ef('0x90')],'MeterValues',_0x399f57);_0x342b6d(_0x399f57);});},'\x42\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x11dd05,_0x568176,_0x4fa0f9,_0x69feab){_0x11dd05[_0x48ef('0x8f')]=_0x48ef('0x13');Logging[_0x48ef('0x17e')](_moduleName,_0x4fa0f9['chargeBoxIdentity'],_0x48ef('0x159'),_0x11dd05,_0x4fa0f9);global[_0x48ef('0x17d')][_0x48ef('0x156')](_0x11dd05,_0x4fa0f9,_0x69feab)[_0x48ef('0x64')](function(_0x570105){Logging['logReturnedAction'](_moduleName,_0x4fa0f9[_0x48ef('0x90')],_0x48ef('0x159'),_0x570105);_0x568176(_0x570105);});},'\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x3f6954,_0x42f00a,_0x39e5c7,_0x49b62a){Logging[_0x48ef('0x17e')](_moduleName,_0x39e5c7['chargeBoxIdentity'],'StatusNotification',_0x3f6954,_0x39e5c7);global[_0x48ef('0x17d')][_0x48ef('0x161')](_0x3f6954,_0x39e5c7,_0x49b62a)[_0x48ef('0x64')](function(_0x2e8e5c){Logging[_0x48ef('0x32')](_moduleName,_0x39e5c7[_0x48ef('0x90')],_0x48ef('0x163'),_0x2e8e5c);_0x42f00a(_0x2e8e5c);});},'\x46\x69\x72\x6d\x77\x61\x72\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x12aa5c,_0x118e2b,_0x355b87,_0x25427a){Logging['logReceivedAction'](_moduleName,_0x355b87[_0x48ef('0x90')],_0x48ef('0x180'),_0x12aa5c,_0x355b87);global[_0x48ef('0x17d')][_0x48ef('0x16f')](_0x12aa5c,_0x355b87,_0x25427a)[_0x48ef('0x64')](function(_0x346cbe){Logging[_0x48ef('0x32')](_moduleName,_0x355b87['chargeBoxIdentity'],_0x48ef('0x180'),_0x346cbe);_0x118e2b(_0x346cbe);});},'\x44\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x3f721d,_0x5f03f7,_0x1e7d50,_0x53a6e6){Logging[_0x48ef('0x17e')](_moduleName,_0x1e7d50[_0x48ef('0x90')],'DiagnosticsStatusNotification',_0x3f721d,_0x1e7d50);global['centralSystemSoap'][_0x48ef('0x16c')](_0x3f721d,_0x1e7d50,_0x53a6e6)[_0x48ef('0x64')](function(_0x1d4254){Logging[_0x48ef('0x32')](_moduleName,_0x1e7d50[_0x48ef('0x90')],'DiagnosticsStatusNotification',_0x1d4254);_0x5f03f7(_0x1d4254);});}}}};var Logging=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2futils\x2fLogging');var _moduleName='centralSystemService1\x2e5';module[_0x48ef('0xf')]={'\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x53\x65\x72\x76\x69\x63\x65':{'\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x53\x65\x72\x76\x69\x63\x65\x53\x6f\x61\x70\x31\x32':{'\x41\x75\x74\x68\x6f\x72\x69\x7a\x65':function(_0x33886d,_0xba7d4a,_0x4c67fd,_0x13fb6f){Logging[_0x48ef('0x17e')](_moduleName,_0x4c67fd[_0x48ef('0x90')],_0x48ef('0x169'),_0x33886d,_0x4c67fd);global[_0x48ef('0x17d')][_0x48ef('0x168')](_0x33886d,_0x4c67fd,_0x13fb6f)[_0x48ef('0x64')](function(_0x2eabd1){Logging['logReturnedAction'](_moduleName,_0x4c67fd[_0x48ef('0x90')],_0x48ef('0x169'),_0x2eabd1);_0xba7d4a(_0x2eabd1);});},'\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x478be7,_0x14a719,_0x2035e2,_0x275f8a){Logging[_0x48ef('0x17e')](_moduleName,_0x2035e2[_0x48ef('0x90')],'StartTransaction',_0x478be7,_0x2035e2);global[_0x48ef('0x17d')][_0x48ef('0x171')](_0x478be7,_0x2035e2,_0x275f8a)['then'](function(_0x32b82c){Logging[_0x48ef('0x32')](_moduleName,_0x2035e2[_0x48ef('0x90')],_0x48ef('0x173'),_0x32b82c);_0x14a719(_0x32b82c);});},'\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x39d0fb,_0x45f9e7,_0x517671,_0x511555){Logging[_0x48ef('0x17e')](_moduleName,_0x517671[_0x48ef('0x90')],_0x48ef('0x74'),_0x39d0fb,_0x517671);global[_0x48ef('0x17d')][_0x48ef('0x178')](_0x39d0fb,_0x517671,_0x511555)[_0x48ef('0x64')](function(_0x299a47){Logging[_0x48ef('0x32')](_moduleName,_0x517671[_0x48ef('0x90')],'StopTransaction',_0x299a47);_0x45f9e7(_0x299a47);});},'\x48\x65\x61\x72\x74\x62\x65\x61\x74':function(_0x2e486d,_0x3cca8f,_0x4576a1,_0x52db3e){Logging[_0x48ef('0x17e')](_moduleName,_0x4576a1[_0x48ef('0x90')],_0x48ef('0x17f'),_0x2e486d,_0x4576a1);global['centralSystemSoap']['handleHeartBeat'](_0x2e486d,_0x4576a1,_0x52db3e)[_0x48ef('0x64')](function(_0x93d7d3){Logging[_0x48ef('0x32')](_moduleName,_0x4576a1['chargeBoxIdentity'],_0x48ef('0x17f'),_0x93d7d3);_0x3cca8f(_0x93d7d3);});},'\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65\x73':function(_0x58d052,_0x1d486a,_0x30f125,_0x5cb40c){Logging[_0x48ef('0x17e')](_moduleName,_0x30f125[_0x48ef('0x90')],_0x48ef('0x165'),_0x58d052,_0x30f125);global[_0x48ef('0x17d')][_0x48ef('0x164')](_0x58d052,_0x30f125,_0x5cb40c)[_0x48ef('0x64')](function(_0x4b3cc1){Logging[_0x48ef('0x32')](_moduleName,_0x30f125[_0x48ef('0x90')],'MeterValues',_0x4b3cc1);_0x1d486a(_0x4b3cc1);});},'\x42\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x33c734,_0x3fca40,_0x477e13,_0x1664ac){_0x33c734[_0x48ef('0x8f')]='1\x2e5';Logging['logReceivedAction'](_moduleName,_0x477e13[_0x48ef('0x90')],_0x48ef('0x159'),_0x33c734,_0x477e13);global[_0x48ef('0x17d')][_0x48ef('0x156')](_0x33c734,_0x477e13,_0x1664ac)[_0x48ef('0x64')](function(_0x1113c1){Logging[_0x48ef('0x32')](_moduleName,_0x477e13[_0x48ef('0x90')],_0x48ef('0x159'),_0x1113c1);_0x3fca40(_0x1113c1);});},'\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x4e4ba6,_0x4842d7,_0x345395,_0x190e82){Logging[_0x48ef('0x17e')](_moduleName,_0x345395['chargeBoxIdentity'],_0x48ef('0x163'),_0x4e4ba6,_0x345395);global[_0x48ef('0x17d')]['handleStatusNotification'](_0x4e4ba6,_0x345395,_0x190e82)[_0x48ef('0x64')](function(_0x5edcd6){Logging[_0x48ef('0x32')](_moduleName,_0x345395[_0x48ef('0x90')],_0x48ef('0x163'),_0x5edcd6);_0x4842d7(_0x5edcd6);});},'\x46\x69\x72\x6d\x77\x61\x72\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x4f2933,_0x5cf2ce,_0xfefab5,_0x3bdaf2){Logging['logReceivedAction'](_moduleName,_0xfefab5[_0x48ef('0x90')],_0x48ef('0x180'),_0x4f2933,_0xfefab5);global[_0x48ef('0x17d')]['handleFirmwareStatusNotification'](_0x4f2933,_0xfefab5,_0x3bdaf2)[_0x48ef('0x64')](function(_0x31a57e){Logging[_0x48ef('0x32')](_moduleName,_0xfefab5[_0x48ef('0x90')],_0x48ef('0x180'),_0x31a57e);_0x5cf2ce(_0x31a57e);});},'\x44\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x1e84aa,_0x24e284,_0x17487c,_0x42feff){Logging[_0x48ef('0x17e')](_moduleName,_0x17487c[_0x48ef('0x90')],_0x48ef('0x16d'),_0x1e84aa,_0x17487c);global[_0x48ef('0x17d')][_0x48ef('0x16c')](_0x1e84aa,_0x17487c,_0x42feff)[_0x48ef('0x64')](function(_0x35e25a){Logging[_0x48ef('0x32')](_moduleName,_0x17487c[_0x48ef('0x90')],'DiagnosticsStatusNotification',_0x35e25a);_0x24e284(_0x35e25a);});},'\x44\x61\x74\x61\x54\x72\x61\x6e\x73\x66\x65\x72':function(_0x1c08ac,_0x18525b,_0x2613e9,_0x199f68){Logging['logReceivedAction'](_moduleName,_0x2613e9['chargeBoxIdentity'],_0x48ef('0x176'),_0x1c08ac,_0x2613e9);global[_0x48ef('0x17d')][_0x48ef('0x175')](_0x1c08ac,_0x2613e9,_0x199f68)[_0x48ef('0x64')](function(_0x26ae19){Logging[_0x48ef('0x32')](_moduleName,_0x2613e9[_0x48ef('0x90')],'DataTransfer',_0x26ae19);_0x18525b(_0x26ae19);});}}}};var Logging=require(_0x48ef('0x17b'));var _moduleName='centralSystemService1\x2e6';module[_0x48ef('0xf')]={'\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x53\x65\x72\x76\x69\x63\x65':{'\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x53\x65\x72\x76\x69\x63\x65\x53\x6f\x61\x70\x31\x32':{'\x41\x75\x74\x68\x6f\x72\x69\x7a\x65':function(_0x561cf1,_0x45e383,_0x3f2a3e,_0x5e4de5){Logging[_0x48ef('0x17e')](_moduleName,_0x3f2a3e['chargeBoxIdentity'],_0x48ef('0x169'),_0x561cf1,_0x3f2a3e);global[_0x48ef('0x17d')]['handleAuthorize'](_0x561cf1,_0x3f2a3e,_0x5e4de5)['then'](function(_0x2150b2){Logging['logReturnedAction'](_moduleName,_0x3f2a3e[_0x48ef('0x90')],_0x48ef('0x169'),_0x2150b2);_0x45e383(_0x2150b2);});},'\x42\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x436771,_0x5295b4,_0x4ae5f0,_0x34a307){_0x436771['ocppVersion']=_0x48ef('0x16');Logging['logReceivedAction'](_moduleName,_0x4ae5f0[_0x48ef('0x90')],_0x48ef('0x159'),_0x436771,_0x4ae5f0);global[_0x48ef('0x17d')][_0x48ef('0x156')](_0x436771,_0x4ae5f0,_0x34a307)['then'](function(_0x1f7a68){Logging[_0x48ef('0x32')](_moduleName,_0x4ae5f0[_0x48ef('0x90')],_0x48ef('0x159'),_0x1f7a68);_0x5295b4(_0x1f7a68);});},'\x44\x61\x74\x61\x54\x72\x61\x6e\x73\x66\x65\x72':function(_0x1dc952,_0x33e904,_0x555ff7,_0x3030a6){Logging[_0x48ef('0x17e')](_moduleName,_0x555ff7[_0x48ef('0x90')],_0x48ef('0x176'),_0x1dc952,_0x555ff7);global['centralSystemSoap']['handleDataTransfer'](_0x1dc952,_0x555ff7,_0x3030a6)[_0x48ef('0x64')](function(_0x22fdac){Logging[_0x48ef('0x32')](_moduleName,_0x555ff7[_0x48ef('0x90')],'DataTransfer',_0x22fdac);_0x33e904(_0x22fdac);});},'\x44\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0xfe52f4,_0x233871,_0x2d8226,_0x2cb1bc){Logging[_0x48ef('0x17e')](_moduleName,_0x2d8226[_0x48ef('0x90')],_0x48ef('0x16d'),_0xfe52f4,_0x2d8226);global[_0x48ef('0x17d')][_0x48ef('0x16c')](_0xfe52f4,_0x2d8226,_0x2cb1bc)[_0x48ef('0x64')](function(_0x20f3ab){Logging[_0x48ef('0x32')](_moduleName,_0x2d8226[_0x48ef('0x90')],'DiagnosticsStatusNotification',_0x20f3ab);_0x233871(_0x20f3ab);});},'\x46\x69\x72\x6d\x77\x61\x72\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0x297317,_0x3f4ef7,_0x2806ad,_0x5356f9){Logging[_0x48ef('0x17e')](_moduleName,_0x2806ad[_0x48ef('0x90')],_0x48ef('0x180'),_0x297317,_0x2806ad);global[_0x48ef('0x17d')][_0x48ef('0x16f')](_0x297317,_0x2806ad,_0x5356f9)['then'](function(_0x2b83f2){Logging['logReturnedAction'](_moduleName,_0x2806ad[_0x48ef('0x90')],_0x48ef('0x180'),_0x2b83f2);_0x3f4ef7(_0x2b83f2);});},'\x48\x65\x61\x72\x74\x62\x65\x61\x74':function(_0x10ee68,_0x4d589c,_0x4b8d2f,_0x30a626){Logging['logReceivedAction'](_moduleName,_0x4b8d2f[_0x48ef('0x90')],'Heartbeat',_0x10ee68,_0x4b8d2f);global[_0x48ef('0x17d')]['handleHeartBeat'](_0x10ee68,_0x4b8d2f,_0x30a626)[_0x48ef('0x64')](function(_0x3261af){Logging[_0x48ef('0x32')](_moduleName,_0x4b8d2f['chargeBoxIdentity'],_0x48ef('0x17f'),_0x3261af);_0x4d589c(_0x3261af);});},'\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65\x73':function(_0x128911,_0x410f56,_0x43dfb4,_0x4db4af){Logging[_0x48ef('0x17e')](_moduleName,_0x43dfb4[_0x48ef('0x90')],'MeterValues',_0x128911,_0x43dfb4);global['centralSystemSoap']['handleMeterValues'](_0x128911,_0x43dfb4,_0x4db4af)[_0x48ef('0x64')](function(_0x117e4b){Logging[_0x48ef('0x32')](_moduleName,_0x43dfb4[_0x48ef('0x90')],_0x48ef('0x165'),_0x117e4b);_0x410f56(_0x117e4b);});},'\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x51dd4e,_0x1eae8a,_0x573f41,_0x3ef4dc){Logging['logReceivedAction'](_moduleName,_0x573f41['chargeBoxIdentity'],_0x48ef('0x173'),_0x51dd4e,_0x573f41);global['centralSystemSoap']['handleStartTransaction'](_0x51dd4e,_0x573f41,_0x3ef4dc)[_0x48ef('0x64')](function(_0x493454){Logging[_0x48ef('0x32')](_moduleName,_0x573f41[_0x48ef('0x90')],_0x48ef('0x173'),_0x493454);_0x1eae8a(_0x493454);});},'\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e':function(_0xa9395f,_0x44ecea,_0x3cbdfa,_0xa96d99){Logging['logReceivedAction'](_moduleName,_0x3cbdfa['chargeBoxIdentity'],_0x48ef('0x163'),_0xa9395f,_0x3cbdfa);global[_0x48ef('0x17d')]['handleStatusNotification'](_0xa9395f,_0x3cbdfa,_0xa96d99)['then'](function(_0x5c546d){Logging[_0x48ef('0x32')](_moduleName,_0x3cbdfa[_0x48ef('0x90')],'StatusNotification',_0x5c546d);_0x44ecea(_0x5c546d);});},'\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e':function(_0x13a2f5,_0x569d48,_0xaa7bd6,_0x404225){Logging[_0x48ef('0x17e')](_moduleName,_0xaa7bd6[_0x48ef('0x90')],_0x48ef('0x74'),_0x13a2f5,_0xaa7bd6);global[_0x48ef('0x17d')][_0x48ef('0x178')](_0x13a2f5,_0xaa7bd6,_0x404225)['then'](function(_0x2f6846){Logging[_0x48ef('0x32')](_moduleName,_0xaa7bd6[_0x48ef('0x90')],_0x48ef('0x74'),_0x2f6846);_0x569d48(_0x2f6846);});}}}};var Logging=require(_0x48ef('0x181'));var centralSystemService12=require(_0x48ef('0x182'));var centralSystemService15=require(_0x48ef('0x183'));var centralSystemService16=require(_0x48ef('0x184'));var fs=require('fs');var soap=require('strong\x2dsoap')[_0x48ef('0x185')];var path=require('path');var http=require('http');var https=require(_0x48ef('0x186'));var express=require(_0x48ef('0x187'))();var CentralSystemServer=require('\x2e\x2e\x2fCentralSystemServer');var fs=require('fs');let _centralSystemConfig;let _chargingStationConfig;class SoapCentralSystemServer extends CentralSystemServer{constructor(_0x1322ca,_0x333d1f){super(_0x1322ca,_0x333d1f,express);_centralSystemConfig=_0x1322ca;_chargingStationConfig=_0x333d1f;}['start'](){var _0x2e646a;global['centralSystemSoap']=this;if(_centralSystemConfig[_0x48ef('0x188')]===_0x48ef('0x186')){const _0x2901c3={'\x6b\x65\x79':fs[_0x48ef('0x189')](_centralSystemConfig[_0x48ef('0x18a')]),'\x63\x65\x72\x74':fs['readFileSync'](_centralSystemConfig[_0x48ef('0x18b')])};_0x2e646a=https[_0x48ef('0x18c')](_0x2901c3,express);}else{_0x2e646a=http[_0x48ef('0x18c')](express);}var _0x5eac06=fs[_0x48ef('0x189')](path['join'](__dirname,_0x48ef('0x18d')),_0x48ef('0x18e'));var _0x9e3aca=fs[_0x48ef('0x189')](path[_0x48ef('0x14')](__dirname,_0x48ef('0x18f')),_0x48ef('0x18e'));var _0x2fa55d=fs['readFileSync'](path[_0x48ef('0x14')](__dirname,_0x48ef('0x190')),_0x48ef('0x18e'));var _0x1a6e4e=soap[_0x48ef('0x191')](_0x2e646a,_0x48ef('0x192'),centralSystemService12,_0x5eac06);var _0x183eec=soap[_0x48ef('0x191')](_0x2e646a,_0x48ef('0x193'),centralSystemService15,_0x9e3aca);var _0x9b8bee=soap[_0x48ef('0x191')](_0x2e646a,_0x48ef('0x194'),centralSystemService16,_0x2fa55d);_0x2e646a[_0x48ef('0x191')](_centralSystemConfig[_0x48ef('0x4c')],_centralSystemConfig[_0x48ef('0x4b')],()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x195'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xdf'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x196'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x197')+_centralSystemConfig[_0x48ef('0x188')]+_0x48ef('0x198')+_0x2e646a[_0x48ef('0x199')]()[_0x48ef('0x199')]+'\x3a'+_0x2e646a['address']()[_0x48ef('0x4c')]+'\x27'});console[_0x48ef('0x3')](_0x48ef('0x197')+_centralSystemConfig[_0x48ef('0x188')]+_0x48ef('0x198')+_0x2e646a[_0x48ef('0x199')]()[_0x48ef('0x199')]+'\x3a'+_0x2e646a[_0x48ef('0x199')]()[_0x48ef('0x4c')]+'\x27');});}}module[_0x48ef('0xf')]=SoapCentralSystemServer;var ChargingStation=require(_0x48ef('0x14a'));var CentralRestServerAuthentication=require(_0x48ef('0x19a'));var CentralRestServerAuthorization=require(_0x48ef('0x19b'));var CentralRestServerService=require('\x2e\x2fCentralRestServerService');var Utils=require('\x2e\x2e\x2f\x2e\x2e\x2futils\x2fUtils');var Configuration=require('\x2e\x2e\x2f\x2e\x2e\x2futils\x2fConfiguration');var Logging=require(_0x48ef('0x14c'));var bodyParser=require(_0x48ef('0x14d'));require('body\x2dparser\x2dxml')(bodyParser);var cors=require(_0x48ef('0x14f'));var helmet=require(_0x48ef('0x150'));var morgan=require('morgan');var locale=require(_0x48ef('0x106'));var express=require('express')();var http=require('http');var https=require(_0x48ef('0x186'));var fs=require('fs');let _centralSystemRestConfig;let _io;let _currentNotifications=[];class CentralSystemRestServer{constructor(_0x59f544){express[_0x48ef('0x151')](bodyParser['json']({'\x6c\x69\x6d\x69\x74':_0x48ef('0x19c')}));express['use'](bodyParser[_0x48ef('0x153')]({'\x65\x78\x74\x65\x6e\x64\x65\x64':![],'\x6c\x69\x6d\x69\x74':_0x48ef('0x19c')}));express[_0x48ef('0x151')](bodyParser[_0x48ef('0x154')]());express[_0x48ef('0x151')](locale(Configuration['getLocalesConfig']()[_0x48ef('0x19d')]));if(_0x59f544[_0x48ef('0x5')]){express['use'](morgan(_0x48ef('0x155')));}express[_0x48ef('0x151')](cors());express[_0x48ef('0x151')](helmet());express['use'](CentralRestServerAuthentication[_0x48ef('0x19e')]());express['use'](_0x48ef('0x19f'),CentralRestServerAuthentication['authService']);express['use'](_0x48ef('0x1a0'),CentralRestServerAuthentication[_0x48ef('0x1a1')](),CentralRestServerService['restServiceSecured']);express[_0x48ef('0x151')](_0x48ef('0x1a2'),CentralRestServerService[_0x48ef('0x1a3')]);_centralSystemRestConfig=_0x59f544;setInterval(()=>{for(var _0xa5f51c=_currentNotifications['length']-0x1;_0xa5f51c>=0x0;_0xa5f51c--){this[_0x48ef('0x1a4')](_currentNotifications[_0xa5f51c]);_currentNotifications[_0x48ef('0x1a5')](_0xa5f51c,0x1);}},_centralSystemRestConfig[_0x48ef('0x1a6')]*0x3e8);}['start'](){var _0x39e986;if(_centralSystemRestConfig[_0x48ef('0x188')]===_0x48ef('0x186')){var _0x2f47b9={'\x6b\x65\x79':fs['readFileSync'](_centralSystemRestConfig['ssl\x2dkey']),'\x63\x65\x72\x74':fs[_0x48ef('0x189')](_centralSystemRestConfig['ssl\x2dcert'])};if(_centralSystemRestConfig[_0x48ef('0x1a7')]){if(Array[_0x48ef('0x1a8')](_centralSystemRestConfig[_0x48ef('0x1a7')])){_0x2f47b9['ca']=[];for(var _0x1e5fa3=0x0;_0x1e5fa3<_centralSystemRestConfig[_0x48ef('0x1a7')][_0x48ef('0xa9')];_0x1e5fa3++){_0x2f47b9['ca'][_0x48ef('0xf7')](fs[_0x48ef('0x189')](_centralSystemRestConfig['ssl\x2dca'][_0x1e5fa3]));}}else{_0x2f47b9['ca']=fs[_0x48ef('0x189')](_centralSystemRestConfig[_0x48ef('0x1a7')]);}}_0x39e986=https[_0x48ef('0x18c')](_0x2f47b9,express);}else{_0x39e986=http[_0x48ef('0x18c')](express);}_io=require('socket\x2eio')(_0x39e986);_io['on'](_0x48ef('0x1a9'),_0x5dc945=>{_0x5dc945['on'](_0x48ef('0x1aa'),()=>{});});_0x39e986[_0x48ef('0x191')](_centralSystemRestConfig[_0x48ef('0x4c')],_centralSystemRestConfig['host'],()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x1ab'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xdf'),'\x61\x63\x74\x69\x6f\x6e':'Startup','\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x1ac')+_centralSystemRestConfig[_0x48ef('0x188')]+'\x3a\x2f\x2f'+_0x39e986[_0x48ef('0x199')]()[_0x48ef('0x199')]+'\x3a'+_0x39e986[_0x48ef('0x199')]()['port']+'\x27'});console['log'](_0x48ef('0x1ac')+_centralSystemRestConfig[_0x48ef('0x188')]+_0x48ef('0x198')+_0x39e986[_0x48ef('0x199')]()['address']+'\x3a'+_0x39e986[_0x48ef('0x199')]()[_0x48ef('0x4c')]+'\x27');});}[_0x48ef('0x1ad')](_0x382351){this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1af')],'\x61\x63\x74\x69\x6f\x6e':CentralRestServerAuthorization['ACTION\x5fUPDATE'],'\x69\x64':_0x382351['id']});this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization['ENTITY\x5fUSERS']});}[_0x48ef('0x1b0')](_0x4c02b7){this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1af')],'\x61\x63\x74\x69\x6f\x6e':CentralRestServerAuthorization[_0x48ef('0x1b1')],'\x69\x64':_0x4c02b7['id']});this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1b2')]});}[_0x48ef('0x1b3')](_0x25c930){this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1af')],'\x61\x63\x74\x69\x6f\x6e':CentralRestServerAuthorization[_0x48ef('0x1b4')],'\x69\x64':_0x25c930['id']});this['addNotificationInBuffer']({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1b2')]});}[_0x48ef('0x1b5')](_0x5f447a){this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1b6')],'\x61\x63\x74\x69\x6f\x6e':CentralRestServerAuthorization[_0x48ef('0x1b7')],'\x69\x64':_0x5f447a['id']});this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization['ENTITY\x5fCHARGING\x5fSTATIONS']});}[_0x48ef('0x1b8')](_0x4169a0){this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization['ENTITY\x5fCHARGING\x5fSTATION'],'\x61\x63\x74\x69\x6f\x6e':CentralRestServerAuthorization[_0x48ef('0x1b1')],'\x69\x64':_0x4169a0['id']});this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1b9')]});}[_0x48ef('0x1ba')](_0x24a25b){this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1b6')],'\x61\x63\x74\x69\x6f\x6e':CentralRestServerAuthorization[_0x48ef('0x1b4')],'\x69\x64':_0x24a25b['id']});this['addNotificationInBuffer']({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1b9')]});}[_0x48ef('0x1bb')](){this[_0x48ef('0x1ae')]({'\x65\x6e\x74\x69\x74\x79':CentralRestServerAuthorization[_0x48ef('0x1bc')],'\x61\x63\x74\x69\x6f\x6e':CentralRestServerAuthorization[_0x48ef('0x1b1')]});}[_0x48ef('0x1ae')](_0x49d5c1){let _0xe82450=![];for(var _0x157718=0x0;_0x157718<_currentNotifications[_0x48ef('0xa9')];_0x157718++){if(_currentNotifications[_0x157718][_0x48ef('0x1bd')]===_0x49d5c1[_0x48ef('0x1bd')]&&_currentNotifications[_0x157718][_0x48ef('0x1be')]===_0x49d5c1[_0x48ef('0x1be')]&&_currentNotifications[_0x157718]['id']===_0x49d5c1['id']){_0xe82450=!![];}}if(!_0xe82450){_currentNotifications[_0x48ef('0xf7')](_0x49d5c1);}}[_0x48ef('0x1a4')](_0x4a362b){if(_0x4a362b[_0x48ef('0x1be')]){_io['sockets'][_0x48ef('0x1bf')](_0x4a362b[_0x48ef('0x1bd')],{'\x61\x63\x74\x69\x6f\x6e':_0x4a362b[_0x48ef('0x1be')],'\x69\x64':_0x4a362b['id']});}else{_io['sockets'][_0x48ef('0x1bf')](_0x4a362b[_0x48ef('0x1bd')],{});}}}module['exports']=CentralSystemRestServer;var passport=require(_0x48ef('0x1c0'));var JwtStrategy=require(_0x48ef('0x1c1'))['Strategy'];var ExtractJwt=require('passport\x2djwt')[_0x48ef('0x1c2')];var jwt=require(_0x48ef('0x1c3'));var Users=require('\x2e\x2e\x2f\x2e\x2e\x2futils\x2fUsers');var EMail=require('\x2e\x2e\x2f\x2e\x2e\x2femail\x2fEMail');var Logging=require(_0x48ef('0x14c'));var User=require(_0x48ef('0x1c4'));var Utils=require(_0x48ef('0x14b'));var Configuration=require(_0x48ef('0x1c5'));var Authorization=require(_0x48ef('0x1c6'));var compileProfile=require('node\x2dauthorization')[_0x48ef('0x1c7')];var Mustache=require(_0x48ef('0x127'));let _centralSystemRestConfig=Configuration[_0x48ef('0x1c8')]();var jwtOptions={'\x73\x65\x63\x72\x65\x74\x4f\x72\x4b\x65\x79':_centralSystemRestConfig[_0x48ef('0x1c9')],'\x6a\x77\x74\x46\x72\x6f\x6d\x52\x65\x71\x75\x65\x73\x74':ExtractJwt[_0x48ef('0x1ca')]()};passport['use'](new JwtStrategy(jwtOptions,function(_0xea0c0f,_0x15f8ad){return _0x15f8ad(null,_0xea0c0f);}));module['exports']={'\x69\x6e\x69\x74\x69\x61\x6c\x69\x7a\x65'(){return passport[_0x48ef('0x19e')]();},'\x61\x75\x74\x68\x65\x6e\x74\x69\x63\x61\x74\x65'(){return passport[_0x48ef('0x1a1')](_0x48ef('0x1cb'),{'\x73\x65\x73\x73\x69\x6f\x6e':![]});},'\x61\x75\x74\x68\x53\x65\x72\x76\x69\x63\x65'(_0x4e9d9f,_0x85100b,_0x399358){var _0x11c331=/^\/\w*/g[_0x48ef('0x1cc')](_0x4e9d9f[_0x48ef('0x1cd')])[0x0][_0x48ef('0x1ce')](0x1);switch(_0x4e9d9f[_0x48ef('0x1cf')]){case _0x48ef('0x1d0'):switch(_0x11c331){case _0x48ef('0x1d1'):global[_0x48ef('0xa3')][_0x48ef('0x1d2')](_0x4e9d9f[_0x48ef('0x1d3')][_0x48ef('0x62')],Users[_0x48ef('0x1d4')](_0x4e9d9f[_0x48ef('0x1d3')][_0x48ef('0x50')]))['then'](function(_0x6565d4){if(_0x6565d4){let _0x5276b2=Authorization[_0x48ef('0x1d5')](_0x6565d4[_0x48ef('0x107')]());var _0x29e37e=Mustache['render'](JSON[_0x48ef('0x1d6')](_0x5276b2['auths']),{'\x75\x73\x65\x72':_0x6565d4[_0x48ef('0xa1')]()});var _0x1a3574=compileProfile(JSON['parse'](_0x29e37e));var _0x18e39d={'\x69\x64':_0x6565d4[_0x48ef('0x79')](),'\x6e\x61\x6d\x65':_0x6565d4[_0x48ef('0x100')](),'\x66\x69\x72\x73\x74\x4e\x61\x6d\x65':_0x6565d4['getFirstName'](),'\x72\x6f\x6c\x65':_0x6565d4['getRole'](),'\x61\x75\x74\x68\x73':_0x1a3574};var _0x237611;if(_0x6565d4[_0x48ef('0x107')]()==='D'){_0x237611=jwt[_0x48ef('0x1d7')](_0x18e39d,jwtOptions[_0x48ef('0x1d8')],{'\x65\x78\x70\x69\x72\x65\x73\x49\x6e':_centralSystemRestConfig[_0x48ef('0x1d9')]*0x18*0xe10});}else{_0x237611=jwt[_0x48ef('0x1d7')](_0x18e39d,jwtOptions[_0x48ef('0x1d8')],{'\x65\x78\x70\x69\x72\x65\x73\x49\x6e':_centralSystemRestConfig[_0x48ef('0x1da')]*0xe10});}_0x85100b[_0x48ef('0x152')]({'\x74\x6f\x6b\x65\x6e':_0x237611});}else{_0x85100b[_0x48ef('0x1db')](0x191);}_0x399358();})[_0x48ef('0x15c')](_0x363c33=>{_0x85100b[_0x48ef('0x1db')](0x1f4);_0x399358();});break;case _0x48ef('0x1dc'):if(Users[_0x48ef('0x1dd')](_0x4e9d9f,_0x85100b,_0x399358)){global[_0x48ef('0xa3')][_0x48ef('0x147')](_0x4e9d9f[_0x48ef('0x1d3')][_0x48ef('0x62')])[_0x48ef('0x64')](function(_0x2f2052){if(_0x2f2052){Logging[_0x48ef('0x1de')](_0x11c331,_0x48ef('0x1df')+_0x4e9d9f[_0x48ef('0x1d3')][_0x48ef('0x10e')]+_0x48ef('0x1e0'),_0x4e9d9f,_0x85100b,_0x399358);return;}var _0x258601=new User(_0x4e9d9f[_0x48ef('0x1d3')]);_0x258601[_0x48ef('0x104')](Users['hashPassword'](_0x258601[_0x48ef('0x103')]()));_0x258601['save']()[_0x48ef('0x64')](()=>{EMail[_0x48ef('0x59')]({'\x75\x73\x65\x72':_0x258601['getModel'](),'\x65\x76\x73\x65\x44\x61\x73\x68\x62\x6f\x61\x72\x64\x55\x52\x4c':Utils[_0x48ef('0x1e1')]()},_0x4e9d9f[_0x48ef('0x106')])[_0x48ef('0x64')](_0xa7e28d=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x1e2'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x1dc'),'\x61\x63\x74\x69\x6f\x6e':'RegisterUser','\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xc9')+_0x258601[_0x48ef('0xca')]()+'\x20with\x20email\x20'+_0x258601['getEMail']()+_0x48ef('0x1e3'),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x258601});_0x85100b[_0x48ef('0x152')]({'\x73\x74\x61\x74\x75\x73':'Success'});_0x399358();},_0x3381be=>{Logging['logError']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x1e2'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x1e4'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x1e5'),'\x6d\x65\x73\x73\x61\x67\x65':''+_0x3381be[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x3381be['stack']});_0x85100b[_0x48ef('0x152')]({'\x65\x72\x72\x6f\x72':_0x3381be['toString']()});_0x399358();});});})[_0x48ef('0x15c')](_0x329d9b=>{Logging[_0x48ef('0x1e6')](_0x11c331,_0x329d9b,_0x4e9d9f,_0x85100b,_0x399358);});}break;case _0x48ef('0xb'):global[_0x48ef('0xa3')][_0x48ef('0x147')](_0x4e9d9f[_0x48ef('0x1d3')]['email'])['then'](_0x219373=>{if(_0x219373){let _0x1d1093=Users[_0x48ef('0x1e7')]();_0x219373['setPassword'](Users['hashPassword'](_0x1d1093));_0x219373['save']()['then'](()=>{EMail[_0x48ef('0x5b')]({'\x75\x73\x65\x72':_0x219373[_0x48ef('0xa1')](),'\x6e\x65\x77\x50\x61\x73\x73\x77\x6f\x72\x64':_0x1d1093,'\x65\x76\x73\x65\x44\x61\x73\x68\x62\x6f\x61\x72\x64\x55\x52\x4c':Utils[_0x48ef('0x1e1')]()},_0x4e9d9f[_0x48ef('0x106')])[_0x48ef('0x64')](_0x404131=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72':_0x4e9d9f['user'],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x1e2'),'\x6d\x65\x74\x68\x6f\x64':'N\x2fA','\x61\x63\x74\x69\x6f\x6e':'ResetPassword','\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x1e8')+_0x219373['getEMail'](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x404131});_0x85100b['json']({'\x73\x74\x61\x74\x75\x73':_0x48ef('0x1e9')});_0x399358();},_0x5164a6=>{Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72':_0x4e9d9f[_0x48ef('0x4f')],'\x73\x6f\x75\x72\x63\x65':'Central\x20Server','\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x1e2'),'\x6d\x65\x74\x68\x6f\x64':'N\x2fA','\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x1ea'),'\x6d\x65\x73\x73\x61\x67\x65':''+_0x5164a6[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x5164a6['stack']});_0x85100b[_0x48ef('0x152')]({'\x65\x72\x72\x6f\x72':_0x5164a6[_0x48ef('0x20')]()});_0x399358();});});}else{_0x85100b['status'](0x1f4)[_0x48ef('0x1eb')]('User\x20with\x20email\x20'+_0x4e9d9f['body'][_0x48ef('0x62')]+_0x48ef('0x1ec'));_0x399358();}})[_0x48ef('0x15c')](_0x383390=>{_0x85100b[_0x48ef('0xa6')](0x1f4)[_0x48ef('0x1eb')](''+_0x383390[_0x48ef('0x20')]());_0x399358();});break;default:if(!_0x11c331){Logging[_0x48ef('0x1de')](_0x48ef('0x1e4'),'No\x20Action\x20has\x20been\x20provided',_0x4e9d9f,_0x85100b,_0x399358);}else{Logging[_0x48ef('0x1de')](_0x48ef('0x1e4'),_0x48ef('0x1ed')+_0x11c331+'\x27\x20does\x20not\x20exist',_0x4e9d9f,_0x85100b,_0x399358);}_0x399358();}break;case'GET':switch(_0x11c331){case _0x48ef('0x1ee'):_0x4e9d9f[_0x48ef('0x1ee')]();_0x85100b['status'](0xc8)['send']({});break;}}}};var Logging=require(_0x48ef('0x14c'));var Configuration=require(_0x48ef('0x1c5'));var Authorization=require(_0x48ef('0x1ef'))['Authorization'];let _configuration;module[_0x48ef('0xf')]={'\x52\x4f\x4c\x45\x5f\x41\x44\x4d\x49\x4e':'A','\x52\x4f\x4c\x45\x5f\x42\x41\x53\x49\x43':'B','\x52\x4f\x4c\x45\x5f\x44\x45\x4d\x4f':'D','\x45\x4e\x54\x49\x54\x59\x5f\x55\x53\x45\x52':_0x48ef('0xcd'),'\x45\x4e\x54\x49\x54\x59\x5f\x55\x53\x45\x52\x53':_0x48ef('0x1f0'),'\x45\x4e\x54\x49\x54\x59\x5f\x43\x48\x41\x52\x47\x49\x4e\x47\x5f\x53\x54\x41\x54\x49\x4f\x4e':'ChargingStation','\x45\x4e\x54\x49\x54\x59\x5f\x43\x48\x41\x52\x47\x49\x4e\x47\x5f\x53\x54\x41\x54\x49\x4f\x4e\x53':_0x48ef('0x1f1'),'\x45\x4e\x54\x49\x54\x59\x5f\x4c\x4f\x47\x47\x49\x4e\x47':_0x48ef('0x1f2'),'\x41\x43\x54\x49\x4f\x4e\x5f\x43\x52\x45\x41\x54\x45':_0x48ef('0x1f3'),'\x41\x43\x54\x49\x4f\x4e\x5f\x52\x45\x41\x44':_0x48ef('0x1f4'),'\x41\x43\x54\x49\x4f\x4e\x5f\x55\x50\x44\x41\x54\x45':_0x48ef('0x1f5'),'\x41\x43\x54\x49\x4f\x4e\x5f\x44\x45\x4c\x45\x54\x45':_0x48ef('0x1f6'),'\x41\x43\x54\x49\x4f\x4e\x5f\x4c\x49\x53\x54':_0x48ef('0x1f7'),'\x41\x43\x54\x49\x4f\x4e\x5f\x52\x45\x53\x45\x54':_0x48ef('0x37'),'\x41\x43\x54\x49\x4f\x4e\x5f\x43\x4c\x45\x41\x52\x5f\x43\x41\x43\x48\x45':_0x48ef('0x39'),'\x41\x43\x54\x49\x4f\x4e\x5f\x53\x54\x4f\x50\x5f\x54\x52\x41\x4e\x53\x41\x43\x54\x49\x4f\x4e':_0x48ef('0x74'),'\x41\x43\x54\x49\x4f\x4e\x5f\x55\x4e\x4c\x4f\x43\x4b\x5f\x43\x4f\x4e\x4e\x45\x43\x54\x4f\x52':_0x48ef('0x34'),'\x41\x43\x54\x49\x4f\x4e\x5f\x47\x45\x54\x5f\x43\x4f\x4e\x46\x49\x47\x55\x52\x41\x54\x49\x4f\x4e':_0x48ef('0x3c'),'\x63\x61\x6e\x4c\x69\x73\x74\x4c\x6f\x67\x67\x69\x6e\x67'(_0x3862f0){return this['canPerformAction'](_0x3862f0,this[_0x48ef('0x1bc')],{'\x41\x63\x74\x69\x6f\x6e':this[_0x48ef('0x1f8')]});},'\x63\x61\x6e\x4c\x69\x73\x74\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x73'(_0x35ea3d){return this[_0x48ef('0x1f9')](_0x35ea3d,this['ENTITY\x5fCHARGING\x5fSTATIONS'],{'\x41\x63\x74\x69\x6f\x6e':this['ACTION\x5fLIST']});},'\x63\x61\x6e\x50\x65\x72\x66\x6f\x72\x6d\x41\x63\x74\x69\x6f\x6e\x4f\x6e\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e'(_0x185671,_0x24c2ba,_0x3c4e6e){return this[_0x48ef('0x1f9')](_0x185671,this['ENTITY\x5fCHARGING\x5fSTATION'],{'\x41\x63\x74\x69\x6f\x6e':_0x3c4e6e});},'\x63\x61\x6e\x52\x65\x61\x64\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e'(_0x32fc89,_0x41b486){return this[_0x48ef('0x1f9')](_0x32fc89,this['ENTITY\x5fCHARGING\x5fSTATION'],{'\x41\x63\x74\x69\x6f\x6e':this['ACTION\x5fREAD']});},'\x63\x61\x6e\x4c\x69\x73\x74\x55\x73\x65\x72\x73'(_0x2fb3d9){return this['canPerformAction'](_0x2fb3d9,this[_0x48ef('0x1b2')],{'\x41\x63\x74\x69\x6f\x6e':this['ACTION\x5fLIST']});},'\x63\x61\x6e\x52\x65\x61\x64\x55\x73\x65\x72'(_0x5f1b47,_0x5180bf){return this[_0x48ef('0x1f9')](_0x5f1b47,this[_0x48ef('0x1af')],{'\x41\x63\x74\x69\x6f\x6e':this[_0x48ef('0x1fa')],'\x55\x73\x65\x72\x49\x44':_0x5180bf['id']});},'\x63\x61\x6e\x43\x72\x65\x61\x74\x65\x55\x73\x65\x72'(_0x3fc769){return this[_0x48ef('0x1f9')](_0x3fc769,this['ENTITY\x5fUSER'],{'\x41\x63\x74\x69\x6f\x6e':this['ACTION\x5fCREATE']});},'\x63\x61\x6e\x55\x70\x64\x61\x74\x65\x55\x73\x65\x72'(_0x239999,_0x2243b0){return this[_0x48ef('0x1f9')](_0x239999,this[_0x48ef('0x1af')],{'\x41\x63\x74\x69\x6f\x6e':this['ACTION\x5fUPDATE'],'\x55\x73\x65\x72\x49\x44':_0x2243b0['id']});},'\x63\x61\x6e\x44\x65\x6c\x65\x74\x65\x55\x73\x65\x72'(_0x11da22,_0x4fa31b){return this[_0x48ef('0x1f9')](_0x11da22,this[_0x48ef('0x1af')],{'\x41\x63\x74\x69\x6f\x6e':this[_0x48ef('0x1b4')],'\x55\x73\x65\x72\x49\x44':_0x4fa31b['id']});},'\x63\x61\x6e\x44\x65\x6c\x65\x74\x65\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e'(_0x1f8b6c,_0x5061df){return this[_0x48ef('0x1f9')](_0x1f8b6c,this[_0x48ef('0x1b6')],{'\x41\x63\x74\x69\x6f\x6e':this[_0x48ef('0x1b4')]});},'\x69\x73\x41\x64\x6d\x69\x6e'(_0x2b44fb){return _0x2b44fb[_0x48ef('0x108')]===this[_0x48ef('0x1fb')];},'\x67\x65\x74\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e'(){if(!_configuration){_configuration=Configuration[_0x48ef('0x1fc')]();}return _configuration;},'\x63\x61\x6e\x50\x65\x72\x66\x6f\x72\x6d\x41\x63\x74\x69\x6f\x6e'(_0x331c2b,_0x3d944d,_0x153ee9){if(this[_0x48ef('0xc')]()[_0x48ef('0x5')]){Authorization['switchTraceOn']();}var _0x57a7b2=new Authorization(_0x331c2b[_0x48ef('0x108')],_0x331c2b[_0x48ef('0x1fd')]);if(_0x57a7b2[_0x48ef('0x1fe')](_0x3d944d,_0x153ee9)){return!![];}else{return![];}}};var CentralRestServerAuthorization=require(_0x48ef('0x19b'));var Utils=require(_0x48ef('0x14b'));var Database=require('\x2e\x2e\x2f\x2e\x2e\x2futils\x2fDatabase');var Logging=require('\x2e\x2e\x2f\x2e\x2e\x2futils\x2fLogging');const Users=require(_0x48ef('0x1ff'));var User=require('\x2e\x2e\x2f\x2e\x2e\x2fmodel\x2fUser');module[_0x48ef('0xf')]={'\x72\x65\x73\x74\x53\x65\x72\x76\x69\x63\x65\x55\x74\x69\x6c'(_0x92d51b,_0xe8133c,_0x39b336){var _0x3a450c=/^\/\w*/g['exec'](_0x92d51b[_0x48ef('0x1cd')])[0x0][_0x48ef('0x1ce')](0x1);switch(_0x92d51b[_0x48ef('0x1cf')]){case _0x48ef('0x200'):switch(_0x3a450c){case _0x48ef('0x201'):_0xe8133c[_0x48ef('0x1db')](0xc8);break;case _0x48ef('0x202'):global[_0x48ef('0xa3')]['getUserByEmail'](_0x92d51b['query'][_0x48ef('0x203')])['then'](_0x5d396a=>{if(_0x5d396a){_0xe8133c[_0x48ef('0x152')]({'\x65\x78\x69\x73\x74':!![]});}else{_0xe8133c[_0x48ef('0x152')]({'\x65\x78\x69\x73\x74':![]});}_0x39b336();})[_0x48ef('0x15c')](_0x6e705=>{_0xe8133c[_0x48ef('0xa6')](0x1f4)['send'](''+_0x6e705['toString']());_0x39b336();});break;}break;}},'\x72\x65\x73\x74\x53\x65\x72\x76\x69\x63\x65\x53\x65\x63\x75\x72\x65\x64'(_0x5c898e,_0x57fa47,_0x2dc077){var _0x2288e3=/^\/\w*/g[_0x48ef('0x1cc')](_0x5c898e[_0x48ef('0x1cd')])[0x0][_0x48ef('0x1ce')](0x1);switch(_0x5c898e[_0x48ef('0x1cf')]){case'POST':switch(_0x2288e3){case'ChargingStationSetMaxIntensitySocket':if(!_0x5c898e['body']['chargeBoxIdentity']){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')]['getChargingStation'](_0x5c898e['body'][_0x48ef('0x90')])[_0x48ef('0x64')](_0x43c29b=>{if(_0x43c29b){if(!CentralRestServerAuthorization['canPerformActionOnChargingStation'](_0x5c898e[_0x48ef('0x4f')],_0x43c29b['getModel'](),'ChangeConfiguration')){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1b6')],_0x2288e3,_0x5c898e,_0x57fa47,_0x2dc077);return;}return _0x43c29b['getConfiguration']()[_0x48ef('0x64')](_0x17a803=>{if(_0x17a803){let _0x30680a=null;for(let _0x5fb9ac=0x0;_0x5fb9ac<_0x17a803[_0x48ef('0xa8')][_0x48ef('0xa9')];_0x5fb9ac++){if(_0x17a803[_0x48ef('0xa8')][_0x5fb9ac]['key'][_0x48ef('0x206')](_0x48ef('0x207'))){_0x30680a=Number(_0x17a803[_0x48ef('0xa8')][_0x5fb9ac][_0x48ef('0xad')]);}}if(_0x30680a){if(_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x208')][_0x48ef('0x209')]&&_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x208')]['maxIntensity']>=0x0&&_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x208')][_0x48ef('0x209')]<=_0x30680a){Logging['logInfo']({'\x75\x73\x65\x72':_0x5c898e[_0x48ef('0x4f')],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x20a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x20b'),'\x61\x63\x74\x69\x6f\x6e':_0x2288e3,'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x20c')+_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x90')]+_0x48ef('0x20d')+_0x5c898e['body'][_0x48ef('0x208')][_0x48ef('0x209')]});return _0x43c29b['requestChangeConfiguration']('maxintensitysocket',_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x208')]['maxIntensity']);}else{Logging[_0x48ef('0x1de')](_0x2288e3,'Invalid\x20value\x20for\x20param\x20max\x20intensity\x20socket\x20\x27'+_0x5c898e['body'][_0x48ef('0x209')]+_0x48ef('0x20e')+_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x90')],_0x5c898e,_0x57fa47,_0x2dc077);}}else{Logging['logActionErrorMessageAndSendResponse'](_0x2288e3,_0x48ef('0x20f')+_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x90')],_0x5c898e,_0x57fa47,_0x2dc077);}}else{Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x210')+_0x5c898e['body'][_0x48ef('0x90')],_0x5c898e,_0x57fa47,_0x2dc077);}});}else{Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x211')+_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x90')]+_0x48ef('0x1ec'),_0x5c898e,_0x57fa47,_0x2dc077);}})[_0x48ef('0x64')](function(_0x12f39f){_0x57fa47[_0x48ef('0x152')](_0x12f39f);_0x2dc077();})[_0x48ef('0x15c')](function(_0x515170){Logging['logActionUnexpectedErrorMessageAndSendResponse'](_0x2288e3,_0x515170,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x212'):case _0x48ef('0x213'):case'ChargingStationChangeConfiguration':case _0x48ef('0x214'):case _0x48ef('0x215'):case _0x48ef('0x216'):_0x2288e3=_0x2288e3[_0x48ef('0x217')](0xf);if(!_0x5c898e['body']['chargeBoxIdentity']){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x90')])[_0x48ef('0x64')](_0x5cec15=>{if(_0x5cec15){if(!CentralRestServerAuthorization[_0x48ef('0x218')](_0x5c898e[_0x48ef('0x4f')],_0x5cec15[_0x48ef('0xa1')](),_0x2288e3)){Logging[_0x48ef('0x205')](CentralRestServerAuthorization['ENTITY\x5fCHARGING\x5fSTATION'],_0x2288e3,_0x5c898e,_0x57fa47,_0x2dc077);return;}Logging['logInfo']({'\x75\x73\x65\x72':_0x5c898e['user'],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x20a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x20b'),'\x61\x63\x74\x69\x6f\x6e':_0x2288e3,'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x219')+_0x2288e3+_0x48ef('0x21a')+_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x90')]+'\x27'});return _0x5cec15[_0x48ef('0x6e')](_0x2288e3,_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x208')]);}else{Logging[_0x48ef('0x1de')](_0x2288e3,'Charging\x20Station\x20with\x20ID\x20'+_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x90')]+_0x48ef('0x1ec'),_0x5c898e,_0x57fa47,_0x2dc077);}})[_0x48ef('0x64')](function(_0x16246a){_0x57fa47[_0x48ef('0x152')](_0x16246a);_0x2dc077();})[_0x48ef('0x15c')](function(_0x43f8bc){Logging['logActionUnexpectedErrorMessageAndSendResponse'](_0x2288e3,_0x43f8bc,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x21b'):if(!CentralRestServerAuthorization[_0x48ef('0x21c')](_0x5c898e['user'])){Logging[_0x48ef('0x205')](CentralRestServerAuthorization['ENTITY\x5fUSER'],CentralRestServerAuthorization[_0x48ef('0x1b1')],_0x5c898e,_0x57fa47,_0x2dc077);return;}if(Users[_0x48ef('0x1dd')](_0x5c898e,_0x57fa47,_0x2dc077)){global[_0x48ef('0xa3')][_0x48ef('0x147')](_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x62')])['then'](function(_0x271482){if(_0x271482){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x1df')+_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x10e')]+'\x20already\x20exists',_0x5c898e,_0x57fa47,_0x2dc077);return;}var _0x5c7580=new User(_0x5c898e[_0x48ef('0x1d3')]);_0x5c7580[_0x48ef('0x105')](_0x5c898e[_0x48ef('0x106')]);_0x5c7580[_0x48ef('0x21d')](_0x5c898e['user']['name']+'\x20'+_0x5c898e['user'][_0x48ef('0x10b')]);_0x5c7580[_0x48ef('0x11d')](new Date());_0x5c7580[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{Logging['logInfo']({'\x75\x73\x65\x72':_0x5c898e[_0x48ef('0x4f')],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x20a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x20b'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xc9')+_0x5c7580[_0x48ef('0xca')]()+_0x48ef('0x13c')+_0x5c7580[_0x48ef('0x21e')]()+_0x48ef('0x21f'),'\x61\x63\x74\x69\x6f\x6e':_0x2288e3,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x271482});});_0x57fa47[_0x48ef('0x152')]({'\x73\x74\x61\x74\x75\x73':'Success'});_0x2dc077();})['catch'](_0x4be968=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x4be968,_0x5c898e,_0x57fa47,_0x2dc077);});}break;default:if(!_0x2288e3){Logging[_0x48ef('0x1de')](_0x48ef('0x1e4'),'No\x20Action\x20has\x20been\x20provided',_0x5c898e,_0x57fa47,_0x2dc077);}else{Logging[_0x48ef('0x1de')](_0x48ef('0x1e4'),_0x48ef('0x1ed')+_0x2288e3+'\x27\x20does\x20not\x20exist',_0x5c898e,_0x57fa47,_0x2dc077);}_0x2dc077();}break;case'GET':switch(_0x2288e3){case _0x48ef('0x220'):if(!CentralRestServerAuthorization['canListLogging'](_0x5c898e[_0x48ef('0x4f')])){Logging[_0x48ef('0x205')](CentralRestServerAuthorization['ENTITY\x5fLOGGING'],CentralRestServerAuthorization[_0x48ef('0x1f8')],_0x5c898e,_0x57fa47,_0x2dc077);return;}Logging[_0x48ef('0x221')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x223')],_0x5c898e[_0x48ef('0x222')][_0x48ef('0x224')],_0x5c898e['query'][_0x48ef('0x225')])[_0x48ef('0x64')](_0xc99906=>{_0x57fa47['json'](_0xc99906);_0x2dc077();});break;case _0x48ef('0x1f1'):if(!CentralRestServerAuthorization[_0x48ef('0x226')](_0x5c898e[_0x48ef('0x4f')])){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1b9')],CentralRestServerAuthorization['ACTION\x5fLIST'],_0x5c898e,_0x57fa47,_0x2dc077);return;}global[_0x48ef('0xa3')][_0x48ef('0x227')](_0x5c898e['query'][_0x48ef('0x224')],0x64)[_0x48ef('0x64')](_0x6f1b61=>{var _0x1732ca=[];_0x6f1b61[_0x48ef('0xee')](function(_0x171f4b){if(CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e[_0x48ef('0x4f')],_0x171f4b['getModel']())){_0x1732ca[_0x48ef('0xf7')](_0x171f4b[_0x48ef('0xa1')]());}});_0x57fa47[_0x48ef('0x152')](_0x1732ca);_0x2dc077();})[_0x48ef('0x15c')](_0x54926b=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x54926b,_0x5c898e,_0x57fa47,_0x2dc077);});break;case'ChargingStation':if(!_0x5c898e['query'][_0x48ef('0x229')]){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')])['then'](_0x39ad51=>{if(_0x39ad51){if(!CentralRestServerAuthorization['canReadChargingStation'](_0x5c898e['user'],_0x39ad51[_0x48ef('0xa1')]())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1b6')],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x57fa47[_0x48ef('0x152')](_0x39ad51['getModel']());}else{_0x57fa47[_0x48ef('0x152')]({});}_0x2dc077();})['catch'](_0x591ae6=>{Logging['logActionUnexpectedErrorMessageAndSendResponse'](_0x2288e3,_0x591ae6,_0x5c898e,_0x57fa47,_0x2dc077);});break;case'Users':if(!CentralRestServerAuthorization[_0x48ef('0x22a')](_0x5c898e['user'])){Logging['logActionUnauthorizedMessageAndSendResponse'](CentralRestServerAuthorization[_0x48ef('0x1b2')],CentralRestServerAuthorization['ACTION\x5fLIST'],_0x5c898e,_0x57fa47,_0x2dc077);return;}global[_0x48ef('0xa3')][_0x48ef('0x146')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x224')],0x64)[_0x48ef('0x64')](function(_0x4b79e7){var _0x36cc49=[];_0x4b79e7[_0x48ef('0xee')](function(_0x4e557f){if(CentralRestServerAuthorization[_0x48ef('0x22b')](_0x5c898e[_0x48ef('0x4f')],_0x4e557f[_0x48ef('0xa1')]())){_0x4e557f[_0x48ef('0x110')]='';_0x4e557f['setPassword']('');if(!CentralRestServerAuthorization[_0x48ef('0x22c')](_0x5c898e[_0x48ef('0x4f')])){_0x4e557f['setRole']('');}_0x36cc49[_0x48ef('0xf7')](_0x4e557f[_0x48ef('0xa1')]());}});_0x57fa47['json'](_0x36cc49);_0x2dc077();})[_0x48ef('0x15c')](_0x462de7=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x462de7,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x22d'):if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x22e')]){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x22f'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x147')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x22e')])['then'](function(_0x1bcb41){if(_0x1bcb41){if(!CentralRestServerAuthorization['canReadUser'](_0x5c898e[_0x48ef('0x4f')],_0x1bcb41[_0x48ef('0xa1')]())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization['ENTITY\x5fUSER'],CentralRestServerAuthorization['ACTION\x5fREAD'],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x1bcb41[_0x48ef('0x104')]('');if(!CentralRestServerAuthorization[_0x48ef('0x22c')](_0x5c898e[_0x48ef('0x4f')])){_0x1bcb41['setRole']('');}_0x57fa47[_0x48ef('0x152')](_0x1bcb41[_0x48ef('0xa1')]());}else{_0x57fa47[_0x48ef('0x152')]({});}_0x2dc077();})[_0x48ef('0x15c')](_0x13f274=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x13f274,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0xcd'):if(!_0x5c898e[_0x48ef('0x222')]['ID']){Logging[_0x48ef('0x1de')](_0x2288e3,'The\x20User\x27s\x20ID\x20is\x20mandatory',_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x230')](_0x5c898e[_0x48ef('0x222')]['ID'])[_0x48ef('0x64')](function(_0x2404a1){if(_0x2404a1){if(!CentralRestServerAuthorization[_0x48ef('0x22b')](_0x5c898e[_0x48ef('0x4f')],_0x2404a1[_0x48ef('0xa1')]())){Logging['logActionUnauthorizedMessageAndSendResponse'](CentralRestServerAuthorization[_0x48ef('0x1af')],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x2404a1[_0x48ef('0x104')]('');if(!CentralRestServerAuthorization[_0x48ef('0x22c')](_0x5c898e[_0x48ef('0x4f')])){_0x2404a1[_0x48ef('0x109')]('');}_0x57fa47[_0x48ef('0x152')](_0x2404a1[_0x48ef('0xa1')]());}else{_0x57fa47[_0x48ef('0x152')]({});}_0x2dc077();})[_0x48ef('0x15c')](_0x2943bf=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x2943bf,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x231'):if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x232')]){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x233'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x234')](_0x5c898e[_0x48ef('0x222')]['TagId'])[_0x48ef('0x64')](function(_0x400c4d){if(_0x400c4d){if(!CentralRestServerAuthorization[_0x48ef('0x22b')](_0x5c898e['user'],_0x400c4d[_0x48ef('0xa1')]())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1af')],CentralRestServerAuthorization['ACTION\x5fREAD'],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x400c4d['setPassword']('');if(!CentralRestServerAuthorization[_0x48ef('0x22c')](_0x5c898e[_0x48ef('0x4f')])){_0x400c4d[_0x48ef('0x109')]('');}_0x57fa47[_0x48ef('0x152')](_0x400c4d[_0x48ef('0xa1')]());}else{_0x57fa47['json']({});}_0x2dc077();})[_0x48ef('0x15c')](_0x288f54=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x288f54,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x235'):if(!_0x5c898e[_0x48ef('0x222')]['ChargeBoxIdentity']){Logging['logActionErrorMessageAndSendResponse'](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x236')]){Logging[_0x48ef('0x1de')](_0x2288e3,'The\x20Connector\x20ID\x20is\x20mandatory',_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e['query']['ChargeBoxIdentity'])[_0x48ef('0x64')](function(_0x1753c6){if(_0x1753c6){if(!CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e[_0x48ef('0x4f')],_0x1753c6['getModel']())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1b6')],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x1753c6[_0x48ef('0xda')](_0x5c898e['query']['ConnectorId'],_0x5c898e['query'][_0x48ef('0x237')],_0x5c898e[_0x48ef('0x222')][_0x48ef('0x238')])['then'](_0x2da912=>{_0x57fa47[_0x48ef('0x152')](_0x2da912);_0x2dc077();});}else{return Promise['reject'](new Error(_0x48ef('0x167')+_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')]+'\x20does\x20not\x20exist'));}})[_0x48ef('0x15c')](_0x34eb3a=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x34eb3a,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x239'):if(!_0x5c898e['query']['TransactionId']){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x23a'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0xe5')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x23b')])[_0x48ef('0x64')](_0x98cdb8=>{if(_0x98cdb8){_0x57fa47['json'](_0x98cdb8);_0x2dc077();}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x23c')+_0x5c898e['query'][_0x48ef('0x23b')]+_0x48ef('0x1ec')));}})['catch'](_0x4569db=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x4569db,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x23d'):if(!_0x5c898e[_0x48ef('0x222')]['ChargeBoxIdentity']){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}if(!_0x5c898e[_0x48ef('0x222')]['ConnectorId']){Logging['logActionErrorMessageAndSendResponse'](_0x2288e3,'The\x20Connector\x20ID\x20is\x20mandatory',_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')]['ChargeBoxIdentity'])[_0x48ef('0x64')](function(_0xb38475){if(_0xb38475){if(!CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e['user'],_0xb38475[_0x48ef('0xa1')]())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1b6')],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0xb38475[_0x48ef('0xdb')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x236')])[_0x48ef('0x64')](_0x2421ff=>{_0x57fa47['json'](_0x2421ff);_0x2dc077();});}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x167')+_0x5c898e['query']['ChargeBoxIdentity']+_0x48ef('0x1ec')));}})[_0x48ef('0x15c')](_0x4b7cd3=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x4b7cd3,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x23e'):if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')]){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global['storage'][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')])[_0x48ef('0x64')](function(_0x53976e){let _0x2c8295=[];if(_0x53976e){if(!CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e[_0x48ef('0x4f')],_0x53976e[_0x48ef('0xa1')]())){Logging['logActionUnauthorizedMessageAndSendResponse'](CentralRestServerAuthorization[_0x48ef('0x1b6')],CentralRestServerAuthorization['ACTION\x5fREAD'],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x53976e[_0x48ef('0xd7')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x236')])[_0x48ef('0x64')](function(_0xee221f){_0x57fa47[_0x48ef('0x152')](_0xee221f);_0x2dc077();});}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x167')+_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')]+_0x48ef('0x1ec')));}})[_0x48ef('0x15c')](_0x828a50=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x828a50,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x23f'):if(!_0x5c898e['query'][_0x48ef('0x229')]){Logging['logActionErrorMessageAndSendResponse'](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}if(!_0x5c898e['query']['ConnectorId']){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x240'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')])[_0x48ef('0x64')](function(_0x3e5b79){let _0xda19aa={};if(_0x3e5b79){if(!CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e[_0x48ef('0x4f')],_0x3e5b79['getModel']())){Logging['logActionUnauthorizedMessageAndSendResponse'](CentralRestServerAuthorization[_0x48ef('0x1b6')],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x3e5b79[_0x48ef('0xd8')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x236')])[_0x48ef('0x64')](function(_0x1d3405){if(_0x1d3405){_0x57fa47[_0x48ef('0x152')](_0x1d3405);_0x2dc077();}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x241')+_0x5c898e['query'][_0x48ef('0x229')]+_0x48ef('0x242')+_0x5c898e[_0x48ef('0x222')][_0x48ef('0x236')]+_0x48ef('0x1ec')));}});}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x167')+_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')]+_0x48ef('0x1ec')));}})[_0x48ef('0x15c')](_0x53514e=>{Logging['logActionUnexpectedErrorMessageAndSendResponse'](_0x2288e3,_0x53514e,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x243'):if(!_0x5c898e[_0x48ef('0x222')]['ChargeBoxIdentity']){Logging[_0x48ef('0x1de')](_0x2288e3,'The\x20Charging\x20Station\x20ID\x20is\x20mandatory',_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')])[_0x48ef('0x64')](function(_0x88ddfe){let _0x377a6d=[];if(_0x88ddfe){if(!CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e[_0x48ef('0x4f')],_0x88ddfe[_0x48ef('0xa1')]())){Logging['logActionUnauthorizedMessageAndSendResponse'](CentralRestServerAuthorization['ENTITY\x5fCHARGING\x5fSTATION'],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x88ddfe['getConsumptionsFromDateTimeRange'](_0x5c898e['query']['ConnectorId'],_0x5c898e['query'][_0x48ef('0x237')],_0x5c898e['query'][_0x48ef('0x238')],![])[_0x48ef('0x64')](function(_0x29072e){_0x57fa47[_0x48ef('0x152')](_0x29072e);_0x2dc077();});}else{return Promise[_0x48ef('0xb0')](new Error(_0x48ef('0x167')+_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')]+_0x48ef('0x1ec')));}})[_0x48ef('0x15c')](_0x5e97a1=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x5e97a1,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x244'):if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')]){Logging[_0x48ef('0x1de')](_0x2288e3,'The\x20Charging\x20Station\x20ID\x20is\x20mandatory',_0x5c898e,_0x57fa47,_0x2dc077);break;}if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x236')]){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x240'),_0x5c898e,_0x57fa47,_0x2dc077);break;}if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x23b')]){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x23a'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global['storage'][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')])[_0x48ef('0x64')](function(_0x473395){let _0x2ea956=[];if(_0x473395){if(!CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e[_0x48ef('0x4f')],_0x473395[_0x48ef('0xa1')]())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization['ENTITY\x5fCHARGING\x5fSTATION'],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x473395[_0x48ef('0x245')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x236')],_0x5c898e['query'][_0x48ef('0x23b')],!![])['then'](function(_0xb2824c){_0x57fa47[_0x48ef('0x152')](_0xb2824c);_0x2dc077();});}else{return Promise[_0x48ef('0xb0')](new Error('Charging\x20Station\x20'+_0x5c898e[_0x48ef('0x222')]['ChargeBoxIdentity']+_0x48ef('0x1ec')));}})[_0x48ef('0x15c')](_0x30a282=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x30a282,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x246'):if(!_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')]){Logging['logActionErrorMessageAndSendResponse'](_0x2288e3,_0x48ef('0x204'),_0x5c898e,_0x57fa47,_0x2dc077);break;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')][_0x48ef('0x229')])[_0x48ef('0x64')](function(_0x493376){let _0x4fa8bd={};if(_0x493376){if(!CentralRestServerAuthorization[_0x48ef('0x228')](_0x5c898e[_0x48ef('0x4f')],_0x493376['getModel']())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1b6')],CentralRestServerAuthorization[_0x48ef('0x1fa')],_0x5c898e,_0x57fa47,_0x2dc077);return;}_0x493376[_0x48ef('0xc')]()['then'](function(_0x57a936){_0x57fa47[_0x48ef('0x152')](_0x57a936);_0x2dc077();});}else{return Promise['reject'](new Error(_0x48ef('0x167')+_0x5c898e['query'][_0x48ef('0x229')]+_0x48ef('0x1ec')));}})[_0x48ef('0x15c')](_0x1f0272=>{Logging['logActionUnexpectedErrorMessageAndSendResponse'](_0x2288e3,_0x1f0272,_0x5c898e,_0x57fa47,_0x2dc077);});break;default:if(!_0x2288e3){Logging[_0x48ef('0x1de')](_0x48ef('0x1e4'),'No\x20Action\x20has\x20been\x20provided',_0x5c898e,_0x57fa47,_0x2dc077);}else{Logging[_0x48ef('0x1de')](_0x48ef('0x1e4'),_0x48ef('0x1ed')+_0x2288e3+'\x27\x20does\x20not\x20exist',_0x5c898e,_0x57fa47,_0x2dc077);}}break;case'PUT':switch(_0x2288e3){case _0x48ef('0x247'):if(Users[_0x48ef('0x1dd')](_0x5c898e,_0x57fa47,_0x2dc077)){global['storage'][_0x48ef('0x230')](_0x5c898e[_0x48ef('0x1d3')]['id'])['then'](function(_0x3c61f3){if(!_0x3c61f3){Logging[_0x48ef('0x1de')](_0x2288e3,'The\x20user\x20with\x20ID\x20'+_0x5c898e[_0x48ef('0x1d3')]['id']+_0x48ef('0x248'),_0x5c898e,_0x57fa47,_0x2dc077);return;}if(!CentralRestServerAuthorization[_0x48ef('0x249')](_0x5c898e[_0x48ef('0x4f')],_0x3c61f3[_0x48ef('0xa1')]())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization['ENTITY\x5fUSER'],CentralRestServerAuthorization['ACTION\x5fUPDATE'],_0x5c898e,_0x57fa47,_0x2dc077);return;}if(_0x5c898e[_0x48ef('0x1d3')]['role']&&_0x5c898e['body'][_0x48ef('0x108')]!==_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x108')]&&_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x108')]!=='A'){Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72':_0x5c898e[_0x48ef('0x4f')],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x20a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x24a'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xc9')+_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x10b')]+'\x20'+_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x101')]+'\x20tries\x20to\x20update\x20his\x20role\x20to\x20\x27'+_0x5c898e['body']['role']+_0x48ef('0x24b')+_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x108')]+'\x27\x29'});_0x5c898e[_0x48ef('0x1d3')][_0x48ef('0x108')]=_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x108')];}Database[_0x48ef('0xff')](_0x5c898e[_0x48ef('0x1d3')],_0x3c61f3[_0x48ef('0xa1')]());_0x3c61f3[_0x48ef('0x105')](_0x5c898e['locale']);_0x3c61f3[_0x48ef('0x120')](_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x101')]+'\x20'+_0x5c898e[_0x48ef('0x4f')][_0x48ef('0x10b')]);_0x3c61f3[_0x48ef('0x123')](new Date());if(_0x5c898e['body']['passwords']['password']&&_0x5c898e[_0x48ef('0x1d3')]['passwords']['password'][_0x48ef('0xa9')]>0x0){let _0x3009a5=Users[_0x48ef('0x1d4')](_0x5c898e['body'][_0x48ef('0x24c')][_0x48ef('0x50')]);_0x3c61f3[_0x48ef('0x104')](_0x3009a5);}_0x3c61f3[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72':_0x5c898e[_0x48ef('0x4f')],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x20a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x20b'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xc9')+_0x3c61f3['getFullName']()+'\x20with\x20Email\x20'+_0x3c61f3[_0x48ef('0x21e')]()+'\x20has\x20been\x20updated\x20successfully','\x61\x63\x74\x69\x6f\x6e':_0x2288e3,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x3c61f3});});_0x57fa47[_0x48ef('0x152')]({'\x73\x74\x61\x74\x75\x73':_0x48ef('0x1e9')});_0x2dc077();})[_0x48ef('0x15c')](_0x53ad1e=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x53ad1e,_0x5c898e,_0x57fa47,_0x2dc077);});}break;default:if(!_0x2288e3){Logging['logActionErrorMessageAndSendResponse'](_0x2288e3,_0x48ef('0x24d'),_0x5c898e,_0x57fa47,_0x2dc077);}else{Logging[_0x48ef('0x1de')](_0x2288e3,'The\x20Action\x20\x27'+_0x2288e3+'\x27\x20does\x20not\x20exist',_0x5c898e,_0x57fa47,_0x2dc077);}break;}break;case'DELETE':switch(_0x2288e3){case _0x48ef('0x24e'):if(!_0x5c898e[_0x48ef('0x222')]['ID']){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x24f'),_0x5c898e,_0x57fa47,_0x2dc077);return;}global[_0x48ef('0xa3')]['getUser'](_0x5c898e[_0x48ef('0x222')]['ID'])['then'](_0x2ab1a9=>{if(!_0x2ab1a9){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x250')+_0x5c898e[_0x48ef('0x1d3')]['id']+'\x20does\x20not\x20exist\x20anymore',_0x5c898e,_0x57fa47,_0x2dc077);return;}if(!CentralRestServerAuthorization['canDeleteUser'](_0x5c898e['user'],_0x2ab1a9['getModel']())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization[_0x48ef('0x1af')],CentralRestServerAuthorization[_0x48ef('0x1b4')],_0x5c898e,_0x57fa47,_0x2dc077);return;}global[_0x48ef('0xa3')][_0x48ef('0x251')](_0x5c898e[_0x48ef('0x222')]['ID'])[_0x48ef('0x64')](()=>{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72':_0x5c898e[_0x48ef('0x4f')],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x20a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x20b'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0xc9')+_0x2ab1a9['getFullName']()+_0x48ef('0x148')+_0x2ab1a9[_0x48ef('0x21e')]()+_0x48ef('0x252'),'\x61\x63\x74\x69\x6f\x6e':_0x2288e3,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x2ab1a9});_0x57fa47[_0x48ef('0x152')]({'\x73\x74\x61\x74\x75\x73':_0x48ef('0x1e9')});_0x2dc077();});})[_0x48ef('0x15c')](_0x93b9bc=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x93b9bc,_0x5c898e,_0x57fa47,_0x2dc077);});break;case _0x48ef('0x253'):if(!_0x5c898e['query']['ID']){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x254'),_0x5c898e,_0x57fa47,_0x2dc077);return;}global[_0x48ef('0xa3')][_0x48ef('0x42')](_0x5c898e[_0x48ef('0x222')]['ID'])['then'](_0x7780b0=>{if(!_0x7780b0){Logging[_0x48ef('0x1de')](_0x2288e3,_0x48ef('0x255')+_0x5c898e[_0x48ef('0x1d3')]['id']+_0x48ef('0x248'),_0x5c898e,_0x57fa47,_0x2dc077);return;}if(!CentralRestServerAuthorization['canDeleteChargingStation'](_0x5c898e[_0x48ef('0x4f')],_0x7780b0[_0x48ef('0xa1')]())){Logging[_0x48ef('0x205')](CentralRestServerAuthorization['ENTITY\x5fCHARGING\x5fSTATION'],CentralRestServerAuthorization[_0x48ef('0x1b4')],_0x5c898e,_0x57fa47,_0x2dc077);return;}global[_0x48ef('0xa3')][_0x48ef('0x256')](_0x5c898e[_0x48ef('0x222')]['ID'])[_0x48ef('0x64')](()=>{Logging['logInfo']({'\x75\x73\x65\x72':_0x5c898e[_0x48ef('0x4f')],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x20a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x20b'),'\x6d\x65\x73\x73\x61\x67\x65':'Charging\x20Station\x20'+_0x7780b0[_0x48ef('0x1f')]()+_0x48ef('0x252'),'\x61\x63\x74\x69\x6f\x6e':_0x2288e3,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x7780b0});_0x57fa47[_0x48ef('0x152')]({'\x73\x74\x61\x74\x75\x73':'Success'});_0x2dc077();});})[_0x48ef('0x15c')](_0x38293a=>{Logging[_0x48ef('0x1e6')](_0x2288e3,_0x38293a,_0x5c898e,_0x57fa47,_0x2dc077);});break;default:if(!_0x2288e3){Logging[_0x48ef('0x1de')]('N\x2fA',_0x48ef('0x24d'),_0x5c898e,_0x57fa47,_0x2dc077);}else{Logging['logActionErrorMessageAndSendResponse']('N\x2fA','The\x20Action\x20\x27'+_0x2288e3+'\x27\x20does\x20not\x20exist',_0x5c898e,_0x57fa47,_0x2dc077);}break;}break;default:Logging['logActionErrorMessageAndSendResponse']('N\x2fA',_0x48ef('0x257')+_0x5c898e[_0x48ef('0x1cf')],_0x5c898e,_0x57fa47,_0x2dc077);break;}}};var MongoDBStorage=require(_0x48ef('0x258'));var Configuration=require(_0x48ef('0x259'));var SoapCentralSystemServer=require(_0x48ef('0x25a'));var CentralRestServer=require('\x2e\x2fserver\x2ffront\x2dend\x2fCentralRestServer');var CentralServerBackgroundTasks=require(_0x48ef('0x25b'));let storageConfig=Configuration[_0x48ef('0x25c')]();switch(storageConfig['implementation']){case'mongodb':var mongoDB=new MongoDBStorage(storageConfig);global[_0x48ef('0xa3')]=mongoDB;break;default:console['log'](_0x48ef('0x25d')+storageConfig[_0x48ef('0x25e')]+_0x48ef('0x25f'));}global['storage']['start']()[_0x48ef('0x64')](()=>{let _0x3e0539=Configuration[_0x48ef('0x260')]();let _0x4d970c=Configuration[_0x48ef('0x128')]();_0x3e0539[_0x48ef('0xee')](_0x1f508e=>{let _0xf0426f;switch(_0x1f508e[_0x48ef('0x25e')]){case'soap':_0xf0426f=new SoapCentralSystemServer(_0x1f508e,_0x4d970c);_0xf0426f['start']();break;default:console[_0x48ef('0x3')]('Central\x20System\x20Server\x20implementation\x20\x27'+_0x1f508e['implementation']+'\x27\x20not\x20found\x21');}});let _0x7f81e1=Configuration[_0x48ef('0x1c8')]();if(_0x7f81e1){let _0x1781b9=new CentralRestServer(_0x7f81e1);global[_0x48ef('0xa3')][_0x48ef('0x261')](_0x1781b9);_0x1781b9[_0x48ef('0xdf')]();}let _0x12b91d=Configuration[_0x48ef('0x6b')]();setInterval(CentralServerBackgroundTasks[_0x48ef('0x262')],_0x12b91d['backgroundTasksIntervalSecs']*0x3e8);},_0x48e231=>{console[_0x48ef('0x3')](_0x48ef('0x263'));});var mongoose=require('mongoose');module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')]('Authorize',{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')},'\x74\x61\x67\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x265')},'\x75\x73\x65\x72\x49\x44':{'\x74\x79\x70\x65':mongoose['Schema'][_0x48ef('0x266')][_0x48ef('0x267')],'\x72\x65\x66':_0x48ef('0xcd')},'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')](_0x48ef('0x159'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79':String,'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')},'\x63\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x56\x65\x6e\x64\x6f\x72':String,'\x63\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x4d\x6f\x64\x65\x6c':String,'\x63\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x53\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':String,'\x66\x69\x72\x6d\x77\x61\x72\x65\x56\x65\x72\x73\x69\x6f\x6e':String,'\x69\x63\x63\x69\x64':String,'\x69\x6d\x73\x69':String,'\x6d\x65\x74\x65\x72\x54\x79\x70\x65':String,'\x6d\x65\x74\x65\x72\x53\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':String,'\x65\x6e\x64\x70\x6f\x69\x6e\x74':String,'\x6f\x63\x70\x70\x56\x65\x72\x73\x69\x6f\x6e':String});var mongoose=require('mongoose');const Connector=new mongoose[_0x48ef('0x269')]({'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':Number,'\x63\x75\x72\x72\x65\x6e\x74\x43\x6f\x6e\x73\x75\x6d\x70\x74\x69\x6f\x6e':Number,'\x73\x74\x61\x74\x75\x73':String,'\x65\x72\x72\x6f\x72\x43\x6f\x64\x65':String,'\x70\x6f\x77\x65\x72':Number});module[_0x48ef('0xf')]=mongoose['model'](_0x48ef('0x77'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79':String,'\x63\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x56\x65\x6e\x64\x6f\x72':String,'\x63\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x4d\x6f\x64\x65\x6c':String,'\x63\x68\x61\x72\x67\x65\x50\x6f\x69\x6e\x74\x53\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x53\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':String,'\x66\x69\x72\x6d\x77\x61\x72\x65\x56\x65\x72\x73\x69\x6f\x6e':String,'\x69\x63\x63\x69\x64':String,'\x69\x6d\x73\x69':String,'\x6d\x65\x74\x65\x72\x54\x79\x70\x65':String,'\x6d\x65\x74\x65\x72\x49\x6e\x74\x65\x72\x76\x61\x6c\x53\x65\x63\x73':Number,'\x6d\x65\x74\x65\x72\x53\x65\x72\x69\x61\x6c\x4e\x75\x6d\x62\x65\x72':String,'\x65\x6e\x64\x70\x6f\x69\x6e\x74':String,'\x6f\x63\x70\x70\x56\x65\x72\x73\x69\x6f\x6e':String,'\x6c\x61\x73\x74\x52\x65\x62\x6f\x6f\x74':Date,'\x6c\x61\x73\x74\x48\x65\x61\x72\x74\x42\x65\x61\x74':Date,'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x73':[]});var mongoose=require(_0x48ef('0x268'));const Configuration=new mongoose[_0x48ef('0x269')]({'\x6b\x65\x79':String,'\x76\x61\x6c\x75\x65':String,'\x72\x65\x61\x64\x6f\x6e\x6c\x79':Boolean});module[_0x48ef('0xf')]=mongoose['model']('Configuration',{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':'ChargingStation'},'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e':[]});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose['model'](_0x48ef('0x176'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':'ChargingStation'},'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x76\x65\x6e\x64\x6f\x72\x49\x64':String,'\x6d\x65\x73\x73\x61\x67\x65\x49\x64':String,'\x64\x61\x74\x61':String});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')](_0x48ef('0x16d'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')},'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x73\x74\x61\x74\x75\x73':String});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')](_0x48ef('0x180'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')},'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x73\x74\x61\x74\x75\x73':String});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')]('Log',{'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':{'\x74\x79\x70\x65':Date,'\x69\x6e\x64\x65\x78':!![]},'\x6c\x65\x76\x65\x6c':String,'\x73\x6f\x75\x72\x63\x65':String,'\x6d\x6f\x64\x75\x6c\x65':String,'\x6d\x65\x74\x68\x6f\x64':String,'\x61\x63\x74\x69\x6f\x6e':String,'\x6d\x65\x73\x73\x61\x67\x65':String,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':[],'\x75\x73\x65\x72\x49\x44':{'\x74\x79\x70\x65':mongoose[_0x48ef('0x269')][_0x48ef('0x266')][_0x48ef('0x267')],'\x72\x65\x66':'User'},'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')}});var mongoose=require(_0x48ef('0x268'));const Attribute=new mongoose[_0x48ef('0x269')]({'\x63\x6f\x6e\x74\x65\x78\x74':String,'\x66\x6f\x72\x6d\x61\x74':String,'\x6d\x65\x61\x73\x75\x72\x61\x6e\x64':String,'\x6c\x6f\x63\x61\x74\x69\x6f\x6e':String,'\x75\x6e\x69\x74':String});module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')](_0x48ef('0x26a'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')},'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':Number,'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':{'\x74\x79\x70\x65':Date,'\x69\x6e\x64\x65\x78':!![]},'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':Number,'\x76\x61\x6c\x75\x65':Number,'\x61\x74\x74\x72\x69\x62\x75\x74\x65':Attribute});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose['model'](_0x48ef('0x173'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')},'\x74\x61\x67\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x265')},'\x75\x73\x65\x72\x49\x44':{'\x74\x79\x70\x65':mongoose['Schema']['Types'][_0x48ef('0x267')],'\x72\x65\x66':_0x48ef('0xcd')},'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':Number,'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x72\x65\x73\x65\x72\x76\x61\x74\x69\x6f\x6e\x49\x64':Number,'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':Number,'\x6d\x65\x74\x65\x72\x53\x74\x61\x72\x74':Number,'\x6e\x6f\x74\x69\x66\x42\x65\x66\x6f\x72\x65\x45\x6e\x64\x4f\x66\x43\x68\x61\x72\x67\x65\x53\x65\x6e\x74':Boolean,'\x6e\x6f\x74\x69\x66\x45\x6e\x64\x4f\x66\x43\x68\x61\x72\x67\x65\x53\x65\x6e\x74':Boolean});var mongoose=require('mongoose');module[_0x48ef('0xf')]=mongoose['model'](_0x48ef('0x163'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':'ChargingStation'},'\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64':Number,'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x73\x74\x61\x74\x75\x73':String,'\x65\x72\x72\x6f\x72\x43\x6f\x64\x65':String,'\x69\x6e\x66\x6f':String,'\x76\x65\x6e\x64\x6f\x72\x49\x64':String,'\x76\x65\x6e\x64\x6f\x72\x45\x72\x72\x6f\x72\x43\x6f\x64\x65':String});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')](_0x48ef('0x74'),{'\x5f\x69\x64':String,'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x77')},'\x74\x61\x67\x49\x44':{'\x74\x79\x70\x65':String,'\x72\x65\x66':_0x48ef('0x265')},'\x75\x73\x65\x72\x49\x44':{'\x74\x79\x70\x65':mongoose['Schema'][_0x48ef('0x266')][_0x48ef('0x267')],'\x72\x65\x66':_0x48ef('0xcd')},'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':Number,'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':Date,'\x6d\x65\x74\x65\x72\x53\x74\x6f\x70':Number,'\x72\x65\x61\x73\x6f\x6e':String,'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x44\x61\x74\x61':[]});var mongoose=require(_0x48ef('0x268'));module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')](_0x48ef('0x265'),{'\x5f\x69\x64':String,'\x75\x73\x65\x72\x49\x44':{'\x74\x79\x70\x65':mongoose[_0x48ef('0x269')]['Types'][_0x48ef('0x267')],'\x72\x65\x66':'User'}});var mongoose=require('mongoose');const Address=new mongoose[_0x48ef('0x269')]({'\x61\x64\x64\x72\x65\x73\x73\x31':String,'\x61\x64\x64\x72\x65\x73\x73\x32':String,'\x61\x64\x64\x72\x65\x73\x73\x50\x6f\x73\x74\x61\x6c\x43\x6f\x64\x65':String,'\x61\x64\x64\x72\x65\x73\x73\x4c\x6f\x63\x61\x6c\x69\x74\x79':String,'\x61\x64\x64\x72\x65\x73\x73\x52\x65\x67\x69\x6f\x6e':String,'\x61\x64\x64\x72\x65\x73\x73\x43\x6f\x75\x6e\x74\x72\x79':String});module[_0x48ef('0xf')]=mongoose[_0x48ef('0x264')](_0x48ef('0xcd'),{'\x6e\x61\x6d\x65':String,'\x66\x69\x72\x73\x74\x4e\x61\x6d\x65':String,'\x69\x6d\x61\x67\x65':String,'\x65\x6d\x61\x69\x6c':String,'\x70\x61\x73\x73\x77\x6f\x72\x64':String,'\x72\x6f\x6c\x65':String,'\x70\x68\x6f\x6e\x65':String,'\x6d\x6f\x62\x69\x6c\x65':String,'\x69\x4e\x75\x6d\x62\x65\x72':String,'\x63\x6f\x73\x74\x43\x65\x6e\x74\x65\x72':String,'\x73\x74\x61\x74\x75\x73':String,'\x61\x64\x64\x72\x65\x73\x73\x65\x73':[],'\x6c\x6f\x63\x61\x6c\x65':String,'\x63\x72\x65\x61\x74\x65\x64\x42\x79':String,'\x63\x72\x65\x61\x74\x65\x64\x4f\x6e':Date,'\x6c\x61\x73\x74\x43\x68\x61\x6e\x67\x65\x64\x42\x79':String,'\x6c\x61\x73\x74\x43\x68\x61\x6e\x67\x65\x64\x4f\x6e':Date});var mongoose=require('mongoose');var MDBConfiguration=require(_0x48ef('0x26b'));var MDBUser=require('\x2e\x2fmodel\x2fMDBUser');var MDBTag=require('\x2e\x2fmodel\x2fMDBTag');var MDBLog=require(_0x48ef('0x26c'));var MDBFirmwareStatusNotification=require(_0x48ef('0x26d'));var MDBDiagnosticsStatusNotification=require(_0x48ef('0x26e'));var MDBChargingStation=require('\x2e\x2fmodel\x2fMDBChargingStation');var MDBAuthorize=require(_0x48ef('0x26f'));var MDBBootNotification=require(_0x48ef('0x270'));var MDBStatusNotification=require(_0x48ef('0x271'));var MDBMeterValue=require('\x2e\x2fmodel\x2fMDBMeterValue');var MDBStartTransaction=require(_0x48ef('0x272'));var MDBStopTransaction=require('\x2e\x2fmodel\x2fMDBStopTransaction');var MDBDataTransfer=require('\x2e\x2fmodel\x2fMDBDataTransfer');var User=require(_0x48ef('0x1c4'));var ChargingStation=require(_0x48ef('0x14a'));var Utils=require(_0x48ef('0x14b'));var Database=require(_0x48ef('0x273'));var Storage=require(_0x48ef('0x274'));var Logging=require(_0x48ef('0x14c'));var crypto=require('crypto');var moment=require(_0x48ef('0x6a'));let _dbConfig;let _centralRestServer;class MongoDBStorage extends Storage{constructor(_0x4e617a){super(_0x4e617a);_dbConfig=_0x4e617a;mongoose[_0x48ef('0x275')]=global[_0x48ef('0x275')];}[_0x48ef('0xdf')](){return new Promise((_0x492cdd,_0x11a28d)=>{mongoose[_0x48ef('0x276')](_0x48ef('0x277')+_dbConfig[_0x48ef('0x4b')]+'\x3a'+_dbConfig[_0x48ef('0x4c')]+'\x2f'+_dbConfig[_0x48ef('0x278')],{'\x75\x73\x65\x72':_dbConfig['user'],'\x70\x61\x73\x73':_dbConfig[_0x48ef('0x50')]},_0x43f3f5=>{if(_0x43f3f5){console[_0x48ef('0x3')](_0x48ef('0x279')+_0x43f3f5[_0x48ef('0x20')]());_0x11a28d(_0x43f3f5);}else{Logging[_0x48ef('0xbb')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':_0x48ef('0x27a'),'\x6d\x65\x74\x68\x6f\x64':_0x48ef('0xdf'),'\x61\x63\x74\x69\x6f\x6e':_0x48ef('0x196'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x27b')+_dbConfig[_0x48ef('0x4b')]+'\x3a'+_dbConfig['port']+_0x48ef('0x27c')+_dbConfig[_0x48ef('0x278')]+'\x27'});console[_0x48ef('0x3')](_0x48ef('0x27b')+_dbConfig[_0x48ef('0x4b')]+'\x3a'+_dbConfig[_0x48ef('0x4c')]+_0x48ef('0x27c')+_dbConfig[_0x48ef('0x278')]+'\x27');_0x492cdd();}});});}[_0x48ef('0x261')](_0x1a8a10){_centralRestServer=_0x1a8a10;}[_0x48ef('0xd9')](_0x4f94ac,_0x19b1df){return this[_0x48ef('0xc')](_0x4f94ac)[_0x48ef('0x64')](_0x102685=>{var _0xe5a0fd=null;if(_0x102685){_0x102685[_0x48ef('0xa8')]['every'](_0xfe5fd=>{if(_0xfe5fd[_0x48ef('0x3e')]===_0x19b1df){_0xe5a0fd=_0xfe5fd[_0x48ef('0xad')];return![];}else{return!![];}});}return _0xe5a0fd;});}['getLogs'](_0x52324a,_0x5e91c0,_0x5d1c59){if(!_0x5d1c59||isNaN(_0x5d1c59)){_0x5d1c59=0x32;}if(_0x5d1c59>0x1f4){_0x5d1c59=0x1f4;}if(typeof _0x5d1c59==_0x48ef('0x27d')){_0x5d1c59=parseInt(_0x5d1c59);}let _0x393fd9={};if(_0x52324a){_0x393fd9['timestamp']={};_0x393fd9[_0x48ef('0xb7')][_0x48ef('0x27e')]=new Date(_0x52324a);}if(_0x5e91c0){_0x393fd9['\x24or']=[{'\x73\x6f\x75\x72\x63\x65':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x5e91c0+'\x2e\x2a'}},{'\x6d\x65\x73\x73\x61\x67\x65':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x5e91c0+'\x2e\x2a'}},{'\x61\x63\x74\x69\x6f\x6e':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x5e91c0+'\x2e\x2a'}},{'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x5e91c0+'\x2e\x2a'}}];}return MDBLog[_0x48ef('0x27f')](_0x393fd9)[_0x48ef('0x280')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':0x1})[_0x48ef('0x281')](_0x5d1c59)[_0x48ef('0x1cc')]()['then'](_0x529acb=>{var _0x256806=[];_0x529acb[_0x48ef('0xee')](function(_0x2dcaf9){var _0x2fa548={};Database[_0x48ef('0x282')](_0x2dcaf9,_0x2fa548);_0x256806['push'](_0x2fa548);});return _0x256806;});}[_0x48ef('0xc')](_0x446e51){return MDBConfiguration[_0x48ef('0x283')]({'\x5f\x69\x64':_0x446e51})[_0x48ef('0x64')](_0x1b4bf5=>{var _0x5c186a=null;if(_0x1b4bf5){_0x5c186a={};Database[_0x48ef('0x284')](_0x1b4bf5,_0x5c186a);}return _0x5c186a;});}[_0x48ef('0xd7')](_0x2df5ab,_0x4a71a0){var _0x594f65={};if(_0x2df5ab){_0x594f65[_0x48ef('0x285')]=_0x2df5ab;}if(_0x4a71a0){_0x594f65[_0x48ef('0x73')]=_0x4a71a0;}return MDBStatusNotification['find'](_0x594f65)[_0x48ef('0x280')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':0x1})[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0xc73b1e=>{var _0x6da0ca=[];_0xc73b1e['forEach'](_0x143a25=>{var _0x3bdd9a={};Database['updateStatusNotification'](_0x143a25,_0x3bdd9a);_0x6da0ca[_0x48ef('0xf7')](_0x3bdd9a);});return _0x6da0ca;});}['getLastStatusNotification'](_0x29f531,_0x433552){var _0x1de43d={};_0x1de43d['chargeBoxID']=_0x29f531;_0x1de43d[_0x48ef('0x73')]=_0x433552;return MDBStatusNotification[_0x48ef('0x27f')](_0x1de43d)[_0x48ef('0x280')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x48ef('0x281')](0x1)[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x749fd2=>{var _0x2e9e15=null;if(_0x749fd2[0x0]){_0x2e9e15={};Database['updateStatusNotification'](_0x749fd2[0x0],_0x2e9e15);}return _0x2e9e15;});}[_0x48ef('0xec')](_0x3923ca,_0x5d171c,_0x3da133,_0x218f07){var _0x445b7d={};_0x445b7d[_0x48ef('0x285')]=_0x3923ca;_0x445b7d[_0x48ef('0x73')]=_0x5d171c;if(_0x3da133||_0x218f07){_0x445b7d['timestamp']={};}if(_0x3da133){_0x445b7d[_0x48ef('0xb7')][_0x48ef('0x27e')]=new Date(_0x3da133);}if(_0x218f07){_0x445b7d[_0x48ef('0xb7')][_0x48ef('0x286')]=new Date(_0x218f07);}return MDBMeterValue[_0x48ef('0x27f')](_0x445b7d)[_0x48ef('0x280')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':0x1,'\x76\x61\x6c\x75\x65':-0x1})['exec']()[_0x48ef('0x64')](_0x13aa79=>{var _0x26bb88=[];_0x13aa79[_0x48ef('0xee')](_0x39efa4=>{var _0x4fedea={};Database[_0x48ef('0x287')](_0x39efa4,_0x4fedea);_0x26bb88[_0x48ef('0xf7')](_0x4fedea);});return _0x26bb88;});}[_0x48ef('0xe6')](_0x1d5da8,_0xcad96c,_0x2e3b12){var _0xafab41={};_0xafab41[_0x48ef('0x285')]=_0x1d5da8;_0xafab41[_0x48ef('0x73')]=_0xcad96c;_0xafab41[_0x48ef('0x76')]=_0x2e3b12;return MDBMeterValue[_0x48ef('0x27f')](_0xafab41)[_0x48ef('0x280')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':0x1,'\x76\x61\x6c\x75\x65':-0x1})[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x601784=>{var _0x22b2db=[];_0x601784[_0x48ef('0xee')](_0x1395a9=>{var _0x53d610={};Database[_0x48ef('0x287')](_0x1395a9,_0x53d610);_0x22b2db[_0x48ef('0xf7')](_0x53d610);});return _0x22b2db;});}[_0x48ef('0xde')](_0x568850,_0x72c751,_0xbde06,_0x6d87d2){var _0x32fa4f={};_0x32fa4f[_0x48ef('0x285')]=_0x568850;_0x32fa4f[_0x48ef('0x73')]=_0x72c751;_0x32fa4f[_0x48ef('0x76')]=_0xbde06;if(!_0x6d87d2){_0x6d87d2=0x0;}return MDBMeterValue['find'](_0x32fa4f)[_0x48ef('0x280')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1,'\x76\x61\x6c\x75\x65':-0x1})[_0x48ef('0x281')](_0x6d87d2)['exec']()['then'](_0xa39d0a=>{var _0x3f5963=[];_0xa39d0a[_0x48ef('0xee')](_0x37e681=>{var _0xe8c3f6={};Database[_0x48ef('0x287')](_0x37e681,_0xe8c3f6);_0x3f5963[_0x48ef('0xf7')](_0xe8c3f6);});_0x3f5963[_0x48ef('0x280')]((_0x18b47e,_0x41daf7)=>{var _0x43e267=moment(_0x18b47e[_0x48ef('0xb7')]);var _0x4df9cf=moment(_0x41daf7[_0x48ef('0xb7')]);if(_0x43e267['isBefore'](_0x4df9cf)){return-0x1;}else if(_0x43e267['isAfter'](_0x4df9cf)){return 0x1;}else{return 0x0;}});return _0x3f5963;});}['saveBootNotification'](_0x526b59){var _0xfee481=new MDBBootNotification(_0x526b59);_0xfee481[_0x48ef('0x288')]=crypto[_0x48ef('0x289')](_0x48ef('0x28a'))[_0x48ef('0x28b')](_0x526b59['chargeBoxIdentity']+'\x7e'+_0x526b59['timestamp'])[_0x48ef('0x28c')](_0x48ef('0x28d'));_0xfee481[_0x48ef('0x285')]=_0x526b59['chargeBoxIdentity'];return _0xfee481[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x526b59[_0x48ef('0x90')]});});}[_0x48ef('0xc2')](_0x16094f){var _0x1c8adb=new MDBDataTransfer(_0x16094f);_0x1c8adb[_0x48ef('0x288')]=crypto['createHash']('md5')[_0x48ef('0x28b')](_0x16094f[_0x48ef('0x90')]+'\x7e'+_0x16094f[_0x48ef('0x28e')]+'\x7e'+_0x16094f[_0x48ef('0xb7')])[_0x48ef('0x28c')](_0x48ef('0x28d'));_0x1c8adb[_0x48ef('0x285')]=_0x16094f['chargeBoxIdentity'];return _0x1c8adb['save']()['then'](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x16094f[_0x48ef('0x90')]});});}[_0x48ef('0xbd')](_0x1a99f0){var _0x238e00={};_0x238e00[_0x48ef('0x288')]=_0x1a99f0['chargeBoxIdentity'];_0x238e00[_0x48ef('0x285')]=_0x1a99f0[_0x48ef('0x90')];_0x238e00[_0x48ef('0xa8')]=_0x1a99f0[_0x48ef('0xbe')];_0x238e00[_0x48ef('0xb7')]=_0x1a99f0[_0x48ef('0xb7')];return MDBConfiguration[_0x48ef('0x28f')]({'\x5f\x69\x64':_0x1a99f0[_0x48ef('0x90')]},_0x238e00,{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]})['then'](_0x212057=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x1a99f0['chargeBoxIdentity']});return _0x212057;});}['saveStatusNotification'](_0x56a203){var _0x445356=new MDBStatusNotification(_0x56a203);_0x445356['\x5fid']=crypto[_0x48ef('0x289')](_0x48ef('0x28a'))[_0x48ef('0x28b')](_0x56a203['chargeBoxIdentity']+'\x7e'+_0x56a203[_0x48ef('0x73')]+'\x7e'+_0x56a203[_0x48ef('0xa6')]+'\x7e'+_0x56a203[_0x48ef('0xb7')])['digest']('hex');_0x445356['chargeBoxID']=_0x56a203[_0x48ef('0x90')];return _0x445356[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x56a203['chargeBoxIdentity']});});}[_0x48ef('0xc3')](_0x5e7185){var _0x47b098=new MDBDiagnosticsStatusNotification(_0x5e7185);_0x47b098[_0x48ef('0x288')]=crypto[_0x48ef('0x289')](_0x48ef('0x28a'))[_0x48ef('0x28b')](_0x5e7185[_0x48ef('0x90')]+'\x7e'+_0x5e7185[_0x48ef('0xb7')]['toISOString']())[_0x48ef('0x28c')](_0x48ef('0x28d'));_0x47b098[_0x48ef('0x285')]=_0x5e7185[_0x48ef('0x90')];return _0x47b098[_0x48ef('0xa2')](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x5e7185[_0x48ef('0x90')]});});}[_0x48ef('0xc4')](_0x1f7d0d){var _0x4afbfb=new MDBFirmwareStatusNotification(_0x1f7d0d);_0x4afbfb[_0x48ef('0x288')]=crypto['createHash'](_0x48ef('0x28a'))[_0x48ef('0x28b')](_0x1f7d0d[_0x48ef('0x90')]+'\x7e'+_0x1f7d0d[_0x48ef('0xb7')][_0x48ef('0xeb')]())[_0x48ef('0x28c')](_0x48ef('0x28d'));_0x4afbfb[_0x48ef('0x285')]=_0x1f7d0d[_0x48ef('0x90')];return _0x4afbfb[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x1f7d0d[_0x48ef('0x90')]});});}[_0x48ef('0x290')](_0x30ed08){var _0xeff053=new MDBLog(_0x30ed08);return _0xeff053['save']()[_0x48ef('0x64')](()=>{_centralRestServer[_0x48ef('0x1bb')]();});}[_0x48ef('0xc5')](_0x37dd5d){var _0x5aad5d=new MDBAuthorize(_0x37dd5d);_0x5aad5d[_0x48ef('0x288')]=crypto[_0x48ef('0x289')](_0x48ef('0x28a'))[_0x48ef('0x28b')](_0x37dd5d[_0x48ef('0x90')]+'\x7e'+_0x37dd5d[_0x48ef('0xb7')][_0x48ef('0xeb')]())[_0x48ef('0x28c')](_0x48ef('0x28d'));_0x5aad5d[_0x48ef('0x138')]=_0x37dd5d['user'][_0x48ef('0x79')]();_0x5aad5d['chargeBoxID']=_0x37dd5d['chargeBoxIdentity'];_0x5aad5d[_0x48ef('0x291')]=_0x37dd5d['idTag'];return _0x5aad5d[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x37dd5d['chargeBoxIdentity']});});}[_0x48ef('0xc1')](_0x3e53bc){if(!_0x3e53bc['id']){_0x3e53bc['id']=crypto[_0x48ef('0x289')]('md5')[_0x48ef('0x28b')](_0x3e53bc['chargeBoxIdentity']+'\x7e'+_0x3e53bc[_0x48ef('0x73')]+'\x7e'+_0x3e53bc['timestamp'])['digest']('hex');_0x3e53bc[_0x48ef('0x138')]=_0x3e53bc[_0x48ef('0x4f')]['getID']();_0x3e53bc[_0x48ef('0x291')]=_0x3e53bc[_0x48ef('0xc6')];_0x3e53bc['chargeBoxID']=_0x3e53bc['chargeBoxIdentity'];}return MDBStartTransaction[_0x48ef('0x28f')]({'\x5f\x69\x64':_0x3e53bc['id']},_0x3e53bc,{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]})[_0x48ef('0x64')](_0x285e7f=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x3e53bc[_0x48ef('0x90')]});});}[_0x48ef('0xd2')](_0xbc52e9){var _0x1eb7a2=new MDBStopTransaction(_0xbc52e9);_0x1eb7a2[_0x48ef('0x288')]=crypto[_0x48ef('0x289')](_0x48ef('0x28a'))[_0x48ef('0x28b')](_0xbc52e9[_0x48ef('0x90')]+'\x7e'+_0xbc52e9['connectorId']+'\x7e'+_0xbc52e9['timestamp'])[_0x48ef('0x28c')]('hex');_0x1eb7a2[_0x48ef('0x285')]=_0xbc52e9['chargeBoxIdentity'];if(_0xbc52e9[_0x48ef('0xc6')]){_0x1eb7a2[_0x48ef('0x291')]=_0xbc52e9[_0x48ef('0xc6')];}if(_0xbc52e9[_0x48ef('0xc6')]){_0x1eb7a2[_0x48ef('0x138')]=_0xbc52e9['user'][_0x48ef('0x79')]();}return _0x1eb7a2[_0x48ef('0xa2')]()[_0x48ef('0x64')](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0xbc52e9[_0x48ef('0x90')]});});}[_0x48ef('0xb4')](_0x34b3bf){return Promise['all'](_0x34b3bf[_0x48ef('0xb5')]['map'](_0x224a3a=>{var _0x2fcf14=new MDBMeterValue(_0x224a3a);var _0x2321a9=JSON['stringify'](_0x224a3a['attribute']);_0x2fcf14[_0x48ef('0x288')]=crypto['createHash']('md5')['update'](_0x224a3a[_0x48ef('0x90')]+'\x7e'+_0x224a3a[_0x48ef('0x73')]+'\x7e'+_0x224a3a[_0x48ef('0xb7')]+'\x7e'+_0x224a3a[_0x48ef('0xad')]+'\x7e'+_0x2321a9)['digest'](_0x48ef('0x28d'));_0x2fcf14[_0x48ef('0x285')]=_0x34b3bf[_0x48ef('0x90')];return _0x2fcf14['save']()[_0x48ef('0x64')](()=>{_centralRestServer[_0x48ef('0x1b5')]({'\x69\x64':_0x34b3bf[_0x48ef('0x90')]});});}));}[_0x48ef('0xe5')](_0x2dc93b){return MDBStartTransaction[_0x48ef('0x292')]({'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0x2dc93b})['populate'](_0x48ef('0x138'))[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x4079b0=>{var _0x304ac5={};if(_0x4079b0){_0x304ac5[_0x48ef('0xdf')]={};Database[_0x48ef('0x293')](_0x4079b0,_0x304ac5[_0x48ef('0xdf')]);}return _0x304ac5;})[_0x48ef('0x64')](_0x2a4f4b=>{return MDBStopTransaction[_0x48ef('0x292')]({'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0x2a4f4b[_0x48ef('0xdf')][_0x48ef('0x76')]})[_0x48ef('0x294')](_0x48ef('0x138'))[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x1b0831=>{if(_0x1b0831){_0x2a4f4b['stop']={};Database['updateStopTransaction'](_0x1b0831,_0x2a4f4b[_0x48ef('0xdd')]);}return _0x2a4f4b;});});}['getTransactions'](_0x3f7504,_0x100ebd,_0x312307,_0x3bed1b){var _0x4ef24b={};if(_0x3f7504){_0x4ef24b[_0x48ef('0x285')]=_0x3f7504;}if(_0x100ebd){_0x4ef24b['connectorId']=parseInt(_0x100ebd);}if(_0x312307||_0x3bed1b){_0x4ef24b[_0x48ef('0xb7')]={};}if(_0x312307){_0x4ef24b[_0x48ef('0xb7')][_0x48ef('0x27e')]=new Date(_0x312307);}if(_0x3bed1b){_0x4ef24b[_0x48ef('0xb7')][_0x48ef('0x286')]=new Date(_0x3bed1b);}return MDBStartTransaction[_0x48ef('0x27f')](_0x4ef24b)['populate'](_0x48ef('0x138'))[_0x48ef('0x280')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x34015e=>{var _0xeb5f68=[];_0x34015e[_0x48ef('0xee')](_0x59e00f=>{var _0x42c616={};_0x42c616[_0x48ef('0xdf')]={};Database[_0x48ef('0x293')](_0x59e00f,_0x42c616[_0x48ef('0xdf')]);_0xeb5f68[_0x48ef('0xf7')](_0x42c616);});return _0xeb5f68;})[_0x48ef('0x64')](_0x2c805=>{return Promise[_0x48ef('0x12a')](_0x2c805[_0x48ef('0x12b')](_0x3e65fb=>{return MDBStopTransaction[_0x48ef('0x292')]({'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0x3e65fb[_0x48ef('0xdf')][_0x48ef('0x76')]})[_0x48ef('0x294')](_0x48ef('0x138'))['exec']()[_0x48ef('0x64')](_0x20b42a=>{if(_0x20b42a){_0x3e65fb[_0x48ef('0xdd')]={};Database[_0x48ef('0x295')](_0x20b42a,_0x3e65fb['stop']);}return _0x3e65fb;});}));});}[_0x48ef('0xdb')](_0x2b8c20,_0x3055a){var _0x46565f={};if(_0x2b8c20){_0x46565f[_0x48ef('0x285')]=_0x2b8c20;}if(_0x3055a){_0x46565f[_0x48ef('0x73')]=parseInt(_0x3055a);}return MDBStartTransaction['findOne'](_0x46565f)[_0x48ef('0x294')]('userID')['sort']({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x2880a0=>{var _0x11a02d=null;if(_0x2880a0){_0x11a02d={};_0x11a02d[_0x48ef('0xdf')]={};Database[_0x48ef('0x293')](_0x2880a0,_0x11a02d[_0x48ef('0xdf')]);}return _0x11a02d;})[_0x48ef('0x64')](_0x226104=>{if(_0x226104){return MDBStopTransaction[_0x48ef('0x292')]({'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0x226104[_0x48ef('0xdf')][_0x48ef('0x76')]})[_0x48ef('0x64')](_0x5a3389=>{if(_0x5a3389){_0x226104[_0x48ef('0xdd')]={};Database[_0x48ef('0x295')](_0x5a3389,_0x226104[_0x48ef('0xdd')]);}return _0x226104;});}else{return _0x226104;}});}[_0x48ef('0xa4')](_0x4be532){return MDBChargingStation['findOneAndUpdate']({'\x5f\x69\x64':_0x4be532[_0x48ef('0x1f')]()},_0x4be532[_0x48ef('0xa1')](),{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]})[_0x48ef('0x64')](_0x439ac9=>{if(!_0x4be532[_0x48ef('0x79')]()){_centralRestServer[_0x48ef('0x1b8')](_0x439ac9);}else{_centralRestServer['notifyChargingStationUpdated'](_0x439ac9);}});}['deleteChargingStation'](_0x5e30b3){return MDBChargingStation[_0x48ef('0x296')]({'\x5f\x69\x64':_0x5e30b3})[_0x48ef('0x64')](_0x441613=>{_centralRestServer['notifyChargingStationDeleted']({'\x69\x64':_0x5e30b3});});}[_0x48ef('0x227')](_0x31a31f,_0x50e152){if(!_0x50e152||isNaN(_0x50e152)){_0x50e152=0x64;}let _0x32c826={};if(_0x31a31f){_0x32c826[_0x48ef('0x297')]=[{'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x31a31f+'\x2e\x2a'}}];}return MDBChargingStation[_0x48ef('0x27f')](_0x32c826)[_0x48ef('0x280')]({'\x5f\x69\x64':0x1})['exec']()['then'](_0x13b2e6=>{var _0x4c1475=[];_0x13b2e6['forEach'](_0x2ab7fd=>{_0x4c1475[_0x48ef('0xf7')](new ChargingStation(_0x2ab7fd));});return _0x4c1475;});}[_0x48ef('0x42')](_0x32ccff){return MDBChargingStation['findById']({'\x5f\x69\x64':_0x32ccff})[_0x48ef('0x64')](_0x1169da=>{var _0x595db3=null;if(_0x1169da){_0x595db3=new ChargingStation(_0x1169da);}return _0x595db3;});}[_0x48ef('0x146')](_0x31660f,_0x360516){if(!_0x360516||isNaN(_0x360516)){_0x360516=0x64;}let _0x5086c0={};if(_0x31660f){_0x5086c0[_0x48ef('0x297')]=[{'\x6e\x61\x6d\x65':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x31660f+'\x2e\x2a'}},{'\x66\x69\x72\x73\x74\x4e\x61\x6d\x65':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x31660f+'\x2e\x2a'}},{'\x65\x6d\x61\x69\x6c':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x31660f+'\x2e\x2a'}},{'\x72\x6f\x6c\x65':{'\x24\x72\x65\x67\x65\x78':'\x2e\x2a'+_0x31660f+'\x2e\x2a'}}];}return MDBTag[_0x48ef('0x27f')]({})['exec']()[_0x48ef('0x64')](_0x411cb2=>{return MDBUser[_0x48ef('0x27f')](_0x5086c0)[_0x48ef('0x280')]({'\x73\x74\x61\x74\x75\x73':-0x1,'\x6e\x61\x6d\x65':0x1,'\x66\x69\x72\x73\x74\x4e\x61\x6d\x65':0x1})[_0x48ef('0x281')](_0x360516)[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x37d423=>{var _0x511edb=[];_0x37d423[_0x48ef('0xee')](_0x3bb8bf=>{var _0x11ff2c=new User(_0x3bb8bf);var _0x2cb6a1=_0x411cb2[_0x48ef('0x298')](_0x505c10=>{return _0x505c10['userID'][_0x48ef('0x299')](_0x3bb8bf[_0x48ef('0x288')]);})[_0x48ef('0x12b')](_0x4fb643=>{return _0x4fb643[_0x48ef('0x288')];});_0x11ff2c['setTagIDs'](_0x2cb6a1);_0x511edb[_0x48ef('0xf7')](_0x11ff2c);});return _0x511edb;});});}[_0x48ef('0x124')](_0x571c34){if(!_0x571c34[_0x48ef('0x79')]()&&!_0x571c34['getEMail']()){return Promise['reject'](new Error(_0x48ef('0x29a')));}else{var _0x4ec145={};if(_0x571c34[_0x48ef('0x79')]()){_0x4ec145['\x5fid']=_0x571c34[_0x48ef('0x79')]();}else{_0x4ec145[_0x48ef('0x62')]=_0x571c34['getEMail']();}return MDBUser[_0x48ef('0x28f')](_0x4ec145,_0x571c34['getModel'](),{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]})['then'](_0x74ae6b=>{if(!_0x571c34[_0x48ef('0x79')]()){_centralRestServer[_0x48ef('0x1b0')](_0x74ae6b);}else{_centralRestServer[_0x48ef('0x1ad')](_0x74ae6b);}return MDBTag['remove']({'\x75\x73\x65\x72\x49\x44':_0x74ae6b[_0x48ef('0x288')]})[_0x48ef('0x64')](()=>{_0x571c34[_0x48ef('0x10d')]()[_0x48ef('0xee')](_0xfd1751=>{return MDBTag[_0x48ef('0x28f')]({'\x5f\x69\x64':_0xfd1751},{'\x5f\x69\x64':_0xfd1751,'\x75\x73\x65\x72\x49\x44':_0x74ae6b['\x5fid']},{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]})['then'](_0x3398ee=>{});});});});}}[_0x48ef('0x230')](_0x8088d2){if(!this[_0x48ef('0x29b')](_0x8088d2)){return Promise[_0x48ef('0x94')]();}return MDBUser[_0x48ef('0x283')](_0x8088d2)[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x1c2ae3=>{return this[_0x48ef('0x29c')](_0x1c2ae3);});}['getUserByEmailPassword'](_0x380e61,_0x12655c){return MDBUser[_0x48ef('0x292')]({'\x65\x6d\x61\x69\x6c':_0x380e61,'\x70\x61\x73\x73\x77\x6f\x72\x64':_0x12655c})[_0x48ef('0x64')](_0x3ccc00=>{return this[_0x48ef('0x29c')](_0x3ccc00);});}[_0x48ef('0x147')](_0x12236f){return MDBUser[_0x48ef('0x292')]({'\x65\x6d\x61\x69\x6c':_0x12236f})[_0x48ef('0x64')](_0x5e0f3f=>{return this[_0x48ef('0x29c')](_0x5e0f3f);});}[_0x48ef('0x234')](_0x483d7b){return MDBTag[_0x48ef('0x283')](_0x483d7b)['populate'](_0x48ef('0x138'))[_0x48ef('0x1cc')]()[_0x48ef('0x64')](_0x395bc1=>{var _0x16091b=null;if(_0x395bc1&&_0x395bc1[_0x48ef('0x138')]){_0x16091b=new User(_0x395bc1[_0x48ef('0x138')]);}return _0x16091b;});}['\x5fcreateUser'](_0x9dae0c){var _0x19f8bb=null;if(_0x9dae0c){_0x19f8bb=new User(_0x9dae0c);return MDBTag[_0x48ef('0x27f')]({'\x75\x73\x65\x72\x49\x44':_0x9dae0c['id']})[_0x48ef('0x1cc')]()['then'](_0x14f2fc=>{if(_0x14f2fc){var _0x25060f=_0x14f2fc[_0x48ef('0x12b')](_0x3753b1=>{return _0x3753b1['id'];});_0x19f8bb[_0x48ef('0x29d')](_0x25060f);}return _0x19f8bb;});}else{return _0x19f8bb;}}[_0x48ef('0x251')](_0x29ea04){return MDBUser[_0x48ef('0x296')]({'\x5f\x69\x64':_0x29ea04})[_0x48ef('0x64')](_0x37fb66=>{_centralRestServer['notifyUserDeleted']({'\x69\x64':_0x29ea04});});}[_0x48ef('0x29b')](_0x9565ae){if(/^[0-9a-fA-F]{24}$/['test'](_0x9565ae)){return!![];}return![];}}module[_0x48ef('0xf')]=MongoDBStorage;class Storage{constructor(_0x50d64e){if(new.target===Storage){throw new TypeError('Cannot\x20construct\x20Storage\x20instances\x20directly');}}['start'](){}[_0x48ef('0x261')](_0x4e10a1){}[_0x48ef('0x221')](_0x20cccb){}[_0x48ef('0x290')](_0x200ee8){}[_0x48ef('0x146')](){}['getUserByTagId'](_0xbff9fb){}[_0x48ef('0x147')](_0x351364){}[_0x48ef('0x1d2')](_0x18439a,_0x2e8480){}[_0x48ef('0x230')](_0x16c1a9){}['saveUser'](_0x758ae1){}[_0x48ef('0x251')](_0x41d632){}[_0x48ef('0x227')](){}[_0x48ef('0x42')](_0x461554){}[_0x48ef('0xa4')](_0x1b5a8){}['saveBootNotification'](_0x4b08cb){}[_0x48ef('0xb2')](_0x2480e3){}[_0x48ef('0xd7')](_0x1a3899,_0x18732b){}[_0x48ef('0xd8')](_0x45dce5,_0x2599c3){}[_0x48ef('0xb4')](_0x5b4bdd){}[_0x48ef('0xec')](_0x30673b,_0x179009,_0x2511f9,_0x4c0b7d){}[_0x48ef('0xde')](_0x2c4a80,_0x8f519d,_0x5cb6bd,_0x48a1fa){}[_0x48ef('0xdb')](_0x2b6c30,_0x3e4d16){}[_0x48ef('0xda')](_0x5b9eee,_0x3457a5,_0x379b41,_0x1f6026){}[_0x48ef('0xe5')](_0x3692c0){}[_0x48ef('0xc1')](_0x16b33f){}[_0x48ef('0xd2')](_0x854206){}[_0x48ef('0xc2')](_0x1a3329){}['saveDiagnosticsStatusNotification'](_0x1ac654){}[_0x48ef('0xc4')](_0x3922a9){}[_0x48ef('0xc5')](_0x256eb2){}[_0x48ef('0xc')](_0x28bfb0){}[_0x48ef('0xd9')](_0x43c881,_0x13a25f){}[_0x48ef('0xbd')](_0x12dd26){}}module[_0x48ef('0xf')]=Storage;var fs=require('fs');var path=require(_0x48ef('0x45'));var _authorisation;module[_0x48ef('0xf')]={'\x67\x65\x74\x41\x75\x74\x68\x6f\x72\x69\x7a\x61\x74\x69\x6f\x6e\x73'(){if(!_authorisation){_authorisation=JSON[_0x48ef('0x29e')](fs[_0x48ef('0x189')](path[_0x48ef('0x14')](__dirname,'\x2e\x2e\x2fauthorisation\x2ejson'),'UTF\x2d8'));}return _authorisation;},'\x67\x65\x74\x41\x75\x74\x68\x6f\x72\x69\x7a\x61\x74\x69\x6f\x6e\x46\x72\x6f\x6d\x52\x6f\x6c\x65\x49\x44'(_0x2665ed){let _0xe36593=this[_0x48ef('0x29f')]()[_0x48ef('0x298')](_0x299065=>{return _0x299065['id']===_0x2665ed;});return _0xe36593[_0x48ef('0xa9')]>0x0?_0xe36593[0x0]:[];}};var fs=require('fs');var path=require(_0x48ef('0x45'));var _config;module[_0x48ef('0xf')]={'\x67\x65\x74\x43\x6f\x6e\x66\x69\x67'(){if(!_config){_config=JSON['parse'](fs[_0x48ef('0x189')](path[_0x48ef('0x14')](__dirname,_0x48ef('0x2a0')),_0x48ef('0x18e')));}return _config;},'\x67\x65\x74\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x73\x43\x6f\x6e\x66\x69\x67'(){return this[_0x48ef('0x2a1')]()[_0x48ef('0x2a2')];},'\x67\x65\x74\x41\x75\x74\x68\x6f\x72\x69\x7a\x61\x74\x69\x6f\x6e\x43\x6f\x6e\x66\x69\x67'(){return this['getConfig']()['Authorization'];},'\x67\x65\x74\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x52\x65\x73\x74\x53\x65\x72\x76\x69\x63\x65\x43\x6f\x6e\x66\x69\x67'(){return this['getConfig']()[_0x48ef('0x2a3')];},'\x67\x65\x74\x43\x65\x6e\x74\x72\x61\x6c\x53\x79\x73\x74\x65\x6d\x46\x72\x6f\x6e\x74\x45\x6e\x64\x43\x6f\x6e\x66\x69\x67'(){return this[_0x48ef('0x2a1')]()[_0x48ef('0x2a4')];},'\x67\x65\x74\x45\x6d\x61\x69\x6c\x43\x6f\x6e\x66\x69\x67'(){return this[_0x48ef('0x2a1')]()[_0x48ef('0x22e')];},'\x67\x65\x74\x41\x64\x76\x61\x6e\x63\x65\x64\x43\x6f\x6e\x66\x69\x67'(){return this[_0x48ef('0x2a1')]()['Advanced'];},'\x67\x65\x74\x4c\x6f\x63\x61\x6c\x65\x73\x43\x6f\x6e\x66\x69\x67'(){return this['getConfig']()[_0x48ef('0x2a5')];},'\x67\x65\x74\x53\x74\x6f\x72\x61\x67\x65\x43\x6f\x6e\x66\x69\x67'(){return this[_0x48ef('0x2a1')]()['Storage'];},'\x67\x65\x74\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x43\x6f\x6e\x66\x69\x67'(){return this[_0x48ef('0x2a1')]()[_0x48ef('0x77')];}};var fs=require('fs');var path=require(_0x48ef('0x45'));var Users=require(_0x48ef('0x2a6'));module[_0x48ef('0xf')]={'\x75\x70\x64\x61\x74\x65\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e\x4f\x62\x6a\x65\x63\x74'(_0x4830f4,_0x492ff6){_0x492ff6['id']=_0x4830f4['id'];_0x492ff6['chargeBoxIdentity']=_0x4830f4[_0x48ef('0x90')];_0x492ff6[_0x48ef('0x7f')]=_0x4830f4['chargePointSerialNumber'];_0x492ff6[_0x48ef('0x2a7')]=_0x4830f4['chargePointModel'];_0x492ff6['chargeBoxSerialNumber']=_0x4830f4['chargeBoxSerialNumber'];_0x492ff6['chargePointVendor']=_0x4830f4[_0x48ef('0x7a')];_0x492ff6[_0x48ef('0x2a8')]=_0x4830f4[_0x48ef('0x2a8')];_0x492ff6[_0x48ef('0x87')]=_0x4830f4[_0x48ef('0x87')];_0x492ff6[_0x48ef('0x88')]=_0x4830f4[_0x48ef('0x88')];_0x492ff6['firmwareVersion']=_0x4830f4[_0x48ef('0x83')];_0x492ff6[_0x48ef('0x8b')]=_0x4830f4[_0x48ef('0x8b')];_0x492ff6[_0x48ef('0x8e')]=_0x4830f4['endpoint'];_0x492ff6['ocppVersion']=_0x4830f4['ocppVersion'];_0x492ff6[_0x48ef('0x96')]=_0x4830f4[_0x48ef('0x96')];_0x492ff6[_0x48ef('0xa0')]=_0x4830f4['lastReboot'];_0x492ff6[_0x48ef('0x9d')]=_0x4830f4[_0x48ef('0x9d')]||0x0;_0x492ff6['connectors']=_0x4830f4['connectors'];if(!_0x492ff6[_0x48ef('0x99')]){_0x492ff6[_0x48ef('0x99')]=[];}},'\x75\x70\x64\x61\x74\x65\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e'(_0x28ca72,_0x38c122){_0x38c122[_0x48ef('0xb7')]=_0x28ca72[_0x48ef('0xb7')];_0x38c122[_0x48ef('0xa8')]=_0x28ca72[_0x48ef('0xa8')];},'\x75\x70\x64\x61\x74\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e'(_0x233d00,_0x359028){_0x359028['connectorId']=_0x233d00[_0x48ef('0x73')];_0x359028[_0x48ef('0xb7')]=_0x233d00['timestamp'];_0x359028[_0x48ef('0xa6')]=_0x233d00['status'];_0x359028['errorCode']=_0x233d00['errorCode'];_0x359028[_0x48ef('0x6')]=_0x233d00[_0x48ef('0x6')];_0x359028[_0x48ef('0x2a9')]=_0x233d00[_0x48ef('0x2a9')];_0x359028[_0x48ef('0x2aa')]=_0x233d00['vendorErrorCode'];},'\x75\x70\x64\x61\x74\x65\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65'(_0x1e4312,_0x471a34){_0x471a34[_0x48ef('0x73')]=_0x1e4312['connectorId'];_0x471a34[_0x48ef('0x76')]=_0x1e4312[_0x48ef('0x76')];_0x471a34[_0x48ef('0xb7')]=_0x1e4312['timestamp'];_0x471a34[_0x48ef('0xad')]=_0x1e4312[_0x48ef('0xad')];_0x471a34[_0x48ef('0xef')]=_0x1e4312[_0x48ef('0xef')];},'\x75\x70\x64\x61\x74\x65\x55\x73\x65\x72'(_0x340fac,_0x5ca13f){_0x5ca13f['id']=_0x340fac['id'];_0x5ca13f[_0x48ef('0x101')]=_0x340fac[_0x48ef('0x101')];_0x5ca13f[_0x48ef('0x10b')]=_0x340fac[_0x48ef('0x10b')];_0x5ca13f[_0x48ef('0x110')]=_0x340fac[_0x48ef('0x110')];_0x5ca13f[_0x48ef('0x106')]=_0x340fac['locale'];_0x5ca13f['email']=_0x340fac[_0x48ef('0x62')];_0x5ca13f['phone']=_0x340fac[_0x48ef('0x112')];_0x5ca13f[_0x48ef('0x2ab')]=_0x340fac['mobile'];_0x5ca13f[_0x48ef('0x115')]=_0x340fac[_0x48ef('0x115')];_0x5ca13f[_0x48ef('0x118')]=_0x340fac['costCenter'];_0x5ca13f['status']=_0x340fac['status'];_0x5ca13f['createdBy']=_0x340fac[_0x48ef('0x11c')];_0x5ca13f['createdOn']=_0x340fac[_0x48ef('0x11e')];_0x5ca13f['lastChangedBy']=_0x340fac[_0x48ef('0x11f')];_0x5ca13f['lastChangedOn']=_0x340fac[_0x48ef('0x122')];_0x5ca13f[_0x48ef('0x10e')]=_0x340fac[_0x48ef('0x10e')];if(!_0x5ca13f[_0x48ef('0x11c')]){_0x5ca13f['createdBy']=_0x48ef('0x18');_0x5ca13f[_0x48ef('0x11e')]=new Date();}if(_0x340fac['password']&&_0x340fac[_0x48ef('0x50')]['length']>0x0){_0x5ca13f['password']=_0x340fac[_0x48ef('0x50')];}if(_0x340fac[_0x48ef('0x108')]&&_0x340fac['role'][_0x48ef('0xa9')]>0x0){_0x5ca13f[_0x48ef('0x108')]=_0x340fac['role'];}if(!_0x5ca13f['role']){_0x5ca13f[_0x48ef('0x108')]=Users[_0x48ef('0x2ac')];}},'\x75\x70\x64\x61\x74\x65\x4c\x6f\x67\x67\x69\x6e\x67\x4f\x62\x6a\x65\x63\x74'(_0x78bf4e,_0x2fd958){_0x2fd958[_0x48ef('0x2ad')]=_0x78bf4e['level'];_0x2fd958[_0x48ef('0x2ae')]=_0x78bf4e[_0x48ef('0x2ae')];_0x2fd958[_0x48ef('0x2af')]=_0x78bf4e[_0x48ef('0x2af')];_0x2fd958[_0x48ef('0x1cf')]=_0x78bf4e['method'];_0x2fd958[_0x48ef('0xb7')]=_0x78bf4e[_0x48ef('0xb7')];_0x2fd958[_0x48ef('0x1be')]=_0x78bf4e[_0x48ef('0x1be')];_0x2fd958['message']=_0x78bf4e[_0x48ef('0x21')];_0x2fd958[_0x48ef('0x2b0')]=_0x78bf4e['userFullName'];_0x2fd958['detailedMessages']=_0x78bf4e['detailedMessages'];},'\x75\x70\x64\x61\x74\x65\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'(_0x4e3e93,_0x824548){_0x824548['id']=_0x4e3e93['id'];_0x824548[_0x48ef('0x285')]=_0x4e3e93[_0x48ef('0x285')];if(_0x4e3e93[_0x48ef('0x138')]&&_0x4e3e93['userID'][_0x48ef('0x101')]){_0x824548['userID']={};_0x824548[_0x48ef('0x138')]['id']=_0x4e3e93[_0x48ef('0x138')]['id'];_0x824548['userID'][_0x48ef('0x101')]=_0x4e3e93[_0x48ef('0x138')][_0x48ef('0x101')];_0x824548[_0x48ef('0x138')][_0x48ef('0x10b')]=_0x4e3e93['userID'][_0x48ef('0x10b')];_0x824548[_0x48ef('0x138')]['locale']=_0x4e3e93[_0x48ef('0x138')][_0x48ef('0x106')];_0x824548[_0x48ef('0x138')][_0x48ef('0x62')]=_0x4e3e93[_0x48ef('0x138')]['email'];}else{_0x824548[_0x48ef('0x138')]=_0x4e3e93[_0x48ef('0x138')];}_0x824548[_0x48ef('0x73')]=_0x4e3e93[_0x48ef('0x73')];_0x824548[_0x48ef('0xb7')]=_0x4e3e93[_0x48ef('0xb7')];_0x824548['tagID']=_0x4e3e93[_0x48ef('0x291')];_0x824548[_0x48ef('0x76')]=_0x4e3e93[_0x48ef('0x76')];_0x824548[_0x48ef('0xf4')]=_0x4e3e93[_0x48ef('0xf4')];_0x824548[_0x48ef('0x136')]=_0x4e3e93[_0x48ef('0x136')];_0x824548[_0x48ef('0x142')]=_0x4e3e93['notifEndOfChargeSent'];},'\x75\x70\x64\x61\x74\x65\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'(_0xedf8c4,_0x1fda04){_0x1fda04['id']=_0xedf8c4['id'];_0x1fda04[_0x48ef('0x285')]=_0xedf8c4[_0x48ef('0x285')];if(_0xedf8c4['userID']&&_0xedf8c4['userID']['name']){_0x1fda04['userID']={};_0x1fda04[_0x48ef('0x138')]['id']=_0xedf8c4[_0x48ef('0x138')]['id'];_0x1fda04['userID'][_0x48ef('0x101')]=_0xedf8c4[_0x48ef('0x138')][_0x48ef('0x101')];_0x1fda04['userID']['firstName']=_0xedf8c4[_0x48ef('0x138')][_0x48ef('0x10b')];_0x1fda04[_0x48ef('0x138')]['locale']=_0xedf8c4[_0x48ef('0x138')][_0x48ef('0x106')];_0x1fda04[_0x48ef('0x138')]['email']=_0xedf8c4['userID']['email'];}else{_0x1fda04[_0x48ef('0x138')]=_0xedf8c4['userID'];}_0x1fda04[_0x48ef('0x76')]=_0xedf8c4['transactionId'];_0x1fda04['timestamp']=_0xedf8c4[_0x48ef('0xb7')];_0x1fda04[_0x48ef('0x291')]=_0xedf8c4['tagID'];_0x1fda04[_0x48ef('0x73')]=_0xedf8c4[_0x48ef('0x73')];_0x1fda04[_0x48ef('0x2b1')]=_0xedf8c4[_0x48ef('0x2b1')];_0x1fda04['transactionData']=_0xedf8c4['transactionData'];}};class Logging{static[_0x48ef('0xe2')](_0x22261c){_0x22261c[_0x48ef('0x2ad')]='D';Logging[_0x48ef('0x2b2')](_0x22261c);}static[_0x48ef('0xbb')](_0x49de50){_0x49de50[_0x48ef('0x2ad')]='I';Logging[_0x48ef('0x2b2')](_0x49de50);}static[_0x48ef('0x2b3')](_0x167be3){_0x167be3[_0x48ef('0x2ad')]='W';Logging[_0x48ef('0x2b2')](_0x167be3);}static[_0x48ef('0x17')](_0x1692fb){_0x1692fb['level']='E';Logging['\x5flog'](_0x1692fb);}static[_0x48ef('0x221')](_0x40bd1d,_0x171aa7,_0x4ffd65){return global['storage'][_0x48ef('0x221')](_0x40bd1d,_0x171aa7,_0x4ffd65);}static[_0x48ef('0x2b2')](_0x5183a8){_0x5183a8[_0x48ef('0xb7')]=new Date();if(_0x5183a8[_0x48ef('0x4f')]){_0x5183a8[_0x48ef('0x138')]=_0x5183a8[_0x48ef('0x4f')]['id'];_0x5183a8[_0x48ef('0x2b0')]=_0x5183a8['user'][_0x48ef('0x10b')]+'\x20'+_0x5183a8[_0x48ef('0x4f')]['name'];}if(_0x5183a8['detailedMessages']&&!Array[_0x48ef('0x1a8')](_0x5183a8[_0x48ef('0x2b4')])){_0x5183a8[_0x48ef('0x2b4')]=[_0x5183a8[_0x48ef('0x2b4')]];_0x5183a8[_0x48ef('0x2b4')]=Logging[_0x48ef('0x2b5')](_0x5183a8[_0x48ef('0x2b4')]);}global[_0x48ef('0xa3')][_0x48ef('0x290')](_0x5183a8);}static[_0x48ef('0x17e')](_0x43044c,_0x5614e7,_0x2d1a11,_0x775ce0,_0x5584fa){Logging[_0x48ef('0xe2')]({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x48ef('0x1d'),'\x73\x6f\x75\x72\x63\x65':_0x5614e7,'\x6d\x6f\x64\x75\x6c\x65':_0x43044c,'\x6d\x65\x74\x68\x6f\x64':_0x2d1a11,'\x6d\x65\x73\x73\x61\x67\x65':'\x3e\x3e\x20OCPP\x20Request\x20Received','\x61\x63\x74\x69\x6f\x6e':_0x2d1a11,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':{'\x61\x72\x67\x73':_0x775ce0,'\x68\x65\x61\x64\x65\x72\x73':_0x5584fa}});}static[_0x48ef('0x2e')](_0x142e08,_0x24b05d,_0x3c9b85,_0x1b3ba1){Logging['logDebug']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x24b05d,'\x6d\x6f\x64\x75\x6c\x65':_0x142e08,'\x6d\x65\x74\x68\x6f\x64':_0x3c9b85,'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x2b6'),'\x61\x63\x74\x69\x6f\x6e':_0x3c9b85,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x1b3ba1});}static[_0x48ef('0x32')](_0x3ccfeb,_0x4c9b7d,_0xa56e6f,_0x49e995){Logging['logDebug']({'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':'System','\x73\x6f\x75\x72\x63\x65':_0x4c9b7d,'\x6d\x6f\x64\x75\x6c\x65':_0x3ccfeb,'\x6d\x65\x74\x68\x6f\x64':_0xa56e6f,'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x2b7'),'\x61\x63\x74\x69\x6f\x6e':_0xa56e6f,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':{'\x72\x65\x73\x75\x6c\x74':_0x49e995}});}static[_0x48ef('0x2b5')](_0x2f331f){if(typeof _0x2f331f==='object'){try{return JSON[_0x48ef('0x1d6')](_0x2f331f);}catch(_0x5926d1){Logging[_0x48ef('0x2b3')]({'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':'Logging','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x2b5'),'\x6d\x65\x73\x73\x61\x67\x65':_0x48ef('0x2b8')+_0x5926d1[_0x48ef('0x20')]()+'\x27','\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':parsedDetailedMessage});}}}static[_0x48ef('0x1e6')](_0xaf6f28,_0x4cb099,_0xced703,_0x108668,_0x512af7){Logging['logError']({'\x75\x73\x65\x72\x49\x44':_0xced703[_0x48ef('0x4f')]['id'],'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0xced703[_0x48ef('0x4f')]['firstName']+'\x20'+_0xced703[_0x48ef('0x4f')][_0x48ef('0x101')],'\x73\x6f\x75\x72\x63\x65':_0x48ef('0x18'),'\x6d\x6f\x64\x75\x6c\x65':'RestServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x1e4'),'\x61\x63\x74\x69\x6f\x6e':_0xaf6f28,'\x6d\x65\x73\x73\x61\x67\x65':''+_0x4cb099[_0x48ef('0x20')](),'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':_0x4cb099[_0x48ef('0x36')]});_0x108668[_0x48ef('0xa6')](0x1f4)[_0x48ef('0x1eb')](_0x48ef('0x2b9')+_0x4cb099[_0x48ef('0x20')]()+'\x7d');_0x512af7();}static[_0x48ef('0x1de')](_0x4f8137,_0x181a08,_0x656254,_0x30dd57,_0x45f7ca){Logging[_0x48ef('0x17')]({'\x75\x73\x65\x72\x49\x44':_0x656254[_0x48ef('0x4f')]['id'],'\x75\x73\x65\x72\x46\x75\x6c\x6c\x4e\x61\x6d\x65':_0x656254['user'][_0x48ef('0x10b')]+'\x20'+_0x656254[_0x48ef('0x4f')][_0x48ef('0x101')],'\x73\x6f\x75\x72\x63\x65':'Central\x20Server','\x6d\x6f\x64\x75\x6c\x65':'RestServer','\x6d\x65\x74\x68\x6f\x64':_0x48ef('0x1e4'),'\x61\x63\x74\x69\x6f\x6e':_0x4f8137,'\x6d\x65\x73\x73\x61\x67\x65':_0x181a08,'\x64\x65\x74\x61\x69\x6c\x65\x64\x4d\x65\x73\x73\x61\x67\x65\x73':[{'\x73\x74\x61\x63\x6b':new Error()['stack'],'\x72\x65\x71\x75\x65\x73\x74':_0x656254[_0x48ef('0x1d3')]}]});_0x30dd57[_0x48ef('0xa6')](0x1f4)[_0x48ef('0x1eb')]({'\x6d\x65\x73\x73\x61\x67\x65':_0x181a08});_0x45f7ca();}static[_0x48ef('0x205')](_0x11c204,_0x2ec9e1,_0x51fcb7,_0x1d72ee,_0x3ba2b6){Logging['logActionErrorMessageAndSendResponse'](_0x2ec9e1,'User\x20'+_0x51fcb7[_0x48ef('0x4f')]['firstName']+'\x20'+_0x51fcb7[_0x48ef('0x4f')][_0x48ef('0x101')]+_0x48ef('0x2ba')+_0x51fcb7[_0x48ef('0x4f')][_0x48ef('0x108')]+_0x48ef('0x2bb')+_0x2ec9e1+'\x27\x20on\x20\x27'+_0x11c204+'\x27',_0x51fcb7,_0x1d72ee,_0x3ba2b6);}}module[_0x48ef('0xf')]=Logging;var crypto=require(_0x48ef('0x2bc'));var passwordGenerator=require('password\x2dgenerator');var Logging=require(_0x48ef('0x2bd'));module[_0x48ef('0xf')]={'\x55\x53\x45\x52\x5f\x53\x54\x41\x54\x55\x53\x5f\x50\x45\x4e\x44\x49\x4e\x47':'P','\x55\x53\x45\x52\x5f\x53\x54\x41\x54\x55\x53\x5f\x41\x43\x54\x49\x56\x45':'A','\x55\x53\x45\x52\x5f\x53\x54\x41\x54\x55\x53\x5f\x44\x45\x4c\x45\x54\x45\x44':'D','\x55\x53\x45\x52\x5f\x53\x54\x41\x54\x55\x53\x5f\x49\x4e\x41\x43\x54\x49\x56\x45':'I','\x55\x53\x45\x52\x5f\x53\x54\x41\x54\x55\x53\x5f\x42\x4c\x4f\x43\x4b\x45\x44':'B','\x55\x53\x45\x52\x5f\x52\x4f\x4c\x45\x5f\x42\x41\x53\x49\x43':'B','\x55\x53\x45\x52\x5f\x52\x4f\x4c\x45\x5f\x41\x44\x4d\x49\x4e':'A','\x55\x53\x45\x52\x5f\x52\x4f\x4c\x45\x5f\x44\x45\x4d\x4f':'D','\x50\x57\x44\x5f\x4d\x49\x4e\x5f\x4c\x45\x4e\x47\x54\x48':0xf,'\x50\x57\x44\x5f\x4d\x41\x58\x5f\x4c\x45\x4e\x47\x54\x48':0x14,'\x50\x57\x44\x5f\x55\x50\x50\x45\x52\x43\x41\x53\x45\x5f\x4d\x49\x4e\x5f\x43\x4f\x55\x4e\x54':0x1,'\x50\x57\x44\x5f\x4c\x4f\x57\x45\x52\x43\x41\x53\x45\x5f\x4d\x49\x4e\x5f\x43\x4f\x55\x4e\x54':0x1,'\x50\x57\x44\x5f\x4e\x55\x4d\x42\x45\x52\x5f\x4d\x49\x4e\x5f\x43\x4f\x55\x4e\x54':0x1,'\x50\x57\x44\x5f\x53\x50\x45\x43\x49\x41\x4c\x5f\x4d\x49\x4e\x5f\x43\x4f\x55\x4e\x54':0x1,'\x50\x57\x44\x5f\x55\x50\x50\x45\x52\x43\x41\x53\x45\x5f\x52\x45':/([A-Z])/g,'\x50\x57\x44\x5f\x4c\x4f\x57\x45\x52\x43\x41\x53\x45\x5f\x52\x45':/([a-z])/g,'\x50\x57\x44\x5f\x4e\x55\x4d\x42\x45\x52\x5f\x52\x45':/([\d])/g,'\x50\x57\x44\x5f\x53\x50\x45\x43\x49\x41\x4c\x5f\x43\x48\x41\x52\x5f\x52\x45':/([!#\$%\^&\*\.\?\-])/g,'\x69\x73\x50\x61\x73\x73\x77\x6f\x72\x64\x53\x74\x72\x6f\x6e\x67\x45\x6e\x6f\x75\x67\x68'(_0x371468){var _0x10dfef=_0x371468[_0x48ef('0x2be')](this[_0x48ef('0x2bf')]);var _0x3b53d2=_0x371468[_0x48ef('0x2be')](this[_0x48ef('0x2c0')]);var _0xd244ad=_0x371468[_0x48ef('0x2be')](this[_0x48ef('0x2c1')]);var _0x29dcc3=_0x371468[_0x48ef('0x2be')](this[_0x48ef('0x2c2')]);return _0x371468[_0x48ef('0xa9')]>=this[_0x48ef('0x2c3')]&&_0x10dfef&&_0x10dfef[_0x48ef('0xa9')]>=this['PWD\x5fUPPERCASE\x5fMIN\x5fCOUNT']&&_0x3b53d2&&_0x3b53d2[_0x48ef('0xa9')]>=this['PWD\x5fLOWERCASE\x5fMIN\x5fCOUNT']&&_0xd244ad&&_0xd244ad[_0x48ef('0xa9')]>=this[_0x48ef('0x2c4')]&&_0x29dcc3&&_0x29dcc3['length']>=this['PWD\x5fSPECIAL\x5fMIN\x5fCOUNT'];},'\x67\x65\x6e\x65\x72\x61\x74\x65\x50\x61\x73\x73\x77\x6f\x72\x64'(){var _0x36ed2b='';var _0x1d1809=Math[_0x48ef('0xae')](Math[_0x48ef('0x2c5')]()*(this[_0x48ef('0x2c6')]-this[_0x48ef('0x2c3')]))+this['PWD\x5fMIN\x5fLENGTH'];while(!this['isPasswordStrongEnough'](_0x36ed2b)){_0x36ed2b=passwordGenerator(_0x1d1809,![],/[\w\d!#\$%\^&\*\.\?\-]/);}return _0x36ed2b;},'\x69\x73\x50\x61\x73\x73\x77\x6f\x72\x64\x56\x61\x6c\x69\x64'(_0x13b5ee){return/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!#@:;,<>\/"'\$%\^&\*\.\?\-_\+\=\(\)])(?=.{8,})/[_0x48ef('0x2c7')](_0x13b5ee);},'\x68\x61\x73\x68\x50\x61\x73\x73\x77\x6f\x72\x64'(_0x104d62){return crypto[_0x48ef('0x289')](_0x48ef('0x2c8'))[_0x48ef('0x28b')](_0x104d62)[_0x48ef('0x28c')](_0x48ef('0x28d'));},'\x69\x73\x55\x73\x65\x72\x4e\x61\x6d\x65\x56\x61\x6c\x69\x64'(_0x54ab9a){return/^[a-zA-Z\u00E0-\u00FC- ]*$/[_0x48ef('0x2c7')](_0x54ab9a);},'\x69\x73\x55\x73\x65\x72\x45\x6d\x61\x69\x6c\x56\x61\x6c\x69\x64'(_0x5c80a2){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/[_0x48ef('0x2c7')](_0x5c80a2);},'\x69\x73\x54\x61\x67\x49\x44\x56\x61\x6c\x69\x64'(_0x3223b1){return/^[A-Z0-9,]*$/[_0x48ef('0x2c7')](_0x3223b1);},'\x69\x73\x50\x68\x6f\x6e\x65\x56\x61\x6c\x69\x64'(_0xa3290c){return/^\+?([0-9] ?){9,14}[0-9]$/['test'](_0xa3290c);},'\x69\x73\x49\x4e\x75\x6d\x62\x65\x72\x56\x61\x6c\x69\x64'(_0x3cbe76){return/^[A-Z]{1}[0-9]{6}$/[_0x48ef('0x2c7')](_0x3cbe76);},'\x63\x68\x65\x63\x6b\x49\x66\x55\x73\x65\x72\x56\x61\x6c\x69\x64'(_0x353ccc,_0x5161ee,_0x3c97c7){if(_0x353ccc[_0x48ef('0x1cf')]===_0x48ef('0x2c9')&&!_0x353ccc['body']['id']){Logging[_0x48ef('0x1de')](_0x48ef('0x2ca'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(!_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x101')]){Logging[_0x48ef('0x1de')]('The\x20user\x27s\x20last\x20name\x20is\x20mandatory',_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(!_0x353ccc['body'][_0x48ef('0x62')]){Logging[_0x48ef('0x1de')](_0x48ef('0x2cb'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(!_0x353ccc[_0x48ef('0x1d3')]['status']){Logging[_0x48ef('0x1de')](_0x48ef('0x2cc'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(_0x353ccc[_0x48ef('0x1d3')]['password']&&!this[_0x48ef('0x2cd')](_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x50')])){Logging[_0x48ef('0x1de')]('The\x20user\x27s\x20password\x20'+_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x50')]+_0x48ef('0x2ce'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(!this[_0x48ef('0x2cf')](_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x101')])){Logging[_0x48ef('0x1de')](_0x48ef('0x2d0')+_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x101')]+_0x48ef('0x2ce'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(!this[_0x48ef('0x2cf')](_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x10b')])){Logging[_0x48ef('0x1de')](_0x48ef('0x2d1')+_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x10b')]+_0x48ef('0x2ce'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(!this[_0x48ef('0x2d2')](_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x62')])){Logging['logActionErrorMessageAndSendResponse'](_0x48ef('0x2d3')+_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x62')]+'\x20is\x20not\x20valid',_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(_0x353ccc[_0x48ef('0x1d3')]['phone']&&!this['isPhoneValid'](_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x112')])){Logging['logActionErrorMessageAndSendResponse']('The\x20user\x27s\x20phone\x20'+_0x353ccc['body'][_0x48ef('0x112')]+_0x48ef('0x2ce'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x2ab')]&&!this[_0x48ef('0x2d4')](_0x353ccc['body'][_0x48ef('0x2ab')])){Logging['logActionErrorMessageAndSendResponse'](_0x48ef('0x2d5')+_0x353ccc['body'][_0x48ef('0x2ab')]+'\x20is\x20not\x20valid',_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x115')]&&!this[_0x48ef('0x2d6')](_0x353ccc[_0x48ef('0x1d3')]['iNumber'])){Logging[_0x48ef('0x1de')](_0x48ef('0x2d7')+_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x115')]+'\x20is\x20not\x20valid',_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x10e')]){if(!this['isTagIDValid'](_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x10e')])){Logging[_0x48ef('0x1de')](_0x48ef('0x2d8')+_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x10e')]+_0x48ef('0x2d9'),_0x353ccc,_0x5161ee,_0x3c97c7);return![];}if(!Array[_0x48ef('0x1a8')](_0x353ccc['body'][_0x48ef('0x10e')])){_0x353ccc['body']['tagIDs']=_0x353ccc[_0x48ef('0x1d3')][_0x48ef('0x10e')][_0x48ef('0x2da')]('\x2c');}}else{_0x353ccc[_0x48ef('0x1d3')]['tagIDs']=[];}return!![];}};var fs=require('fs');var path=require('path');var Users=require(_0x48ef('0x2a6'));var Configuration=require(_0x48ef('0x2db'));let _centralSystemFrontEndConfig=Configuration[_0x48ef('0x2dc')]();module['exports']={'\x67\x65\x74\x55\x73\x65\x72\x73'(){return JSON[_0x48ef('0x29e')](fs[_0x48ef('0x189')](path['join'](__dirname,_0x48ef('0x2dd')),_0x48ef('0x18e')));},'\x73\x61\x76\x65\x55\x73\x65\x72\x73'(_0x50cbb0){fs['writeFileSync'](path[_0x48ef('0x14')](__dirname,'\x2e\x2e\x2fusers\x2dsav\x2d'+new Date()['getMilliseconds']()+_0x48ef('0x2de')),JSON[_0x48ef('0x1d6')](_0x50cbb0,null,'\x20'),_0x48ef('0x18e'));},'\x67\x65\x74\x52\x61\x6e\x64\x6f\x6d\x49\x6e\x74'(){return Math[_0x48ef('0xae')](Math['random']()*0x3b9aca00+0x1);},'\x62\x75\x69\x6c\x64\x45\x76\x73\x65\x55\x52\x4c'(){return _centralSystemFrontEndConfig[_0x48ef('0x188')]+'\x3a\x2f\x2f'+_centralSystemFrontEndConfig[_0x48ef('0x4b')]+'\x3a'+_centralSystemFrontEndConfig[_0x48ef('0x4c')];},'\x62\x75\x69\x6c\x64\x45\x76\x73\x65\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x55\x52\x4c'(_0x86fc26,_0x52c8b4,_0x4df42a){let _0x1a796d=this['buildEvseURL']();return _0x1a796d+'\x2f\x23\x2fpages\x2fchargers\x2fcharger\x2f'+_0x86fc26[_0x48ef('0x1f')]()+_0x48ef('0x2df')+_0x52c8b4+_0x48ef('0x2e0')+_0x4df42a;}};