var _0x23f4=['./model/MDBStopTransaction','../../model/User','../../model/ChargingStation','../../utils/Utils','../../utils/Logging','moment','dbConfig','Promise','connect','host','port','schema','toString','logInfo','Central Server','MongoDBStorage','then','getConfiguration','every','configuration','key','value','getLogs','exec','limit','sort','updateLoggingObject','push','find','updateConfiguration','getStatusNotifications','chargeBoxID','connectorId','forEach','updateStatusNotification','getLastStatusNotification','getMeterValues','$gte','timestamp','$lte','getLastMeterValuesFromTransaction','transactionId','isBefore','isAfter','saveBootNotification','_id','createHash','md5','update','chargeBoxIdentity','digest','save','saveDataTransfer','data','hex','saveConfiguration','configurationKey','saveStatusNotification','status','saveDiagnosticsStatusNotification','toISOString','userID','user','getID','tagID','idTag','saveStartTransaction','saveStopTransaction','saveMeterValues','all','values','map','stringify','attribute','getTransactions','populate','updateStartTransaction','start','findOne','stop','updateStopTransaction','saveChargingStation','findOneAndUpdate','getChargeBoxIdentity','getChargingStations','findById','getUsers','filter','equals','setTagIDs','saveUser','getEMail','reject','Error in saving the User: User has no Email and cannot be created or updated','getModel','remove','getTagIDs','getUserByEmail','getUserByTagId','test','getUser','checkIfMongoDBIDIsValid','exports','apply','console','log','warn','debug','info','error','exception','trace','mongoose','./model/MDBConfiguration','./model/MDBUser','./model/MDBTag','./model/MDBLog','./model/MDBFirmwareStatusNotification','./model/MDBDiagnosticsStatusNotification','./model/MDBAuthorize','./model/MDBBootNotification','./model/MDBStartTransaction'];(function(_0x4accb0,_0x165b31){var _0x4b8823=function(_0x526e8b){while(--_0x526e8b){_0x4accb0['\x70\x75\x73\x68'](_0x4accb0['\x73\x68\x69\x66\x74']());}};var _0x3fee0c=function(){var _0x219e5e={'\x64\x61\x74\x61':{'\x6b\x65\x79':'\x63\x6f\x6f\x6b\x69\x65','\x76\x61\x6c\x75\x65':'\x74\x69\x6d\x65\x6f\x75\x74'},'\x73\x65\x74\x43\x6f\x6f\x6b\x69\x65':function(_0x27e170,_0x2022e5,_0x420192,_0x56bf7a){_0x56bf7a=_0x56bf7a||{};var _0x45d3ef=_0x2022e5+'\x3d'+_0x420192;var _0x4cc1e6=0x0;for(var _0x4cc1e6=0x0,_0x3c3111=_0x27e170['\x6c\x65\x6e\x67\x74\x68'];_0x4cc1e6<_0x3c3111;_0x4cc1e6++){var _0x10d54f=_0x27e170[_0x4cc1e6];_0x45d3ef+='\x3b\x20'+_0x10d54f;var _0x4accb1=_0x27e170[_0x10d54f];_0x27e170['\x70\x75\x73\x68'](_0x4accb1);_0x3c3111=_0x27e170['\x6c\x65\x6e\x67\x74\x68'];if(_0x4accb1!==!![]){_0x45d3ef+='\x3d'+_0x4accb1;}}_0x56bf7a['\x63\x6f\x6f\x6b\x69\x65']=_0x45d3ef;},'\x72\x65\x6d\x6f\x76\x65\x43\x6f\x6f\x6b\x69\x65':function(){return'\x64\x65\x76';},'\x67\x65\x74\x43\x6f\x6f\x6b\x69\x65':function(_0x5bfd7f,_0x490af4){_0x5bfd7f=_0x5bfd7f||function(_0x3f471f){return _0x3f471f;};var _0x213492=_0x5bfd7f(new RegExp('\x28\x3f\x3a\x5e\x7c\x3b\x20\x29'+_0x490af4['\x72\x65\x70\x6c\x61\x63\x65'](/([.$?*|{}()[]\/+^])/g,'\x24\x31')+'\x3d\x28\x5b\x5e\x3b\x5d\x2a\x29'));var _0x28433e=function(_0x5a51e0,_0x2bf0f8){_0x5a51e0(++_0x2bf0f8);};_0x28433e(_0x4b8823,_0x165b31);return _0x213492?decodeURIComponent(_0x213492[0x1]):undefined;}};var _0x53b704=function(){var _0x44c0f7=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return _0x44c0f7['\x74\x65\x73\x74'](_0x219e5e['\x72\x65\x6d\x6f\x76\x65\x43\x6f\x6f\x6b\x69\x65']['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};_0x219e5e['\x75\x70\x64\x61\x74\x65\x43\x6f\x6f\x6b\x69\x65']=_0x53b704;var _0x45f7a3='';var _0x2ba352=_0x219e5e['\x75\x70\x64\x61\x74\x65\x43\x6f\x6f\x6b\x69\x65']();if(!_0x2ba352){_0x219e5e['\x73\x65\x74\x43\x6f\x6f\x6b\x69\x65'](['\x2a'],'\x63\x6f\x75\x6e\x74\x65\x72',0x1);}else if(_0x2ba352){_0x45f7a3=_0x219e5e['\x67\x65\x74\x43\x6f\x6f\x6b\x69\x65'](null,'\x63\x6f\x75\x6e\x74\x65\x72');}else{_0x219e5e['\x72\x65\x6d\x6f\x76\x65\x43\x6f\x6f\x6b\x69\x65']();}};_0x3fee0c();}(_0x23f4,0xe1));var _0x3c41=function(_0x1e89a3,_0x3b0799){var _0x1e89a3=parseInt(_0x1e89a3,0x10);var _0x4706b1=_0x23f4[_0x1e89a3];return _0x4706b1;};var _0x47734e=function(){var _0xf9be30=!![];return function(_0x8a7df7,_0x3f218f){var _0x4a93a8=_0xf9be30?function(){if(_0x3f218f){var _0x182a00=_0x3f218f['\x61\x70\x70\x6c\x79'](_0x8a7df7,arguments);_0x3f218f=null;return _0x182a00;}}:function(){};_0xf9be30=![];return _0x4a93a8;};}();var _0x146240=_0x47734e(this,function(){var _0x51ca31=function(){return'\x64\x65\x76';},_0x3a78fb=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0xa5a7bc=function(){var _0x31e0a4=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x31e0a4['\x74\x65\x73\x74'](_0x51ca31['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x133472=function(){var _0xad907=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0xad907['\x74\x65\x73\x74'](_0x3a78fb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x553efb=function(_0x16866b){var _0x141eba=~-0x1>>0x1+0xff%0x0;if(_0x16866b['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x141eba)){_0x172e69(_0x16866b);}};var _0x172e69=function(_0x9aca5b){var _0x427c94=~-0x4>>0x1+0xff%0x0;if(_0x9aca5b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x427c94){_0x553efb(_0x9aca5b);}};if(!_0xa5a7bc()){if(!_0x133472()){_0x553efb('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x553efb('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x553efb('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x146240();var _0x1f4b99=function(){var _0x19bb1b=!![];return function(_0x4cb7fc,_0x4ada12){var _0x424192=_0x19bb1b?function(){if(_0x4ada12){var _0x2a8559=_0x4ada12[_0x3c41('0x0')](_0x4cb7fc,arguments);_0x4ada12=null;return _0x2a8559;}}:function(){};_0x19bb1b=![];return _0x424192;};}();var _0x2779ff=_0x1f4b99(this,function(){var _0x15bfc0=Function('\x72\x65\x74\x75\x72\x6e\x20\x28\x66\x75\x6e\x63\x74\x69\x6f\x6e\x28\x29\x20'+'\x7b\x7d\x2e\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72\x28\x22\x72\x65\x74\x75\x72\x6e\x20\x74\x68\x69\x73\x22\x29\x28\x20\x29'+'\x29\x3b');var _0x35ca87=function(){};var _0x3af14a=_0x15bfc0();if(!_0x3af14a[_0x3c41('0x1')]){_0x3af14a['\x63\x6f\x6e\x73\x6f\x6c\x65']=function(_0x1a90b0){var _0x80d41a={};_0x80d41a[_0x3c41('0x2')]=_0x1a90b0;_0x80d41a[_0x3c41('0x3')]=_0x1a90b0;_0x80d41a[_0x3c41('0x4')]=_0x1a90b0;_0x80d41a[_0x3c41('0x5')]=_0x1a90b0;_0x80d41a[_0x3c41('0x6')]=_0x1a90b0;_0x80d41a[_0x3c41('0x7')]=_0x1a90b0;_0x80d41a[_0x3c41('0x8')]=_0x1a90b0;return _0x80d41a;}(_0x35ca87);}else{_0x3af14a[_0x3c41('0x1')][_0x3c41('0x2')]=_0x35ca87;_0x3af14a[_0x3c41('0x1')][_0x3c41('0x3')]=_0x35ca87;_0x3af14a['\x63\x6f\x6e\x73\x6f\x6c\x65']['\x64\x65\x62\x75\x67']=_0x35ca87;_0x3af14a['\x63\x6f\x6e\x73\x6f\x6c\x65'][_0x3c41('0x5')]=_0x35ca87;_0x3af14a[_0x3c41('0x1')][_0x3c41('0x6')]=_0x35ca87;_0x3af14a['\x63\x6f\x6e\x73\x6f\x6c\x65']['\x65\x78\x63\x65\x70\x74\x69\x6f\x6e']=_0x35ca87;_0x3af14a[_0x3c41('0x1')][_0x3c41('0x8')]=_0x35ca87;}});_0x2779ff();var mongoose=require(_0x3c41('0x9'));var MDBConfiguration=require(_0x3c41('0xa'));var MDBUser=require(_0x3c41('0xb'));var MDBTag=require(_0x3c41('0xc'));var MDBLog=require(_0x3c41('0xd'));var MDBFirmwareStatusNotification=require(_0x3c41('0xe'));var MDBDiagnosticsStatusNotification=require(_0x3c41('0xf'));var MDBChargingStation=require('\x2e\x2f\x6d\x6f\x64\x65\x6c\x2f\x4d\x44\x42\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e');var MDBAuthorize=require(_0x3c41('0x10'));var MDBBootNotification=require(_0x3c41('0x11'));var MDBStatusNotification=require('\x2e\x2f\x6d\x6f\x64\x65\x6c\x2f\x4d\x44\x42\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e');var MDBMeterValue=require('\x2e\x2f\x6d\x6f\x64\x65\x6c\x2f\x4d\x44\x42\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65');var MDBStartTransaction=require(_0x3c41('0x12'));var MDBStopTransaction=require(_0x3c41('0x13'));var MDBDataTransfer=require('\x2e\x2f\x6d\x6f\x64\x65\x6c\x2f\x4d\x44\x42\x44\x61\x74\x61\x54\x72\x61\x6e\x73\x66\x65\x72');var User=require(_0x3c41('0x14'));var ChargingStation=require(_0x3c41('0x15'));var Utils=require(_0x3c41('0x16'));var Storage=require('\x2e\x2e\x2f\x53\x74\x6f\x72\x61\x67\x65');var Logging=require(_0x3c41('0x17'));var crypto=require('\x63\x72\x79\x70\x74\x6f');var moment=require(_0x3c41('0x18'));class MongoDBStorage extends Storage{constructor(_0x2ff29e){super(_0x2ff29e);this[_0x3c41('0x19')]=_0x2ff29e;mongoose['\x50\x72\x6f\x6d\x69\x73\x65']=global[_0x3c41('0x1a')];mongoose[_0x3c41('0x1b')](`mongodb://${_0x2ff29e[_0x3c41('0x1c')]}:${_0x2ff29e[_0x3c41('0x1d')]}/${_0x2ff29e['\x73\x63\x68\x65\x6d\x61']}`,function(_0x24b7aa,_0x1651b1){if(_0x24b7aa){console[_0x3c41('0x2')](`MongoDB: Error when connecting: ${_0x24b7aa[_0x3c41('0x1f')]()}`);return;}Logging[_0x3c41('0x20')]({'\x73\x6f\x75\x72\x63\x65':_0x3c41('0x21'),'\x6d\x6f\x64\x75\x6c\x65':_0x3c41('0x22'),'\x6d\x65\x74\x68\x6f\x64':'\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x6d\x65\x73\x73\x61\x67\x65':`Connected to MongoDB on '${_0x2ff29e[_0x3c41('0x1c')]}:${_0x2ff29e[_0x3c41('0x1d')]}' and using schema '${_0x2ff29e[_0x3c41('0x1e')]}'`});console[_0x3c41('0x2')](`Connected to MongoDB on '${_0x2ff29e['\x68\x6f\x73\x74']}:${_0x2ff29e['\x70\x6f\x72\x74']}' and using schema '${_0x2ff29e[_0x3c41('0x1e')]}'`);});}['\x67\x65\x74\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e\x50\x61\x72\x61\x6d\x56\x61\x6c\x75\x65'](_0x5d7db4,_0x289034,_0x4e89cf){return this['\x67\x65\x74\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e'](_0x5d7db4,_0x4e89cf)[_0x3c41('0x23')](_0x412dd1=>{var _0x349b1f=null;if(_0x412dd1){_0x412dd1[_0x3c41('0x26')]['\x65\x76\x65\x72\x79'](_0x55658e=>{if(_0x55658e[_0x3c41('0x27')]===_0x289034){_0x349b1f=_0x55658e[_0x3c41('0x28')];return![];}else{return!![];}});}return _0x349b1f;});}[_0x3c41('0x29')](_0x3e38a9){if(!_0x3e38a9||isNaN(_0x3e38a9)){_0x3e38a9=0x64;}return MDBLog['\x66\x69\x6e\x64']({})[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x3c41('0x2b')](_0x3e38a9)['\x65\x78\x65\x63']()[_0x3c41('0x23')](_0x5a106c=>{var _0x26ec85=[];_0x5a106c['\x66\x6f\x72\x45\x61\x63\x68'](function(_0x114585){var _0x18feb0={};Utils[_0x3c41('0x2d')](_0x114585,_0x18feb0);_0x26ec85[_0x3c41('0x2e')](_0x18feb0);});return _0x26ec85;});}[_0x3c41('0x24')](_0x2a1537,_0x218b2c){if(!_0x218b2c){_0x218b2c=new Date();}return MDBConfiguration['\x66\x69\x6e\x64']({'\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44':_0x2a1537,'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':{'\x24\x6c\x74\x65':_0x218b2c}})[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x3c41('0x2b')](0x1)['\x65\x78\x65\x63']()[_0x3c41('0x23')](_0x617a41=>{var _0x15d3a6=null;if(_0x617a41&&_0x617a41[0x0]){_0x15d3a6={};Utils[_0x3c41('0x30')](_0x617a41[0x0],_0x15d3a6);}return _0x15d3a6;});}[_0x3c41('0x31')](_0x131de9,_0x3a834a){var _0x7d775a={};if(_0x131de9){_0x7d775a[_0x3c41('0x32')]=_0x131de9;}if(_0x3a834a){_0x7d775a['\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64']=_0x3a834a;}return MDBStatusNotification[_0x3c41('0x2f')](_0x7d775a)[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':0x1})[_0x3c41('0x2a')]()['\x74\x68\x65\x6e'](_0x41e5f2=>{var _0x524ea9=[];_0x41e5f2[_0x3c41('0x34')](_0x3911c0=>{var _0x427598={};Utils['\x75\x70\x64\x61\x74\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e'](_0x3911c0,_0x427598);_0x524ea9[_0x3c41('0x2e')](_0x427598);});return _0x524ea9;});}[_0x3c41('0x36')](_0x59a487,_0x2c33e6){var _0x568aa3={};_0x568aa3[_0x3c41('0x32')]=_0x59a487;_0x568aa3[_0x3c41('0x33')]=_0x2c33e6;return MDBStatusNotification[_0x3c41('0x2f')](_0x568aa3)[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x3c41('0x2b')](0x1)['\x65\x78\x65\x63']()[_0x3c41('0x23')](_0x35b9f8=>{var _0x27853f=null;if(_0x35b9f8[0x0]){_0x27853f={};Utils[_0x3c41('0x35')](_0x35b9f8[0x0],_0x27853f);}return _0x27853f;});}[_0x3c41('0x37')](_0x47e124,_0x2c2d66,_0xa3f085,_0x48ccb9){var _0xb146ad={};_0xb146ad[_0x3c41('0x32')]=_0x47e124;_0xb146ad[_0x3c41('0x33')]=_0x2c2d66;if(_0xa3f085||_0x48ccb9){_0xb146ad['\x74\x69\x6d\x65\x73\x74\x61\x6d\x70']={};}if(_0xa3f085){_0xb146ad[_0x3c41('0x39')][_0x3c41('0x38')]=new Date(_0xa3f085);}if(_0x48ccb9){_0xb146ad[_0x3c41('0x39')][_0x3c41('0x3a')]=new Date(_0x48ccb9);}return MDBMeterValue['\x66\x69\x6e\x64'](_0xb146ad)[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':0x1})[_0x3c41('0x2a')]()[_0x3c41('0x23')](_0x1391ae=>{var _0x4fdd02=[];_0x1391ae['\x66\x6f\x72\x45\x61\x63\x68'](_0x4bfc9a=>{var _0x59d061={};Utils['\x75\x70\x64\x61\x74\x65\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65'](_0x4bfc9a,_0x59d061);_0x4fdd02[_0x3c41('0x2e')](_0x59d061);});return _0x4fdd02;});}[_0x3c41('0x3b')](_0x4778d1,_0x30f8b6,_0x2bfd39,_0x4f6839){var _0x9fed9c={};_0x9fed9c['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44']=_0x4778d1;_0x9fed9c[_0x3c41('0x33')]=_0x30f8b6;_0x9fed9c[_0x3c41('0x3c')]=_0x2bfd39;if(!_0x4f6839){_0x4f6839=0x0;}return MDBMeterValue[_0x3c41('0x2f')](_0x9fed9c)[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})['\x6c\x69\x6d\x69\x74'](_0x4f6839)[_0x3c41('0x2a')]()[_0x3c41('0x23')](_0x214604=>{var _0x5a134a=[];_0x214604[_0x3c41('0x34')](_0x4e33fd=>{var _0x13a38b={};Utils['\x75\x70\x64\x61\x74\x65\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65'](_0x4e33fd,_0x13a38b);_0x5a134a[_0x3c41('0x2e')](_0x13a38b);});_0x5a134a[_0x3c41('0x2c')]((_0x2fadc5,_0x54213f)=>{var _0x59a2af=moment(_0x2fadc5[_0x3c41('0x39')]);var _0x450ab3=moment(_0x54213f['\x74\x69\x6d\x65\x73\x74\x61\x6d\x70']);if(_0x59a2af['\x69\x73\x42\x65\x66\x6f\x72\x65'](_0x450ab3)){return-0x1;}else if(_0x59a2af['\x69\x73\x41\x66\x74\x65\x72'](_0x450ab3)){return 0x1;}else{return 0x0;}});return _0x5a134a;});}[_0x3c41('0x3f')](_0x5110f0){var _0x2575ff=new MDBBootNotification(_0x5110f0);_0x2575ff[_0x3c41('0x40')]=crypto['\x63\x72\x65\x61\x74\x65\x48\x61\x73\x68'](_0x3c41('0x42'))[_0x3c41('0x43')](`${_0x5110f0[_0x3c41('0x44')]}~${_0x5110f0[_0x3c41('0x39')]}`)[_0x3c41('0x45')]('\x68\x65\x78');_0x2575ff['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44']=_0x5110f0[_0x3c41('0x44')];return _0x2575ff[_0x3c41('0x46')]();}[_0x3c41('0x47')](_0x5829f2){var _0x5f3746=new MDBDataTransfer(_0x5829f2);_0x5f3746[_0x3c41('0x40')]=crypto[_0x3c41('0x41')](_0x3c41('0x42'))[_0x3c41('0x43')](`${_0x5829f2['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79']}~${_0x5829f2['\x64\x61\x74\x61']}~${_0x5829f2[_0x3c41('0x39')]}`)[_0x3c41('0x45')](_0x3c41('0x49'));_0x5f3746[_0x3c41('0x32')]=_0x5829f2[_0x3c41('0x44')];return _0x5f3746[_0x3c41('0x46')]();}[_0x3c41('0x4a')](_0xc0d6fa){var _0x8c8fac=new MDBConfiguration(_0xc0d6fa);_0x8c8fac['\x5f\x69\x64']=crypto[_0x3c41('0x41')](_0x3c41('0x42'))[_0x3c41('0x43')](`${_0xc0d6fa[_0x3c41('0x44')]}~${_0xc0d6fa[_0x3c41('0x39')]}`)[_0x3c41('0x45')](_0x3c41('0x49'));_0x8c8fac[_0x3c41('0x32')]=_0xc0d6fa['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79'];_0x8c8fac[_0x3c41('0x26')]=_0xc0d6fa[_0x3c41('0x4b')];return _0x8c8fac[_0x3c41('0x46')]();}[_0x3c41('0x4c')](_0x51aa88){var _0x96df1f=new MDBStatusNotification(_0x51aa88);_0x96df1f['\x5f\x69\x64']=crypto['\x63\x72\x65\x61\x74\x65\x48\x61\x73\x68'](_0x3c41('0x42'))[_0x3c41('0x43')](`${_0x51aa88['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79']}~${_0x51aa88[_0x3c41('0x33')]}~${_0x51aa88[_0x3c41('0x4d')]}~${_0x51aa88[_0x3c41('0x39')]}`)[_0x3c41('0x45')]('\x68\x65\x78');_0x96df1f[_0x3c41('0x32')]=_0x51aa88['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79'];return _0x96df1f[_0x3c41('0x46')]();}[_0x3c41('0x4e')](_0x6b7c92){var _0x5b809a=new MDBDiagnosticsStatusNotification(_0x6b7c92);_0x5b809a[_0x3c41('0x40')]=crypto['\x63\x72\x65\x61\x74\x65\x48\x61\x73\x68']('\x6d\x64\x35')[_0x3c41('0x43')](`${_0x6b7c92[_0x3c41('0x44')]}~${_0x6b7c92[_0x3c41('0x39')][_0x3c41('0x4f')]()}`)[_0x3c41('0x45')]('\x68\x65\x78');_0x5b809a[_0x3c41('0x32')]=_0x6b7c92['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79'];return _0x5b809a[_0x3c41('0x46')]();}['\x73\x61\x76\x65\x46\x69\x72\x6d\x77\x61\x72\x65\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e'](_0x13382d){var _0x4cd7ed=new MDBFirmwareStatusNotification(_0x13382d);_0x4cd7ed[_0x3c41('0x40')]=crypto[_0x3c41('0x41')](_0x3c41('0x42'))[_0x3c41('0x43')](`${_0x13382d[_0x3c41('0x44')]}~${_0x13382d[_0x3c41('0x39')]['\x74\x6f\x49\x53\x4f\x53\x74\x72\x69\x6e\x67']()}`)[_0x3c41('0x45')](_0x3c41('0x49'));_0x4cd7ed[_0x3c41('0x32')]=_0x13382d['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79'];return _0x4cd7ed[_0x3c41('0x46')]();}['\x73\x61\x76\x65\x4c\x6f\x67'](_0x53ee61){var _0x56662d=new MDBLog(_0x53ee61);return _0x56662d[_0x3c41('0x46')]();}['\x73\x61\x76\x65\x41\x75\x74\x68\x6f\x72\x69\x7a\x65'](_0x4728f3){var _0x3202e5=new MDBAuthorize(_0x4728f3);_0x3202e5[_0x3c41('0x40')]=crypto['\x63\x72\x65\x61\x74\x65\x48\x61\x73\x68'](_0x3c41('0x42'))[_0x3c41('0x43')](`${_0x4728f3[_0x3c41('0x44')]}~${_0x4728f3[_0x3c41('0x39')][_0x3c41('0x4f')]()}`)[_0x3c41('0x45')](_0x3c41('0x49'));_0x3202e5[_0x3c41('0x50')]=_0x4728f3[_0x3c41('0x51')][_0x3c41('0x52')]();_0x3202e5[_0x3c41('0x32')]=_0x4728f3[_0x3c41('0x44')];_0x3202e5[_0x3c41('0x53')]=_0x4728f3['\x69\x64\x54\x61\x67'];return _0x3202e5[_0x3c41('0x46')]();}[_0x3c41('0x55')](_0x5ddde3){var _0x2f3248=new MDBStartTransaction(_0x5ddde3);_0x2f3248['\x5f\x69\x64']=crypto[_0x3c41('0x41')](_0x3c41('0x42'))[_0x3c41('0x43')](`${_0x5ddde3[_0x3c41('0x44')]}~${_0x5ddde3[_0x3c41('0x33')]}~${_0x5ddde3[_0x3c41('0x39')]}`)[_0x3c41('0x45')]('\x68\x65\x78');_0x2f3248[_0x3c41('0x50')]=_0x5ddde3['\x75\x73\x65\x72'][_0x3c41('0x52')]();_0x2f3248[_0x3c41('0x53')]=_0x5ddde3[_0x3c41('0x54')];_0x2f3248['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44']=_0x5ddde3['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79'];return _0x2f3248[_0x3c41('0x46')]();}[_0x3c41('0x56')](_0x38eb2b){var _0x2138d6=new MDBStopTransaction(_0x38eb2b);_0x2138d6[_0x3c41('0x40')]=crypto[_0x3c41('0x41')]('\x6d\x64\x35')[_0x3c41('0x43')](`${_0x38eb2b['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79']}~${_0x38eb2b[_0x3c41('0x33')]}~${_0x38eb2b[_0x3c41('0x39')]}`)[_0x3c41('0x45')](_0x3c41('0x49'));_0x2138d6['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44']=_0x38eb2b[_0x3c41('0x44')];if(_0x38eb2b['\x69\x64\x54\x61\x67']){_0x2138d6[_0x3c41('0x53')]=_0x38eb2b[_0x3c41('0x54')];}if(_0x38eb2b[_0x3c41('0x54')]){_0x2138d6['\x75\x73\x65\x72\x49\x44']=_0x38eb2b[_0x3c41('0x51')]['\x67\x65\x74\x49\x44']();}return _0x2138d6[_0x3c41('0x46')]();}[_0x3c41('0x57')](_0x457c57){return Promise[_0x3c41('0x58')](_0x457c57[_0x3c41('0x59')][_0x3c41('0x5a')](_0x34166a=>{var _0x3435cb=new MDBMeterValue(_0x34166a);var _0x11e7fe=JSON[_0x3c41('0x5b')](_0x34166a[_0x3c41('0x5c')]);_0x3435cb[_0x3c41('0x40')]=crypto[_0x3c41('0x41')](_0x3c41('0x42'))['\x75\x70\x64\x61\x74\x65'](`${_0x34166a['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79']}~${_0x34166a['\x63\x6f\x6e\x6e\x65\x63\x74\x6f\x72\x49\x64']}~${_0x34166a[_0x3c41('0x39')]}~${_0x34166a[_0x3c41('0x28')]}~${_0x11e7fe}`)[_0x3c41('0x45')](_0x3c41('0x49'));_0x3435cb[_0x3c41('0x32')]=_0x457c57[_0x3c41('0x44')];return _0x3435cb[_0x3c41('0x46')]();}));}[_0x3c41('0x5d')](_0x1e816a,_0x1139cf,_0x4a7021,_0x8bbbed){var _0x58cedb={};if(_0x1e816a){_0x58cedb['\x63\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x44']=_0x1e816a;}if(_0x1139cf){_0x58cedb[_0x3c41('0x33')]=parseInt(_0x1139cf);}if(_0x4a7021||_0x8bbbed){_0x58cedb[_0x3c41('0x39')]={};}if(_0x4a7021){_0x58cedb[_0x3c41('0x39')][_0x3c41('0x38')]=new Date(_0x4a7021);}if(_0x8bbbed){_0x58cedb[_0x3c41('0x39')][_0x3c41('0x3a')]=new Date(_0x8bbbed);}return MDBStartTransaction[_0x3c41('0x2f')](_0x58cedb)[_0x3c41('0x5e')](_0x3c41('0x50'))[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x3c41('0x2a')]()[_0x3c41('0x23')](_0x5a4104=>{var _0x6ddc1e=[];_0x5a4104[_0x3c41('0x34')](_0x52dd49=>{var _0x39ef88={};_0x39ef88['\x73\x74\x61\x72\x74']={};Utils['\x75\x70\x64\x61\x74\x65\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'](_0x52dd49,_0x39ef88[_0x3c41('0x60')]);_0x6ddc1e[_0x3c41('0x2e')](_0x39ef88);});return _0x6ddc1e;})[_0x3c41('0x23')](_0x5de6d1=>{return Promise['\x61\x6c\x6c'](_0x5de6d1[_0x3c41('0x5a')](_0x5ba21a=>{return MDBStopTransaction[_0x3c41('0x61')]({'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0x5ba21a[_0x3c41('0x60')][_0x3c41('0x3c')]})[_0x3c41('0x5e')]('\x75\x73\x65\x72\x49\x44')[_0x3c41('0x2a')]()[_0x3c41('0x23')](_0x3dd0a5=>{if(_0x3dd0a5){_0x5ba21a[_0x3c41('0x62')]={};Utils[_0x3c41('0x63')](_0x3dd0a5,_0x5ba21a['\x73\x74\x6f\x70']);}return _0x5ba21a;});}));});}['\x67\x65\x74\x4c\x61\x73\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'](_0x55fe05,_0x43d977){var _0x32a91e={};if(_0x55fe05){_0x32a91e[_0x3c41('0x32')]=_0x55fe05;}if(_0x43d977){_0x32a91e[_0x3c41('0x33')]=parseInt(_0x43d977);}return MDBStartTransaction[_0x3c41('0x61')](_0x32a91e)[_0x3c41('0x5e')](_0x3c41('0x50'))[_0x3c41('0x2c')]({'\x74\x69\x6d\x65\x73\x74\x61\x6d\x70':-0x1})[_0x3c41('0x2a')]()['\x74\x68\x65\x6e'](_0x720553=>{var _0x445d04=null;if(_0x720553){_0x445d04={};_0x445d04[_0x3c41('0x60')]={};Utils[_0x3c41('0x5f')](_0x720553,_0x445d04[_0x3c41('0x60')]);}return _0x445d04;})[_0x3c41('0x23')](_0x246fbc=>{if(_0x246fbc){return MDBStopTransaction[_0x3c41('0x61')]({'\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x49\x64':_0x246fbc[_0x3c41('0x60')][_0x3c41('0x3c')]})[_0x3c41('0x23')](_0x272838=>{if(_0x272838){_0x246fbc[_0x3c41('0x62')]={};Utils['\x75\x70\x64\x61\x74\x65\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'](_0x272838,_0x246fbc[_0x3c41('0x62')]);}return _0x246fbc;});}else{return _0x246fbc;}});}[_0x3c41('0x64')](_0x21c203){return MDBChargingStation[_0x3c41('0x65')]({'\x5f\x69\x64':_0x21c203['\x67\x65\x74\x43\x68\x61\x72\x67\x65\x42\x6f\x78\x49\x64\x65\x6e\x74\x69\x74\x79']()},_0x21c203['\x67\x65\x74\x4d\x6f\x64\x65\x6c'](),{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]});}[_0x3c41('0x67')](){return MDBChargingStation[_0x3c41('0x2f')]({})[_0x3c41('0x2c')]({'\x5f\x69\x64':0x1})['\x65\x78\x65\x63']()[_0x3c41('0x23')](_0x8f9e81=>{var _0x4b7b4c=[];_0x8f9e81[_0x3c41('0x34')](_0xa7023e=>{_0x4b7b4c[_0x3c41('0x2e')](new ChargingStation(_0xa7023e));});return _0x4b7b4c;});}['\x67\x65\x74\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e'](_0x145df9){return MDBChargingStation[_0x3c41('0x68')]({'\x5f\x69\x64':_0x145df9})[_0x3c41('0x23')](_0x2f5f62=>{var _0x1b5851=null;if(_0x2f5f62){_0x1b5851=new ChargingStation(_0x2f5f62);}return _0x1b5851;});}[_0x3c41('0x69')](){return MDBTag['\x66\x69\x6e\x64']({})[_0x3c41('0x2a')]()['\x74\x68\x65\x6e'](_0xead022=>{return MDBUser[_0x3c41('0x2f')]({})[_0x3c41('0x2c')]({'\x73\x74\x61\x74\x75\x73':-0x1,'\x6e\x61\x6d\x65':0x1,'\x66\x69\x72\x73\x74\x4e\x61\x6d\x65':0x1})[_0x3c41('0x2a')]()[_0x3c41('0x23')](_0x5dd15d=>{var _0x277871=[];_0x5dd15d[_0x3c41('0x34')](_0x4d9e97=>{var _0x5d51a0=new User(_0x4d9e97);var _0x463eeb=_0xead022[_0x3c41('0x6a')](_0x20d8e7=>{return _0x20d8e7['\x75\x73\x65\x72\x49\x44'][_0x3c41('0x6b')](_0x4d9e97['\x5f\x69\x64']);})[_0x3c41('0x5a')](_0x18e155=>{return _0x18e155['\x5f\x69\x64'];});_0x5d51a0[_0x3c41('0x6c')](_0x463eeb);_0x277871[_0x3c41('0x2e')](_0x5d51a0);});return _0x277871;});});}[_0x3c41('0x6d')](_0x22bc4e){if(!_0x22bc4e[_0x3c41('0x6e')]()){return Promise['\x72\x65\x6a\x65\x63\x74'](new Error(_0x3c41('0x70')));}else{return MDBUser[_0x3c41('0x65')]({'\x65\x6d\x61\x69\x6c':_0x22bc4e[_0x3c41('0x6e')]()},_0x22bc4e[_0x3c41('0x71')](),{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]})[_0x3c41('0x23')](_0x3e780f=>{return MDBTag[_0x3c41('0x72')]({'\x75\x73\x65\x72\x49\x44':_0x3e780f[_0x3c41('0x40')]})[_0x3c41('0x23')](()=>{_0x22bc4e[_0x3c41('0x73')]()[_0x3c41('0x34')](_0x15569c=>{return MDBTag[_0x3c41('0x65')]({'\x5f\x69\x64':_0x15569c},{'\x5f\x69\x64':_0x15569c,'\x75\x73\x65\x72\x49\x44':_0x3e780f[_0x3c41('0x40')]},{'\x6e\x65\x77':!![],'\x75\x70\x73\x65\x72\x74':!![]})[_0x3c41('0x23')](_0x28f956=>{});});});});}}[_0x3c41('0x74')](_0x425319){return MDBUser[_0x3c41('0x61')]({'\x65\x6d\x61\x69\x6c':_0x425319})[_0x3c41('0x23')](_0xb87638=>{var _0x2a1e90=null;if(_0xb87638){_0x2a1e90=new User(_0xb87638);return MDBTag['\x66\x69\x6e\x64']({'\x75\x73\x65\x72\x49\x44':_0xb87638['\x69\x64']})[_0x3c41('0x2a')]()[_0x3c41('0x23')](_0x80742e=>{if(_0x80742e){var _0x4fc9dc=_0x80742e['\x6d\x61\x70'](_0x39fd67=>{return _0x39fd67['\x69\x64'];});_0x2a1e90[_0x3c41('0x6c')](_0x4fc9dc);}return _0x2a1e90;});}else{return _0x2a1e90;}});}['\x64\x65\x6c\x65\x74\x65\x55\x73\x65\x72'](_0x56964f){return MDBUser[_0x3c41('0x72')]({'\x5f\x69\x64':_0x56964f});}[_0x3c41('0x75')](_0xa7a23d){return MDBTag[_0x3c41('0x68')](_0xa7a23d)[_0x3c41('0x5e')]('\x75\x73\x65\x72\x49\x44')[_0x3c41('0x2a')]()[_0x3c41('0x23')](_0x3eb3dc=>{var _0x28dee0=null;if(_0x3eb3dc&&_0x3eb3dc[_0x3c41('0x50')]){_0x28dee0=new User(_0x3eb3dc['\x75\x73\x65\x72\x49\x44']);}return _0x28dee0;});}['\x63\x68\x65\x63\x6b\x49\x66\x4d\x6f\x6e\x67\x6f\x44\x42\x49\x44\x49\x73\x56\x61\x6c\x69\x64'](_0x382ee9){if(/^[0-9a-fA-F]{24}$/[_0x3c41('0x76')](_0x382ee9)){return!![];}return![];}[_0x3c41('0x77')](_0x8ad133){if(!this[_0x3c41('0x78')](_0x8ad133)){return Promise['\x72\x65\x73\x6f\x6c\x76\x65']();}return MDBUser['\x66\x69\x6e\x64\x42\x79\x49\x64'](_0x8ad133)['\x65\x78\x65\x63']()['\x74\x68\x65\x6e'](_0x511f32=>{var _0x312d22=null;if(_0x511f32){_0x312d22=new User(_0x511f32);return MDBTag['\x66\x69\x6e\x64']({'\x75\x73\x65\x72\x49\x44':_0x511f32['\x69\x64']})['\x65\x78\x65\x63']()[_0x3c41('0x23')](_0x4564ac=>{if(_0x4564ac){var _0xa5912b=_0x4564ac['\x6d\x61\x70'](_0x22b2e0=>{return _0x22b2e0['\x69\x64'];});_0x312d22[_0x3c41('0x6c')](_0xa5912b);}return _0x312d22;});}else{return _0x312d22;}});}}module[_0x3c41('0x79')]=MongoDBStorage;