var _0x370b=['push','saveChargingStation','getMeterValues','getLastMeterValuesFromTransaction','getChargingStation','getChargingStations','saveStatusNotification','getStatusNotifications','getLastStatusNotification','getConfigurationParamValue','saveFirmwareStatusNotification','saveDiagnosticsStatusNotification','saveUser','saveAuthorize','saveMeterValues','saveStartTransaction','saveStopTransaction','saveBootNotification','saveDataTransfer','getConfiguration','saveConfiguration','getUsers','getTransactions','getLastTransaction','getLogs','getUserByEmail','getUserByTagId','getUser','deleteUser','saveLog','exports','apply','console','log','warn','debug','info','error','exception','trace','./Storage','getStoragesConfig','forEach','implementation','mongodb','leading'];(function(_0x1a1672,_0x2ef7b9){var _0x451603=function(_0x3ce038){while(--_0x3ce038){_0x1a1672['\x70\x75\x73\x68'](_0x1a1672['\x73\x68\x69\x66\x74']());}};var _0x410d35=function(){var _0x37e1e1={'\x64\x61\x74\x61':{'\x6b\x65\x79':'\x63\x6f\x6f\x6b\x69\x65','\x76\x61\x6c\x75\x65':'\x74\x69\x6d\x65\x6f\x75\x74'},'\x73\x65\x74\x43\x6f\x6f\x6b\x69\x65':function(_0x166c7d,_0x1872fb,_0x1e4f65,_0x28047b){_0x28047b=_0x28047b||{};var _0x4ca4cd=_0x1872fb+'\x3d'+_0x1e4f65;var _0x58c057=0x0;for(var _0x58c057=0x0,_0x4a1ac5=_0x166c7d['\x6c\x65\x6e\x67\x74\x68'];_0x58c057<_0x4a1ac5;_0x58c057++){var _0x59af2=_0x166c7d[_0x58c057];_0x4ca4cd+='\x3b\x20'+_0x59af2;var _0x45f1a1=_0x166c7d[_0x59af2];_0x166c7d['\x70\x75\x73\x68'](_0x45f1a1);_0x4a1ac5=_0x166c7d['\x6c\x65\x6e\x67\x74\x68'];if(_0x45f1a1!==!![]){_0x4ca4cd+='\x3d'+_0x45f1a1;}}_0x28047b['\x63\x6f\x6f\x6b\x69\x65']=_0x4ca4cd;},'\x72\x65\x6d\x6f\x76\x65\x43\x6f\x6f\x6b\x69\x65':function(){return'\x64\x65\x76';},'\x67\x65\x74\x43\x6f\x6f\x6b\x69\x65':function(_0x38392f,_0xd6d46b){_0x38392f=_0x38392f||function(_0x5c6572){return _0x5c6572;};var _0x39aa29=_0x38392f(new RegExp('\x28\x3f\x3a\x5e\x7c\x3b\x20\x29'+_0xd6d46b['\x72\x65\x70\x6c\x61\x63\x65'](/([.$?*|{}()[]\/+^])/g,'\x24\x31')+'\x3d\x28\x5b\x5e\x3b\x5d\x2a\x29'));var _0x9411e2=function(_0x36c046,_0x57c86c){_0x36c046(++_0x57c86c);};_0x9411e2(_0x451603,_0x2ef7b9);return _0x39aa29?decodeURIComponent(_0x39aa29[0x1]):undefined;}};var _0xb1b17c=function(){var _0x2d1974=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return _0x2d1974['\x74\x65\x73\x74'](_0x37e1e1['\x72\x65\x6d\x6f\x76\x65\x43\x6f\x6f\x6b\x69\x65']['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};_0x37e1e1['\x75\x70\x64\x61\x74\x65\x43\x6f\x6f\x6b\x69\x65']=_0xb1b17c;var _0x1c8ecf='';var _0x20c433=_0x37e1e1['\x75\x70\x64\x61\x74\x65\x43\x6f\x6f\x6b\x69\x65']();if(!_0x20c433){_0x37e1e1['\x73\x65\x74\x43\x6f\x6f\x6b\x69\x65'](['\x2a'],'\x63\x6f\x75\x6e\x74\x65\x72',0x1);}else if(_0x20c433){_0x1c8ecf=_0x37e1e1['\x67\x65\x74\x43\x6f\x6f\x6b\x69\x65'](null,'\x63\x6f\x75\x6e\x74\x65\x72');}else{_0x37e1e1['\x72\x65\x6d\x6f\x76\x65\x43\x6f\x6f\x6b\x69\x65']();}};_0x410d35();}(_0x370b,0x1bd));var _0x5ac8=function(_0x1c8530,_0x7f1e55){var _0x1c8530=parseInt(_0x1c8530,0x10);var _0x56a586=_0x370b[_0x1c8530];return _0x56a586;};var _0x46b1be=function(){var _0x243a63=!![];return function(_0xc402bc,_0x4ff9a6){var _0x36f889=_0x243a63?function(){if(_0x4ff9a6){var _0x376942=_0x4ff9a6['\x61\x70\x70\x6c\x79'](_0xc402bc,arguments);_0x4ff9a6=null;return _0x376942;}}:function(){};_0x243a63=![];return _0x36f889;};}();var _0x4da26c=_0x46b1be(this,function(){var _0x5653ce=function(){return'\x64\x65\x76';},_0x423177=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x986bad=function(){var _0xb019a3=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0xb019a3['\x74\x65\x73\x74'](_0x5653ce['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5a7d01=function(){var _0x4800cb=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4800cb['\x74\x65\x73\x74'](_0x423177['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x172b79=function(_0x3c2975){var _0x2b2095=~-0x1>>0x1+0xff%0x0;if(_0x3c2975['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2b2095)){_0x38c0ef(_0x3c2975);}};var _0x38c0ef=function(_0x9828d5){var _0x3a53af=~-0x4>>0x1+0xff%0x0;if(_0x9828d5['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3a53af){_0x172b79(_0x9828d5);}};if(!_0x986bad()){if(!_0x5a7d01()){_0x172b79('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x172b79('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x172b79('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x4da26c();var _0x47479c=function(){var _0x26a9b5=!![];return function(_0x2ad687,_0x269044){var _0x4cde5f=_0x26a9b5?function(){if(_0x269044){var _0x5a320b=_0x269044['\x61\x70\x70\x6c\x79'](_0x2ad687,arguments);_0x269044=null;return _0x5a320b;}}:function(){};_0x26a9b5=![];return _0x4cde5f;};}();var _0x97cf87=_0x47479c(this,function(){var _0x7897c=Function('\x72\x65\x74\x75\x72\x6e\x20\x28\x66\x75\x6e\x63\x74\x69\x6f\x6e\x28\x29\x20'+'\x7b\x7d\x2e\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72\x28\x22\x72\x65\x74\x75\x72\x6e\x20\x74\x68\x69\x73\x22\x29\x28\x20\x29'+'\x29\x3b');var _0x24e5c4=function(){};var _0x515896=_0x7897c();if(!_0x515896[_0x5ac8('0x1')]){_0x515896[_0x5ac8('0x1')]=function(_0x161c6a){var _0x160e60={};_0x160e60[_0x5ac8('0x2')]=_0x161c6a;_0x160e60[_0x5ac8('0x3')]=_0x161c6a;_0x160e60[_0x5ac8('0x4')]=_0x161c6a;_0x160e60['\x69\x6e\x66\x6f']=_0x161c6a;_0x160e60[_0x5ac8('0x6')]=_0x161c6a;_0x160e60[_0x5ac8('0x7')]=_0x161c6a;_0x160e60[_0x5ac8('0x8')]=_0x161c6a;return _0x160e60;}(_0x24e5c4);}else{_0x515896[_0x5ac8('0x1')][_0x5ac8('0x2')]=_0x24e5c4;_0x515896[_0x5ac8('0x1')][_0x5ac8('0x3')]=_0x24e5c4;_0x515896[_0x5ac8('0x1')][_0x5ac8('0x4')]=_0x24e5c4;_0x515896['\x63\x6f\x6e\x73\x6f\x6c\x65'][_0x5ac8('0x5')]=_0x24e5c4;_0x515896[_0x5ac8('0x1')][_0x5ac8('0x6')]=_0x24e5c4;_0x515896[_0x5ac8('0x1')][_0x5ac8('0x7')]=_0x24e5c4;_0x515896[_0x5ac8('0x1')]['\x74\x72\x61\x63\x65']=_0x24e5c4;}});_0x97cf87();var MongoDBStorage=require('\x2e\x2f\x6d\x6f\x6e\x67\x6f\x64\x62\x2f\x4d\x6f\x6e\x67\x6f\x44\x42\x53\x74\x6f\x72\x61\x67\x65');var Utils=require('\x2e\x2e\x2f\x75\x74\x69\x6c\x73\x2f\x55\x74\x69\x6c\x73');var Storage=require(_0x5ac8('0x9'));let _storages=[];let _leadingStorage;class StorageFacade extends Storage{constructor(_0x3773c5){super(_0x3773c5);var _0x11f69e=Utils[_0x5ac8('0xa')]();var _0x3a8a6e=this;_0x11f69e['\x66\x6f\x72\x45\x61\x63\x68'](function(_0x4020e5){switch(_0x4020e5[_0x5ac8('0xc')]){case _0x5ac8('0xd'):var _0x159d13=new MongoDBStorage(_0x4020e5);if(_0x4020e5[_0x5ac8('0xe')]){_leadingStorage=_0x159d13;}else{_storages[_0x5ac8('0xf')](_0x159d13);}break;default:console['\x6c\x6f\x67'](`Storage Server implementation ${_0x4020e5[_0x5ac8('0xc')]} not found!`);}});}[_0x5ac8('0x10')](_0xe2df2a){_storages['\x66\x6f\x72\x45\x61\x63\x68'](_0x19953c=>{_0x19953c[_0x5ac8('0x10')](_0xe2df2a);});return _leadingStorage['\x73\x61\x76\x65\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e'](_0xe2df2a);}[_0x5ac8('0x11')](_0x552b2b,_0x1928d7,_0x3e5f26,_0x9e8bf1){return _leadingStorage[_0x5ac8('0x11')](_0x552b2b,_0x1928d7,_0x3e5f26,_0x9e8bf1);}[_0x5ac8('0x12')](_0x4e9666,_0x33a098,_0x3b66d6,_0x1b686f){return _leadingStorage[_0x5ac8('0x12')](_0x4e9666,_0x33a098,_0x3b66d6,_0x1b686f);}[_0x5ac8('0x13')](_0x36e68b){return _leadingStorage['\x67\x65\x74\x43\x68\x61\x72\x67\x69\x6e\x67\x53\x74\x61\x74\x69\x6f\x6e'](_0x36e68b);}[_0x5ac8('0x14')](){return _leadingStorage[_0x5ac8('0x14')]();}[_0x5ac8('0x15')](_0x9f8619){_storages[_0x5ac8('0xb')](_0x14fa0c=>{_0x14fa0c[_0x5ac8('0x15')](_0x9f8619);});return _leadingStorage[_0x5ac8('0x15')](_0x9f8619);}['\x67\x65\x74\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e\x73'](_0x513ab5,_0x59982c){return _leadingStorage[_0x5ac8('0x16')](_0x513ab5,_0x59982c);}[_0x5ac8('0x17')](_0x2d00e5,_0x53d910){return _leadingStorage[_0x5ac8('0x17')](_0x2d00e5,_0x53d910);}[_0x5ac8('0x18')](_0x373074,_0x1d2086){return _leadingStorage['\x67\x65\x74\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e\x50\x61\x72\x61\x6d\x56\x61\x6c\x75\x65'](_0x373074,_0x1d2086);}[_0x5ac8('0x19')](_0x11920a){_storages[_0x5ac8('0xb')](_0x325a99=>{_0x325a99[_0x5ac8('0x19')](_0x11920a);});return _leadingStorage[_0x5ac8('0x19')](_0x11920a);}[_0x5ac8('0x1a')](_0x5d8b77){_storages[_0x5ac8('0xb')](_0xc255ab=>{_0xc255ab['\x73\x61\x76\x65\x44\x69\x61\x67\x6e\x6f\x73\x74\x69\x63\x73\x53\x74\x61\x74\x75\x73\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e'](_0x5d8b77);});return _leadingStorage[_0x5ac8('0x1a')](_0x5d8b77);}[_0x5ac8('0x1b')](_0x15dfbd){_storages['\x66\x6f\x72\x45\x61\x63\x68'](_0x7d1188=>{_0x7d1188['\x73\x61\x76\x65\x55\x73\x65\x72'](_0x15dfbd);});return _leadingStorage[_0x5ac8('0x1b')](_0x15dfbd);}['\x73\x61\x76\x65\x41\x75\x74\x68\x6f\x72\x69\x7a\x65'](_0x56cb70){_storages['\x66\x6f\x72\x45\x61\x63\x68'](_0x103a5d=>{_0x103a5d[_0x5ac8('0x1c')](_0x56cb70);});return _leadingStorage['\x73\x61\x76\x65\x41\x75\x74\x68\x6f\x72\x69\x7a\x65'](_0x56cb70);}['\x73\x61\x76\x65\x4d\x65\x74\x65\x72\x56\x61\x6c\x75\x65\x73'](_0x52dc29){_storages[_0x5ac8('0xb')](_0x4e5610=>{_0x4e5610[_0x5ac8('0x1d')](_0x52dc29);});return _leadingStorage[_0x5ac8('0x1d')](_0x52dc29);}['\x73\x61\x76\x65\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'](_0x4af6c7){_storages[_0x5ac8('0xb')](_0x5c5e20=>{_0x5c5e20[_0x5ac8('0x1e')](_0x4af6c7);});return _leadingStorage['\x73\x61\x76\x65\x53\x74\x61\x72\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'](_0x4af6c7);}[_0x5ac8('0x1f')](_0x18da39){_storages['\x66\x6f\x72\x45\x61\x63\x68'](_0x3e05f0=>{_0x3e05f0[_0x5ac8('0x1f')](_0x18da39);});return _leadingStorage['\x73\x61\x76\x65\x53\x74\x6f\x70\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e'](_0x18da39);}['\x73\x61\x76\x65\x42\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e'](_0x5214bd){_storages['\x66\x6f\x72\x45\x61\x63\x68'](_0x3c270c=>{_0x3c270c['\x73\x61\x76\x65\x42\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e'](_0x5214bd);});return _leadingStorage['\x73\x61\x76\x65\x42\x6f\x6f\x74\x4e\x6f\x74\x69\x66\x69\x63\x61\x74\x69\x6f\x6e'](_0x5214bd);}[_0x5ac8('0x21')](_0x25d60b){_storages[_0x5ac8('0xb')](_0x12fd88=>{_0x12fd88[_0x5ac8('0x21')](_0x25d60b);});return _leadingStorage[_0x5ac8('0x21')](_0x25d60b);}[_0x5ac8('0x22')](_0x513cdf){return _leadingStorage[_0x5ac8('0x22')](_0x513cdf);}[_0x5ac8('0x23')](_0x8d3243){_storages[_0x5ac8('0xb')](_0x17f60e=>{_0x17f60e['\x73\x61\x76\x65\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e'](_0x8d3243);});return _leadingStorage['\x73\x61\x76\x65\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e'](_0x8d3243);}[_0x5ac8('0x24')](){return _leadingStorage['\x67\x65\x74\x55\x73\x65\x72\x73']();}[_0x5ac8('0x25')](_0x4d9859,_0x3df6b0,_0x19a576,_0x201af7){return _leadingStorage['\x67\x65\x74\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x73'](_0x4d9859,_0x3df6b0,_0x19a576,_0x201af7);}[_0x5ac8('0x26')](_0xc8a30,_0x1f217a){return _leadingStorage[_0x5ac8('0x26')](_0xc8a30,_0x1f217a);}[_0x5ac8('0x27')](_0x5b1869){return _leadingStorage[_0x5ac8('0x27')](_0x5b1869);}['\x67\x65\x74\x55\x73\x65\x72\x42\x79\x45\x6d\x61\x69\x6c'](_0x623059){return _leadingStorage[_0x5ac8('0x28')](_0x623059);}['\x67\x65\x74\x55\x73\x65\x72\x42\x79\x54\x61\x67\x49\x64'](_0x19e226){return _leadingStorage[_0x5ac8('0x29')](_0x19e226);}[_0x5ac8('0x2a')](_0x5c0366){return _leadingStorage[_0x5ac8('0x2a')](_0x5c0366);}['\x64\x65\x6c\x65\x74\x65\x55\x73\x65\x72'](_0x4e70c9){_storages[_0x5ac8('0xb')](_0xea0480=>{_0xea0480[_0x5ac8('0x2b')](_0x4e70c9);});return _leadingStorage[_0x5ac8('0x2b')](_0x4e70c9);}[_0x5ac8('0x2c')](_0xba84eb){_storages['\x66\x6f\x72\x45\x61\x63\x68'](_0x49b94b=>{_0x49b94b['\x73\x61\x76\x65\x4c\x6f\x67'](_0xba84eb);});return _leadingStorage[_0x5ac8('0x2c')](_0xba84eb);}}module[_0x5ac8('0x2d')]=StorageFacade;